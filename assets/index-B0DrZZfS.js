import{z as l,E as c,I as xe,A as ve,T as dn,J as tl,h as Ol,a as br,B as de,G as ho,e as E,D as ll,K as Xa,s as ge,b as T,j as be,L as va,H as He,m as kt,t as W,M as et,F as _e,N as nl,q as tt,n as cn,w as ht,v as Mt,p as at,d as qe,r as El,O as _r,u as Ht,P as Sr,o as ct,Q as xr,R as z,c as fa,l as Qe,k as bo,S as kr,x as wr,U as ma,V as fe,W as Y,X as r,Y as _,Z as pe,_ as Je,$ as Vr,a0 as Ve,a1 as Cr,a2 as Pr,a3 as Zt,a4 as Ir,a5 as Tr,a6 as Oa,a7 as Ar,a8 as Er,a9 as $r}from"./vendor-By8l_6yR.js";import{p as te,g as ce,u as me,m as ke,a as gl,b as Br,s as ea,d as Nr,c as _o,n as vn,e as Pt,f as ye,h as fn,i as Fn,j as Fr,k as Lr,l as zr,o as Kt,q as Ja,r as Or,S as mn,t as bt,v as We,w as yt,x as je,y as nt,z as $e,A as Ct,B as So,C as xo,D as $t,E as rt,F as Rr,G as Dr,H as Mr,I as Ur,J as we,K as jr,L as pl,M as Qa,N as ut,O as Ln,P as zn,Q as ga,R as pa,T as Gr,U as Hr,V as ot,W as Za,X as ya,Y as gt,Z as Yt,_ as Zl,$ as qr,a0 as Ra,a1 as Da,a2 as On,a3 as ko,a4 as Ma,a5 as ta,a6 as Wr,a7 as Rn,a8 as Dn,a9 as Kr,aa as Yr,ab as Mn,ac as la,ad as Xr,ae as Jr,af as ol,ag as wo,ah as Vo,ai as aa,aj as Qr,ak as Zr,al as ei,am as Rl,an as ti,ao as li,ap as Co,aq as Xt,ar as Dl,as as gn,at as ai,au as Tl,av as en,aw as ni,ax as oi,ay as si,az as Un,aA as ri,aB as ii,aC as na,aD as Xl,aE as jn,aF as ui,aG as di,aH as Gn,aI as ci,aJ as vi,aK as fi}from"./vuetify-BZNNfmKg.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const pn="/Frontend/images/logos/logo-university.png",Ut=(e,n)=>{const t=e.__vccOpts||e;for(const[a,o]of n)t[a]=o;return t},Le=te({tag:{type:[String,Object,Function],default:"div"}},"tag"),mi=te({text:String,...ke(),...Le()},"VToolbarTitle"),Po=ce()({name:"VToolbarTitle",props:mi(),setup(e,n){let{slots:t}=n;return me(()=>{const a=!!(t.default||t.text||e.text);return l(e.tag,{class:ve(["v-toolbar-title",e.class]),style:xe(e.style)},{default:()=>[a&&c("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,t.default?.()])]})}),{}}}),gi=te({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function wt(e,n,t){return ce()({name:e,props:gi({mode:t,origin:n}),setup(a,o){let{slots:s}=o;const i={onBeforeEnter(u){a.origin&&(u.style.transformOrigin=a.origin)},onLeave(u){if(a.leaveAbsolute){const{offsetTop:d,offsetLeft:m,offsetWidth:v,offsetHeight:g}=u;u._transitionInitialStyles={position:u.style.position,top:u.style.top,left:u.style.left,width:u.style.width,height:u.style.height},u.style.position="absolute",u.style.top=`${d}px`,u.style.left=`${m}px`,u.style.width=`${v}px`,u.style.height=`${g}px`}a.hideOnLeave&&u.style.setProperty("display","none","important")},onAfterLeave(u){if(a.leaveAbsolute&&u?._transitionInitialStyles){const{position:d,top:m,left:v,width:g,height:p}=u._transitionInitialStyles;delete u._transitionInitialStyles,u.style.position=d||"",u.style.top=m||"",u.style.left=v||"",u.style.width=g||"",u.style.height=p||""}}};return()=>{const u=a.group?dn:tl;return Ol(u,{name:a.disabled?"":e,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:i},s.default)}}})}function Io(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ce()({name:e,props:{mode:{type:String,default:t},disabled:Boolean,group:Boolean},setup(a,o){let{slots:s}=o;const i=a.group?dn:tl;return()=>Ol(i,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:n},s.default)}})}function To(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=br(`offset-${t}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[t]:i.style[t]}},onEnter(i){const u=i._initialStyle;if(!u)return;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const d=`${i[a]}px`;i.style[t]="0",i.offsetHeight,i.style.transition=u.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[t]=d})},onAfterEnter:s,onEnterCancelled:s,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[t]:i.style[t]},i.style.overflow="hidden",i.style[t]=`${i[a]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[t]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(i){e&&i._parent&&i._parent.classList.remove(e),s(i)}function s(i){if(!i._initialStyle)return;const u=i._initialStyle[t];i.style.overflow=i._initialStyle.overflow,u!=null&&(i.style[t]=u),delete i._initialStyle}}const pi=te({target:[Object,Array]},"v-dialog-transition"),Ua=new WeakMap,yn=ce()({name:"VDialogTransition",props:pi(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,s){await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),o.style.visibility="";const i=qn(e.target,o),{x:u,y:d,sx:m,sy:v,speed:g}=i;Ua.set(o,i);const p=gl(o,[{transform:`translate(${u}px, ${d}px) scale(${m}, ${v})`,opacity:0},{}],{duration:225*g,easing:Nr});Hn(o)?.forEach(f=>{gl(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*g,easing:ea})}),p.finished.then(()=>s())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,s){await new Promise(f=>requestAnimationFrame(f));let i;!Ua.has(o)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?i=qn(e.target,o):i=Ua.get(o);const{x:u,y:d,sx:m,sy:v,speed:g}=i;gl(o,[{},{transform:`translate(${u}px, ${d}px) scale(${m}, ${v})`,opacity:0}],{duration:125*g,easing:Br}).finished.then(()=>s()),Hn(o)?.forEach(f=>{gl(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*g,easing:ea})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>e.target?l(tl,de({name:"dialog-transition"},a,{css:!1}),t):l(tl,{name:"dialog-transition"},t)}});function Hn(e){const n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return n&&[...n]}function qn(e,n){const t=_o(e),a=vn(n),[o,s]=getComputedStyle(n).transformOrigin.split(" ").map(w=>parseFloat(w)),[i,u]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=t.left+t.width/2;i==="left"||u==="left"?d-=t.width/2:(i==="right"||u==="right")&&(d+=t.width/2);let m=t.top+t.height/2;i==="top"||u==="top"?m-=t.height/2:(i==="bottom"||u==="bottom")&&(m+=t.height/2);const v=t.width/a.width,g=t.height/a.height,p=Math.max(1,v,g),f=v/p||0,b=g/p||0,x=a.width*a.height/(window.innerWidth*window.innerHeight),h=x>.12?Math.min(1.5,(x-.12)*10+1):1;return{x:d-(o+a.left),y:m-(s+a.top),sx:f,sy:b,speed:h}}wt("fab-transition","center center","out-in");wt("dialog-bottom-transition");wt("dialog-top-transition");const yl=wt("fade-transition"),yi=wt("scale-transition");wt("scroll-x-transition");wt("scroll-x-reverse-transition");wt("scroll-y-transition");wt("scroll-y-reverse-transition");wt("slide-x-transition");wt("slide-x-reverse-transition");const Ao=wt("slide-y-transition");wt("slide-y-reverse-transition");const hn=Io("expand-transition",To()),Eo=Io("expand-x-transition",To("",!0)),hi=te({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Oe=ce(!1)({name:"VDefaultsProvider",props:hi(),setup(e,n){let{slots:t}=n;const{defaults:a,disabled:o,reset:s,root:i,scoped:u}=ho(e);return Pt(a,{reset:s,root:i,scoped:u,disabled:o}),()=>t.default?.()}}),It=te({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Tt(e){return{dimensionStyles:E(()=>{const t={},a=ye(e.height),o=ye(e.maxHeight),s=ye(e.maxWidth),i=ye(e.minHeight),u=ye(e.minWidth),d=ye(e.width);return a!=null&&(t.height=a),o!=null&&(t.maxHeight=o),s!=null&&(t.maxWidth=s),i!=null&&(t.minHeight=i),u!=null&&(t.minWidth=u),d!=null&&(t.width=d),t})}}function bi(e){return{aspectStyles:E(()=>{const n=Number(e.aspectRatio);return n?{paddingBottom:String(1/n*100)+"%"}:void 0})}}const $o=te({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...ke(),...It()},"VResponsive"),Wn=ce()({name:"VResponsive",props:$o(),setup(e,n){let{slots:t}=n;const{aspectStyles:a}=bi(e),{dimensionStyles:o}=Tt(e);return me(()=>c("div",{class:ve(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:xe([o.value,e.style])},[c("div",{class:"v-responsive__sizer",style:xe(a.value)},null),t.additional?.(),t.default&&c("div",{class:ve(["v-responsive__content",e.contentClass])},[t.default()])])),{}}});function bn(e){return fn(()=>{const n=ll(e),t=[],a={};if(n.background)if(Fn(n.background)){if(a.backgroundColor=n.background,!n.text&&Fr(n.background)){const o=Lr(n.background);if(o.a==null||o.a===1){const s=zr(o);a.color=s,a.caretColor=s}}}else t.push(`bg-${n.background}`);return n.text&&(Fn(n.text)?(a.color=n.text,a.caretColor=n.text):t.push(`text-${n.text}`)),{colorClasses:t,colorStyles:a}})}function Bt(e){const{colorClasses:n,colorStyles:t}=bn(()=>({text:ll(e)}));return{textColorClasses:n,textColorStyles:t}}function it(e){const{colorClasses:n,colorStyles:t}=bn(()=>({background:ll(e)}));return{backgroundColorClasses:n,backgroundColorStyles:t}}const st=te({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function vt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return{roundedClasses:E(()=>{const a=Xa(e)?e.value:e.rounded,o=Xa(e)?e.value:e.tile,s=[];if(a===!0||a==="")s.push(`${n}--rounded`);else if(typeof a=="string"||a===0)for(const i of String(a).split(" "))s.push(`rounded-${i}`);else(o||a===!1)&&s.push("rounded-0");return s})}}const Ml=te({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),el=(e,n)=>{let{slots:t}=n;const{transition:a,disabled:o,group:s,...i}=e,{component:u=s?dn:tl,...d}=Ja(a)?a:{};let m;return Ja(a)?m=de(d,Or({disabled:o,group:s}),i):m=de({name:o||!a?"":a},i),Ol(u,m,t)};function _i(e,n){if(!mn)return;const t=n.modifiers||{},a=n.value,{handler:o,options:s}=typeof a=="object"?a:{handler:a,options:{}},i=new IntersectionObserver(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;const m=e._observe?.[n.instance.$.uid];if(!m)return;const v=u.some(g=>g.isIntersecting);o&&(!t.quiet||m.init)&&(!t.once||v||m.init)&&o(v,u,d),v&&t.once?Bo(e,n):m.init=!0},s);e._observe=Object(e._observe),e._observe[n.instance.$.uid]={init:!1,observer:i},i.observe(e)}function Bo(e,n){const t=e._observe?.[n.instance.$.uid];t&&(t.observer.unobserve(e),delete e._observe[n.instance.$.uid])}const hl={mounted:_i,unmounted:Bo},Si=te({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...$o(),...ke(),...st(),...Ml()},"VImg"),Ul=ce()({name:"VImg",directives:{vIntersect:hl},props:Si(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,n){let{emit:t,slots:a}=n;const{backgroundColorClasses:o,backgroundColorStyles:s}=it(()=>e.color),{roundedClasses:i}=vt(e),u=bt("VImg"),d=ge(""),m=T(),v=ge(e.eager?"loading":"idle"),g=ge(),p=ge(),f=E(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),b=E(()=>f.value.aspect||g.value/p.value||0);be(()=>e.src,()=>{x(v.value!=="idle")}),be(b,(H,J)=>{!H&&J&&m.value&&j(m.value)}),va(()=>x());function x(H){if(!(e.eager&&H)&&!(mn&&!H&&!e.eager)){if(v.value="loading",f.value.lazySrc){const J=new Image;J.src=f.value.lazySrc,j(J,null)}f.value.src&&He(()=>{t("loadstart",m.value?.currentSrc||f.value.src),setTimeout(()=>{if(!u.isUnmounted)if(m.value?.complete){if(m.value.naturalWidth||w(),v.value==="error")return;b.value||j(m.value,null),v.value==="loading"&&h()}else b.value||j(m.value),C()})})}}function h(){u.isUnmounted||(C(),j(m.value),v.value="loaded",t("load",m.value?.currentSrc||f.value.src))}function w(){u.isUnmounted||(v.value="error",t("error",m.value?.currentSrc||f.value.src))}function C(){const H=m.value;H&&(d.value=H.currentSrc||H.src)}let L=-1;kt(()=>{clearTimeout(L)});function j(H){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const ae=()=>{if(clearTimeout(L),u.isUnmounted)return;const{naturalHeight:oe,naturalWidth:le}=H;oe||le?(g.value=le,p.value=oe):!H.complete&&v.value==="loading"&&J!=null?L=window.setTimeout(ae,J):(H.currentSrc.endsWith(".svg")||H.currentSrc.startsWith("data:image/svg+xml"))&&(g.value=1,p.value=1)};ae()}const N=W(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),P=()=>{if(!f.value.src||v.value==="idle")return null;const H=c("img",{class:ve(["v-img__img",N.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:f.value.src,srcset:f.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:m,onLoad:h,onError:w},null),J=a.sources?.();return l(el,{transition:e.transition,appear:!0},{default:()=>[et(J?c("picture",{class:"v-img__picture"},[J,H]):H,[[nl,v.value==="loaded"]])]})},k=()=>l(el,{transition:e.transition},{default:()=>[f.value.lazySrc&&v.value!=="loaded"&&c("img",{class:ve(["v-img__img","v-img__img--preload",N.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:f.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),B=()=>a.placeholder?l(el,{transition:e.transition,appear:!0},{default:()=>[(v.value==="loading"||v.value==="error"&&!a.error)&&c("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,q=()=>a.error?l(el,{transition:e.transition,appear:!0},{default:()=>[v.value==="error"&&c("div",{class:"v-img__error"},[a.error()])]}):null,G=()=>e.gradient?c("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,D=ge(!1);{const H=be(b,J=>{J&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{D.value=!0})}),H())})}return me(()=>{const H=Wn.filterProps(e);return et(l(Wn,de({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!D.value},o.value,i.value,e.class],style:[{width:ye(e.width==="auto"?g.value:e.width)},s.value,e.style]},H,{aspectRatio:b.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>c(_e,null,[l(P,null,null),l(k,null,null),l(G,null,null),l(B,null,null),l(q,null,null)]),default:a.default}),[[hl,{handler:x,options:e.options},null,{once:!0}]])}),{currentSrc:d,image:m,state:v,naturalWidth:g,naturalHeight:p}}}),jt=te({border:[Boolean,Number,String]},"border");function Jt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return{borderClasses:E(()=>{const a=e.border;return a===!0||a===""?`${n}--border`:typeof a=="string"||a===0?String(a).split(" ").map(o=>`border-${o}`):[]})}}const At=te({elevation:{type:[Number,String],validator(e){const n=parseInt(e);return!isNaN(n)&&n>=0&&n<=24}}},"elevation");function Ft(e){return{elevationClasses:W(()=>{const t=Xa(e)?e.value:e.elevation;return t==null?[]:[`elevation-${t}`]})}}const xi=[null,"prominent","default","comfortable","compact"],No=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>xi.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...jt(),...ke(),...At(),...st(),...Le({tag:"header"}),...je()},"VToolbar"),Kn=ce()({name:"VToolbar",props:No(),setup(e,n){let{slots:t}=n;const{backgroundColorClasses:a,backgroundColorStyles:o}=it(()=>e.color),{borderClasses:s}=Jt(e),{elevationClasses:i}=Ft(e),{roundedClasses:u}=vt(e),{themeClasses:d}=We(e),{rtlClasses:m}=yt(),v=ge(!!(e.extended||t.extension?.())),g=E(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=E(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Pt({VBtn:{variant:"text"}}),me(()=>{const f=!!(e.title||t.title),b=!!(t.image||e.image),x=t.extension?.();return v.value=!!(e.extended||x),l(e.tag,{class:ve(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,s.value,i.value,u.value,d.value,m.value,e.class]),style:xe([o.value,e.style])},{default:()=>[b&&c("div",{key:"image",class:"v-toolbar__image"},[t.image?l(Oe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(Ul,{key:"image-img",cover:!0,src:e.image},null)]),l(Oe,{defaults:{VTabs:{height:ye(g.value)}}},{default:()=>[c("div",{class:"v-toolbar__content",style:{height:ye(g.value)}},[t.prepend&&c("div",{class:"v-toolbar__prepend"},[t.prepend?.()]),f&&l(Po,{key:"title",text:e.title},{text:t.title}),t.default?.(),t.append&&c("div",{class:"v-toolbar__append"},[t.append?.()])])]}),l(Oe,{defaults:{VTabs:{height:ye(p.value)}}},{default:()=>[l(hn,null,{default:()=>[v.value&&c("div",{class:"v-toolbar__extension",style:{height:ye(p.value)}},[x])]})]})]})}),{contentHeight:g,extensionHeight:p}}}),ki=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function wi(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let a=0,o=0;const s=T(null),i=ge(0),u=ge(0),d=ge(0),m=ge(!1),v=ge(!1),g=E(()=>Number(e.scrollThreshold)),p=E(()=>nt((g.value-i.value)/g.value||0)),f=()=>{const b=s.value;if(!b||t&&!t.value)return;a=i.value,i.value="window"in b?b.pageYOffset:b.scrollTop;const x=b instanceof Window?document.documentElement.scrollHeight:b.scrollHeight;if(o!==x){o=x;return}v.value=i.value<a,d.value=Math.abs(i.value-g.value)};return be(v,()=>{u.value=u.value||i.value}),be(m,()=>{u.value=0}),tt(()=>{be(()=>e.scrollTarget,b=>{const x=b?document.querySelector(b):window;x&&x!==s.value&&(s.value?.removeEventListener("scroll",f),s.value=x,s.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),kt(()=>{s.value?.removeEventListener("scroll",f)}),t&&be(t,f,{immediate:!0}),{scrollThreshold:g,currentScroll:i,currentThreshold:d,isScrollActive:m,scrollRatio:p,isScrollingUp:v,savedScroll:u}}function ha(){const e=ge(!1);return tt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:W(()=>e.value?void 0:{transition:"none !important"}),isBooted:cn(e)}}const Vi=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...No(),...xo(),...ki(),height:{type:[Number,String],default:64}},"VAppBar"),Ci=ce()({name:"VAppBar",props:Vi(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=T(),o=$e(e,"modelValue"),s=E(()=>{const C=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:C.has("hide"),fullyHide:C.has("fully-hide"),inverted:C.has("inverted"),collapse:C.has("collapse"),elevate:C.has("elevate"),fadeImage:C.has("fade-image")}}),i=E(()=>{const C=s.value;return C.hide||C.fullyHide||C.inverted||C.collapse||C.elevate||C.fadeImage||!o.value}),{currentScroll:u,scrollThreshold:d,isScrollingUp:m,scrollRatio:v}=wi(e,{canScroll:i}),g=W(()=>s.value.hide||s.value.fullyHide),p=E(()=>e.collapse||s.value.collapse&&(s.value.inverted?v.value>0:v.value===0)),f=E(()=>e.flat||s.value.fullyHide&&!o.value||s.value.elevate&&(s.value.inverted?u.value>0:u.value===0)),b=E(()=>s.value.fadeImage?s.value.inverted?1-v.value:v.value:void 0),x=E(()=>{if(s.value.hide&&s.value.inverted)return 0;const C=a.value?.contentHeight??0,L=a.value?.extensionHeight??0;return g.value?u.value<d.value||s.value.fullyHide?C+L:C:C+L});Ct(()=>!!e.scrollBehavior,()=>{ht(()=>{g.value?s.value.inverted?o.value=u.value>d.value:o.value=m.value||u.value<d.value:o.value=!0})});const{ssrBootStyles:h}=ha(),{layoutItemStyles:w}=So({id:e.name,order:E(()=>parseInt(e.order,10)),position:W(()=>e.location),layoutSize:x,elementSize:ge(void 0),active:o,absolute:W(()=>e.absolute)});return me(()=>{const C=Kn.filterProps(e);return l(Kn,de({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":b.value,height:void 0,...h.value},e.style]},C,{collapse:p.value,flat:f.value}),t)}),{}}}),Pi=[null,"default","comfortable","compact"],Vt=te({density:{type:String,default:"default",validator:e=>Pi.includes(e)}},"density");function Lt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return{densityClasses:W(()=>`${n}--density-${e.density}`)}}const Ii=["elevated","flat","tonal","outlined","text","plain"];function dl(e,n){return c(_e,null,[e&&c("span",{key:"overlay",class:ve(`${n}__overlay`)},null),c("span",{key:"underlay",class:ve(`${n}__underlay`)},null)])}const zt=te({color:String,variant:{type:String,default:"elevated",validator:e=>Ii.includes(e)}},"variant");function cl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();const t=W(()=>{const{variant:s}=ll(e);return`${n}--variant-${s}`}),{colorClasses:a,colorStyles:o}=bn(()=>{const{variant:s,color:i}=ll(e);return{[["elevated","flat"].includes(s)?"background":"text"]:i}});return{colorClasses:a,colorStyles:o,variantClasses:t}}const Fo=te({baseColor:String,divided:Boolean,...jt(),...ke(),...Vt(),...At(),...st(),...Le(),...je(),...zt()},"VBtnGroup"),Yn=ce()({name:"VBtnGroup",props:Fo(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=We(e),{densityClasses:o}=Lt(e),{borderClasses:s}=Jt(e),{elevationClasses:i}=Ft(e),{roundedClasses:u}=vt(e);Pt({VBtn:{height:"auto",baseColor:W(()=>e.baseColor),color:W(()=>e.color),density:W(()=>e.density),flat:!0,variant:W(()=>e.variant)}}),me(()=>l(e.tag,{class:ve(["v-btn-group",{"v-btn-group--divided":e.divided},a.value,s.value,o.value,i.value,u.value,e.class]),style:xe(e.style)},t))}}),ba=te({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),_n=te({value:null,disabled:Boolean,selectedClass:String},"group-item");function Sn(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=bt("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=Mt();at(Symbol.for(`${n.description}:id`),o);const s=qe(n,null);if(!s){if(!t)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${n.description}`)}const i=W(()=>e.value),u=E(()=>!!(s.disabled.value||e.disabled));s.register({id:o,value:i,disabled:u},a),kt(()=>{s.unregister(o)});const d=E(()=>s.isSelected(o)),m=E(()=>s.items.value[0].id===o),v=E(()=>s.items.value[s.items.value.length-1].id===o),g=E(()=>d.value&&[s.selectedClass.value,e.selectedClass]);return be(d,p=>{a.emit("group:selected",{value:p})},{flush:"sync"}),{id:o,isSelected:d,isFirst:m,isLast:v,toggle:()=>s.select(o,!d.value),select:p=>s.select(o,p),selectedClass:g,value:i,disabled:u,group:s}}function _a(e,n){let t=!1;const a=El([]),o=$e(e,"modelValue",[],p=>p==null?[]:Lo(a,rt(p)),p=>{const f=Ai(a,p);return e.multiple?f:f[0]}),s=bt("useGroup");function i(p,f){const b=p,x=Symbol.for(`${n.description}:id`),w=Rr(x,s?.vnode).indexOf(f);Ht(b.value)==null&&(b.value=w,b.useIndexAsValue=!0),w>-1?a.splice(w,0,b):a.push(b)}function u(p){if(t)return;d();const f=a.findIndex(b=>b.id===p);a.splice(f,1)}function d(){const p=a.find(f=>!f.disabled);p&&e.mandatory==="force"&&!o.value.length&&(o.value=[p.id])}tt(()=>{d()}),kt(()=>{t=!0}),_r(()=>{for(let p=0;p<a.length;p++)a[p].useIndexAsValue&&(a[p].value=p)});function m(p,f){const b=a.find(x=>x.id===p);if(!(f&&b?.disabled))if(e.multiple){const x=o.value.slice(),h=x.findIndex(C=>C===p),w=~h;if(f=f??!w,w&&e.mandatory&&x.length<=1||!w&&e.max!=null&&x.length+1>e.max)return;h<0&&f?x.push(p):h>=0&&!f&&x.splice(h,1),o.value=x}else{const x=o.value.includes(p);if(e.mandatory&&x||!x&&!f)return;o.value=f??!x?[p]:[]}}function v(p){if(e.multiple,o.value.length){const f=o.value[0],b=a.findIndex(w=>w.id===f);let x=(b+p)%a.length,h=a[x];for(;h.disabled&&x!==b;)x=(x+p)%a.length,h=a[x];if(h.disabled)return;o.value=[a[x].id]}else{const f=a.find(b=>!b.disabled);f&&(o.value=[f.id])}}const g={register:i,unregister:u,selected:o,select:m,disabled:W(()=>e.disabled),prev:()=>v(a.length-1),next:()=>v(1),isSelected:p=>o.value.includes(p),selectedClass:W(()=>e.selectedClass),items:W(()=>a),getItemIndex:p=>Ti(a,p)};return at(n,g),g}function Ti(e,n){const t=Lo(e,[n]);return t.length?e.findIndex(a=>a.id===t[0]):-1}function Lo(e,n){const t=[];return n.forEach(a=>{const o=e.find(i=>$t(a,i.value)),s=e[a];o?.value!=null?t.push(o.id):s!=null&&t.push(s.id)}),t}function Ai(e,n){const t=[];return n.forEach(a=>{const o=e.findIndex(s=>s.id===a);if(~o){const s=e[o];t.push(s.value!=null?s.value:o)}}),t}const zo=Symbol.for("vuetify:v-btn-toggle"),Ei=te({...Fo(),...ba()},"VBtnToggle");ce()({name:"VBtnToggle",props:Ei(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isSelected:a,next:o,prev:s,select:i,selected:u}=_a(e,zo);return me(()=>{const d=Yn.filterProps(e);return l(Yn,de({class:["v-btn-toggle",e.class]},d,{style:e.style}),{default:()=>[t.default?.({isSelected:a,next:o,prev:s,select:i,selected:u})]})}),{next:o,prev:s,select:i}}});const $i=["x-small","small","default","large","x-large"],_l=te({size:{type:[String,Number],default:"default"}},"size");function jl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return fn(()=>{const t=e.size;let a,o;return Dr($i,t)?a=`${n}--size-${t}`:t&&(o={width:ye(t),height:ye(t)}),{sizeClasses:a,sizeStyles:o}})}const Bi=te({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:we,opacity:[String,Number],...ke(),..._l(),...Le({tag:"i"}),...je()},"VIcon"),X=ce()({name:"VIcon",props:Bi(),setup(e,n){let{attrs:t,slots:a}=n;const o=ge(),{themeClasses:s}=Mr(),{iconData:i}=Ur(()=>o.value||e.icon),{sizeClasses:u}=jl(e),{textColorClasses:d,textColorStyles:m}=Bt(()=>e.color);return me(()=>{const v=a.default?.();v&&(o.value=jr(v).filter(p=>p.type===Sr&&p.children&&typeof p.children=="string")[0]?.children);const g=!!(t.onClick||t.onClickOnce);return l(i.value.component,{tag:e.tag,icon:i.value.icon,class:ve(["v-icon","notranslate",s.value,u.value,d.value,{"v-icon--clickable":g,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:xe([{"--v-icon-opacity":e.opacity},u.value?void 0:{fontSize:ye(e.size),height:ye(e.size),width:ye(e.size)},m.value,e.style]),role:g?"button":void 0,"aria-hidden":!g,tabindex:g?e.disabled?-1:0:void 0},{default:()=>[v]})}),{}}});function Oo(e,n){const t=T(),a=ge(!1);if(mn){const o=new IntersectionObserver(s=>{a.value=!!s.find(i=>i.isIntersecting)},n);ct(()=>{o.disconnect()}),be(t,(s,i)=>{i&&(o.unobserve(i),a.value=!1),s&&o.observe(s)},{flush:"post"})}return{intersectionRef:t,isIntersecting:a}}const Ni=te({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ke(),..._l(),...Le({tag:"div"}),...je()},"VProgressCircular"),oa=ce()({name:"VProgressCircular",props:Ni(),setup(e,n){let{slots:t}=n;const a=20,o=2*Math.PI*a,s=T(),{themeClasses:i}=We(e),{sizeClasses:u,sizeStyles:d}=jl(e),{textColorClasses:m,textColorStyles:v}=Bt(()=>e.color),{textColorClasses:g,textColorStyles:p}=Bt(()=>e.bgColor),{intersectionRef:f,isIntersecting:b}=Oo(),{resizeRef:x,contentRect:h}=pl(),w=W(()=>nt(parseFloat(e.modelValue),0,100)),C=W(()=>Number(e.width)),L=W(()=>d.value?Number(e.size):h.value?h.value.width:Math.max(C.value,32)),j=W(()=>a/(1-C.value/L.value)*2),N=W(()=>C.value/L.value*j.value),P=W(()=>ye((100-w.value)/100*o));return ht(()=>{f.value=s.value,x.value=s.value}),me(()=>l(e.tag,{ref:s,class:ve(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":b.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},i.value,u.value,m.value,e.class]),style:xe([d.value,v.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:w.value},{default:()=>[c("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${j.value} ${j.value}`},[c("circle",{class:ve(["v-progress-circular__underlay",g.value]),style:xe(p.value),fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":N.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),c("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":N.value,"stroke-dasharray":o,"stroke-dashoffset":P.value},null)]),t.default&&c("div",{class:"v-progress-circular__content"},[t.default({value:w.value})])]})),{}}}),Xn={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Gl=te({location:String},"location");function Sa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=yt();return{locationStyles:E(()=>{if(!e.location)return{};const{side:s,align:i}=Qa(e.location.split(" ").length>1?e.location:`${e.location} center`,a.value);function u(m){return t?t(m):0}const d={};return s!=="center"&&(n?d[Xn[s]]=`calc(100% - ${u(s)}px)`:d[s]=0),i!=="center"?n?d[Xn[i]]=`calc(100% - ${u(i)}px)`:d[i]=0:(s==="center"?d.top=d.left="50%":d[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",d.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),d})}}const Fi=te({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ke(),...Gl({location:"top"}),...st(),...Le(),...je()},"VProgressLinear"),xn=ce()({name:"VProgressLinear",props:Fi(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"modelValue"),{isRtl:o,rtlClasses:s}=yt(),{themeClasses:i}=We(e),{locationStyles:u}=Sa(e),{textColorClasses:d,textColorStyles:m}=Bt(()=>e.color),{backgroundColorClasses:v,backgroundColorStyles:g}=it(()=>e.bgColor||e.color),{backgroundColorClasses:p,backgroundColorStyles:f}=it(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:b,backgroundColorStyles:x}=it(()=>e.color),{roundedClasses:h}=vt(e),{intersectionRef:w,isIntersecting:C}=Oo(),L=E(()=>parseFloat(e.max)),j=E(()=>parseFloat(e.height)),N=E(()=>nt(parseFloat(e.bufferValue)/L.value*100,0,100)),P=E(()=>nt(parseFloat(a.value)/L.value*100,0,100)),k=E(()=>o.value!==e.reverse),B=E(()=>e.indeterminate?"fade-transition":"slide-x-transition"),q=ut&&window.matchMedia?.("(forced-colors: active)").matches;function G(D){if(!w.value)return;const{left:H,right:J,width:ae}=w.value.getBoundingClientRect(),oe=k.value?ae-D.clientX+(J-ae):D.clientX-H;a.value=Math.round(oe/ae*L.value)}return me(()=>l(e.tag,{ref:w,class:ve(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&C.value,"v-progress-linear--reverse":k.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},h.value,i.value,s.value,e.class]),style:xe([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?ye(j.value):0,"--v-progress-linear-height":ye(j.value),...e.absolute?u.value:{}},e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(a.value),L.value),onClick:e.clickable&&G},{default:()=>[e.stream&&c("div",{key:"stream",class:ve(["v-progress-linear__stream",d.value]),style:{...m.value,[k.value?"left":"right"]:ye(-j.value),borderTop:`${ye(j.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${ye(j.value/4)})`,width:ye(100-N.value,"%"),"--v-progress-linear-stream-to":ye(j.value*(k.value?1:-1))}},null),c("div",{class:ve(["v-progress-linear__background",q?void 0:v.value]),style:xe([g.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),c("div",{class:ve(["v-progress-linear__buffer",q?void 0:p.value]),style:xe([f.value,{opacity:parseFloat(e.bufferOpacity),width:ye(N.value,"%")}])},null),l(tl,{name:B.value},{default:()=>[e.indeterminate?c("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>c("div",{key:D,class:ve(["v-progress-linear__indeterminate",D,q?void 0:b.value]),style:xe(x.value)},null))]):c("div",{class:ve(["v-progress-linear__determinate",q?void 0:b.value]),style:xe([x.value,{width:ye(P.value,"%")}])},null)]}),t.default&&c("div",{class:"v-progress-linear__content"},[t.default({value:P.value,buffer:N.value})])]})),{}}}),xa=te({loading:[Boolean,String]},"loader");function ka(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return{loaderClasses:W(()=>({[`${n}--loading`]:e.loading}))}}function kn(e,n){let{slots:t}=n;return c("div",{class:ve(`${e.name}__loader`)},[t.default?.({color:e.color,isActive:e.active})||l(xn,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const Li=["static","relative","fixed","absolute","sticky"],wa=te({position:{type:String,validator:e=>Li.includes(e)}},"position");function Va(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();return{positionClasses:W(()=>e.position?`${n}--${e.position}`:void 0)}}function zi(){const e=bt("useRoute");return E(()=>e?.proxy?.$route)}function Ro(){return bt("useRouter")?.proxy?.$router}function Ca(e,n){const t=xr("RouterLink"),a=W(()=>!!(e.href||e.to)),o=E(()=>a?.value||Ln(n,"click")||Ln(e,"click"));if(typeof t=="string"||!("useLink"in t)){const v=W(()=>e.href);return{isLink:a,isClickable:o,href:v,linkProps:El({href:v})}}const s=t.useLink({to:W(()=>e.to||""),replace:W(()=>e.replace)}),i=E(()=>e.to?s:void 0),u=zi(),d=E(()=>i.value?e.exact?u.value?i.value.isExactActive?.value&&$t(i.value.route.value.query,u.value.query):i.value.isExactActive?.value??!1:i.value.isActive?.value??!1:!1),m=E(()=>e.to?i.value?.route.value.href:e.href);return{isLink:a,isClickable:o,isActive:d,route:i.value?.route,navigate:i.value?.navigate,href:m,linkProps:El({href:m,"aria-current":W(()=>d.value?"page":void 0)})}}const Pa=te({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let ja=!1;function Oi(e,n){let t=!1,a,o;ut&&e?.beforeEach&&(He(()=>{window.addEventListener("popstate",s),a=e.beforeEach((i,u,d)=>{ja?t?n(d):d():setTimeout(()=>t?n(d):d()),ja=!0}),o=e?.afterEach(()=>{ja=!1})}),ct(()=>{window.removeEventListener("popstate",s),a?.(),o?.()}));function s(i){i.state?.replaced||(t=!0,setTimeout(()=>t=!1))}}function Ri(e,n){be(()=>e.isActive?.value,t=>{e.isLink.value&&t!=null&&n&&He(()=>{n(t)})},{immediate:!0})}const tn=Symbol("rippleStop"),Di=80;function Jn(e,n){e.style.transform=n,e.style.webkitTransform=n}function ln(e){return e.constructor.name==="TouchEvent"}function Do(e){return e.constructor.name==="KeyboardEvent"}const Mi=function(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,o=0;if(!Do(e)){const g=n.getBoundingClientRect(),p=ln(e)?e.touches[e.touches.length-1]:e;a=p.clientX-g.left,o=p.clientY-g.top}let s=0,i=.3;n._ripple?.circle?(i=.15,s=n.clientWidth/2,s=t.center?s:s+Math.sqrt((a-s)**2+(o-s)**2)/4):s=Math.sqrt(n.clientWidth**2+n.clientHeight**2)/2;const u=`${(n.clientWidth-s*2)/2}px`,d=`${(n.clientHeight-s*2)/2}px`,m=t.center?u:`${a-s}px`,v=t.center?d:`${o-s}px`;return{radius:s,scale:i,x:m,y:v,centerX:u,centerY:d}},sa={show(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n?._ripple?.enabled)return;const a=document.createElement("span"),o=document.createElement("span");a.appendChild(o),a.className="v-ripple__container",t.class&&(a.className+=` ${t.class}`);const{radius:s,scale:i,x:u,y:d,centerX:m,centerY:v}=Mi(e,n,t),g=`${s*2}px`;o.className="v-ripple__animation",o.style.width=g,o.style.height=g,n.appendChild(a);const p=window.getComputedStyle(n);p&&p.position==="static"&&(n.style.position="relative",n.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),Jn(o,`translate(${u}, ${d}) scale3d(${i},${i},${i})`),o.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),Jn(o,`translate(${m}, ${v}) scale3d(1,1,1)`)})})},hide(e){if(!e?._ripple?.enabled)return;const n=e.getElementsByClassName("v-ripple__animation");if(n.length===0)return;const t=n[n.length-1];if(t.dataset.isHiding)return;t.dataset.isHiding="true";const a=performance.now()-Number(t.dataset.activated),o=Math.max(250-a,0);setTimeout(()=>{t.classList.remove("v-ripple__animation--in"),t.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),t.parentNode?.parentNode===e&&e.removeChild(t.parentNode)},300)},o)}};function Mo(e){return typeof e>"u"||!!e}function $l(e){const n={},t=e.currentTarget;if(!(!t?._ripple||t._ripple.touched||e[tn])){if(e[tn]=!0,ln(e))t._ripple.touched=!0,t._ripple.isTouch=!0;else if(t._ripple.isTouch)return;if(n.center=t._ripple.centered||Do(e),t._ripple.class&&(n.class=t._ripple.class),ln(e)){if(t._ripple.showTimerCommit)return;t._ripple.showTimerCommit=()=>{sa.show(e,t,n)},t._ripple.showTimer=window.setTimeout(()=>{t?._ripple?.showTimerCommit&&(t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null)},Di)}else sa.show(e,t,n)}}function Qn(e){e[tn]=!0}function St(e){const n=e.currentTarget;if(n?._ripple){if(window.clearTimeout(n._ripple.showTimer),e.type==="touchend"&&n._ripple.showTimerCommit){n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null,n._ripple.showTimer=window.setTimeout(()=>{St(e)});return}window.setTimeout(()=>{n._ripple&&(n._ripple.touched=!1)}),sa.hide(n)}}function Uo(e){const n=e.currentTarget;n?._ripple&&(n._ripple.showTimerCommit&&(n._ripple.showTimerCommit=null),window.clearTimeout(n._ripple.showTimer))}let Bl=!1;function jo(e){!Bl&&(e.keyCode===zn.enter||e.keyCode===zn.space)&&(Bl=!0,$l(e))}function Go(e){Bl=!1,St(e)}function Ho(e){Bl&&(Bl=!1,St(e))}function qo(e,n,t){const{value:a,modifiers:o}=n,s=Mo(a);if(s||sa.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=o.center,e._ripple.circle=o.circle,Ja(a)&&a.class&&(e._ripple.class=a.class),s&&!t){if(o.stop){e.addEventListener("touchstart",Qn,{passive:!0}),e.addEventListener("mousedown",Qn);return}e.addEventListener("touchstart",$l,{passive:!0}),e.addEventListener("touchend",St,{passive:!0}),e.addEventListener("touchmove",Uo,{passive:!0}),e.addEventListener("touchcancel",St),e.addEventListener("mousedown",$l),e.addEventListener("mouseup",St),e.addEventListener("mouseleave",St),e.addEventListener("keydown",jo),e.addEventListener("keyup",Go),e.addEventListener("blur",Ho),e.addEventListener("dragstart",St,{passive:!0})}else!s&&t&&Wo(e)}function Wo(e){e.removeEventListener("mousedown",$l),e.removeEventListener("touchstart",$l),e.removeEventListener("touchend",St),e.removeEventListener("touchmove",Uo),e.removeEventListener("touchcancel",St),e.removeEventListener("mouseup",St),e.removeEventListener("mouseleave",St),e.removeEventListener("keydown",jo),e.removeEventListener("keyup",Go),e.removeEventListener("dragstart",St),e.removeEventListener("blur",Ho)}function Ui(e,n){qo(e,n,!1)}function ji(e){delete e._ripple,Wo(e)}function Gi(e,n){if(n.value===n.oldValue)return;const t=Mo(n.oldValue);qo(e,n,t)}const xt={mounted:Ui,unmounted:ji,updated:Gi},Hi=te({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:zo},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:we,appendIcon:we,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...jt(),...ke(),...Vt(),...It(),...At(),..._n(),...xa(),...Gl(),...wa(),...st(),...Pa(),..._l(),...Le({tag:"button"}),...je(),...zt({variant:"elevated"})},"VBtn"),re=ce()({name:"VBtn",props:Hi(),emits:{"group:selected":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:o}=We(e),{borderClasses:s}=Jt(e),{densityClasses:i}=Lt(e),{dimensionStyles:u}=Tt(e),{elevationClasses:d}=Ft(e),{loaderClasses:m}=ka(e),{locationStyles:v}=Sa(e),{positionClasses:g}=Va(e),{roundedClasses:p}=vt(e),{sizeClasses:f,sizeStyles:b}=jl(e),x=Sn(e,e.symbol,!1),h=Ca(e,t),w=E(()=>e.active!==void 0?e.active:h.isLink.value?h.isActive?.value:x?.isSelected.value),C=W(()=>w.value?e.activeColor??e.color:e.color),L=E(()=>({color:x?.isSelected.value&&(!h.isLink.value||h.isActive?.value)||!x||h.isActive?.value?C.value??e.baseColor:e.baseColor,variant:e.variant})),{colorClasses:j,colorStyles:N,variantClasses:P}=cl(L),k=E(()=>x?.disabled.value||e.disabled),B=W(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),q=E(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function G(D){k.value||h.isLink.value&&(D.metaKey||D.ctrlKey||D.shiftKey||D.button!==0||t.target==="_blank")||(h.navigate?.(D),x?.toggle())}return Ri(h,x?.select),me(()=>{const D=h.isLink.value?"a":e.tag,H=!!(e.prependIcon||a.prepend),J=!!(e.appendIcon||a.append),ae=!!(e.icon&&e.icon!==!0);return et(l(D,de({type:D==="a"?void 0:"button",class:["v-btn",x?.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":k.value,"v-btn--elevated":B.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},o.value,s.value,j.value,i.value,d.value,m.value,g.value,p.value,f.value,P.value,e.class],style:[N.value,u.value,v.value,b.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:k.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:G,value:q.value},h.linkProps),{default:()=>[dl(!0,"v-btn"),!e.icon&&H&&c("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?l(Oe,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},a.prepend):l(X,{key:"prepend-icon",icon:e.prependIcon},null)]),c("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&ae?l(X,{key:"content-icon",icon:e.icon},null):l(Oe,{key:"content-defaults",disabled:!ae,defaults:{VIcon:{icon:e.icon}}},{default:()=>[a.default?.()??z(e.text)]})]),!e.icon&&J&&c("span",{key:"append",class:"v-btn__append"},[a.append?l(Oe,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},a.append):l(X,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&c("span",{key:"loader",class:"v-btn__loader"},[a.loader?.()??l(oa,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}),[[xt,!k.value&&e.ripple,"",{center:!!e.icon}]])}),{group:x}}}),qi=te({start:Boolean,end:Boolean,icon:we,image:String,text:String,...jt(),...ke(),...Vt(),...st(),..._l(),...Le(),...je(),...zt({variant:"flat"})},"VAvatar"),dt=ce()({name:"VAvatar",props:qi(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=We(e),{borderClasses:o}=Jt(e),{colorClasses:s,colorStyles:i,variantClasses:u}=cl(e),{densityClasses:d}=Lt(e),{roundedClasses:m}=vt(e),{sizeClasses:v,sizeStyles:g}=jl(e);return me(()=>l(e.tag,{class:ve(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,o.value,s.value,d.value,m.value,v.value,u.value,e.class]),style:xe([i.value,g.value,e.style])},{default:()=>[t.default?l(Oe,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[t.default()]}):e.image?l(Ul,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?l(X,{key:"icon",icon:e.icon},null):e.text,dl(!1,"v-avatar")]})),{}}}),Wi=te({fluid:{type:Boolean,default:!1},...ke(),...It(),...Le()},"VContainer"),sl=ce()({name:"VContainer",props:Wi(),setup(e,n){let{slots:t}=n;const{rtlClasses:a}=yt(),{dimensionStyles:o}=Tt(e);return me(()=>l(e.tag,{class:ve(["v-container",{"v-container--fluid":e.fluid},a.value,e.class]),style:xe([o.value,e.style])},t)),{}}}),Ko=ga.reduce((e,n)=>(e[n]={type:[Boolean,String,Number],default:!1},e),{}),Yo=ga.reduce((e,n)=>{const t="offset"+fa(n);return e[t]={type:[String,Number],default:null},e},{}),Xo=ga.reduce((e,n)=>{const t="order"+fa(n);return e[t]={type:[String,Number],default:null},e},{}),Zn={col:Object.keys(Ko),offset:Object.keys(Yo),order:Object.keys(Xo)};function Ki(e,n,t){let a=e;if(!(t==null||t===!1)){if(n){const o=n.replace(e,"");a+=`-${o}`}return e==="col"&&(a="v-"+a),e==="col"&&(t===""||t===!0)||(a+=`-${t}`),a.toLowerCase()}}const Yi=["auto","start","end","center","baseline","stretch"],Xi=te({cols:{type:[Boolean,String,Number],default:!1},...Ko,offset:{type:[String,Number],default:null},...Yo,order:{type:[String,Number],default:null},...Xo,alignSelf:{type:String,default:null,validator:e=>Yi.includes(e)},...ke(),...Le()},"VCol"),se=ce()({name:"VCol",props:Xi(),setup(e,n){let{slots:t}=n;const a=E(()=>{const o=[];let s;for(s in Zn)Zn[s].forEach(u=>{const d=e[u],m=Ki(s,u,d);m&&o.push(m)});const i=o.some(u=>u.startsWith("v-col-"));return o.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>Ol(e.tag,{class:[a.value,e.class],style:e.style},t.default?.())}}),wn=["start","end","center"],Jo=["space-between","space-around","space-evenly"];function Vn(e,n){return ga.reduce((t,a)=>{const o=e+fa(a);return t[o]=n(),t},{})}const Ji=[...wn,"baseline","stretch"],Qo=e=>Ji.includes(e),Zo=Vn("align",()=>({type:String,default:null,validator:Qo})),Qi=[...wn,...Jo],es=e=>Qi.includes(e),ts=Vn("justify",()=>({type:String,default:null,validator:es})),Zi=[...wn,...Jo,"stretch"],ls=e=>Zi.includes(e),as=Vn("alignContent",()=>({type:String,default:null,validator:ls})),eo={align:Object.keys(Zo),justify:Object.keys(ts),alignContent:Object.keys(as)},eu={align:"align",justify:"justify",alignContent:"align-content"};function tu(e,n,t){let a=eu[e];if(t!=null){if(n){const o=n.replace(e,"");a+=`-${o}`}return a+=`-${t}`,a.toLowerCase()}}const lu=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Qo},...Zo,justify:{type:String,default:null,validator:es},...ts,alignContent:{type:String,default:null,validator:ls},...as,...ke(),...Le()},"VRow"),Ae=ce()({name:"VRow",props:lu(),setup(e,n){let{slots:t}=n;const a=E(()=>{const o=[];let s;for(s in eo)eo[s].forEach(i=>{const u=e[i],d=tu(s,i,u);d&&o.push(d)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>Ol(e.tag,{class:["v-row",a.value,e.class],style:e.style},t.default?.())}}),Ze=pa("v-spacer","div","VSpacer"),an=Symbol.for("vuetify:list");function ns(){const e=qe(an,{hasPrepend:ge(!1),updateHasPrepend:()=>null}),n={hasPrepend:ge(!1),updateHasPrepend:t=>{t&&(n.hasPrepend.value=t)}};return at(an,n),e}function os(){return qe(an,null)}const Cn=e=>{const n={activate:t=>{let{id:a,value:o,activated:s}=t;return a=Qe(a),e&&!o&&s.size===1&&s.has(a)||(o?s.add(a):s.delete(a)),s},in:(t,a,o)=>{let s=new Set;if(t!=null)for(const i of rt(t))s=n.activate({id:i,value:!0,activated:new Set(s),children:a,parents:o});return s},out:t=>Array.from(t)};return n},ss=e=>{const n=Cn(e);return{activate:a=>{let{activated:o,id:s,...i}=a;s=Qe(s);const u=o.has(s)?new Set([s]):new Set;return n.activate({...i,id:s,activated:u})},in:(a,o,s)=>{let i=new Set;if(a!=null){const u=rt(a);u.length&&(i=n.in(u.slice(0,1),o,s))}return i},out:(a,o,s)=>n.out(a,o,s)}},au=e=>{const n=Cn(e);return{activate:a=>{let{id:o,activated:s,children:i,...u}=a;return o=Qe(o),i.has(o)?s:n.activate({id:o,activated:s,children:i,...u})},in:n.in,out:n.out}},nu=e=>{const n=ss(e);return{activate:a=>{let{id:o,activated:s,children:i,...u}=a;return o=Qe(o),i.has(o)?s:n.activate({id:o,activated:s,children:i,...u})},in:n.in,out:n.out}},ou={open:e=>{let{id:n,value:t,opened:a,parents:o}=e;if(t){const s=new Set;s.add(n);let i=o.get(n);for(;i!=null;)s.add(i),i=o.get(i);return s}else return a.delete(n),a},select:()=>null},rs={open:e=>{let{id:n,value:t,opened:a,parents:o}=e;if(t){let s=o.get(n);for(a.add(n);s!=null&&s!==n;)a.add(s),s=o.get(s);return a}else a.delete(n);return a},select:()=>null},su={open:rs.open,select:e=>{let{id:n,value:t,opened:a,parents:o}=e;if(!t)return a;const s=[];let i=o.get(n);for(;i!=null;)s.push(i),i=o.get(i);return new Set(s)}},Pn=e=>{const n={select:t=>{let{id:a,value:o,selected:s}=t;if(a=Qe(a),e&&!o){const i=Array.from(s.entries()).reduce((u,d)=>{let[m,v]=d;return v==="on"&&u.push(m),u},[]);if(i.length===1&&i[0]===a)return s}return s.set(a,o?"on":"off"),s},in:(t,a,o)=>{const s=new Map;for(const i of t||[])n.select({id:i,value:!0,selected:s,children:a,parents:o});return s},out:t=>{const a=[];for(const[o,s]of t.entries())s==="on"&&a.push(o);return a}};return n},is=e=>{const n=Pn(e);return{select:a=>{let{selected:o,id:s,...i}=a;s=Qe(s);const u=o.has(s)?new Map([[s,o.get(s)]]):new Map;return n.select({...i,id:s,selected:u})},in:(a,o,s)=>a?.length?n.in(a.slice(0,1),o,s):new Map,out:(a,o,s)=>n.out(a,o,s)}},ru=e=>{const n=Pn(e);return{select:a=>{let{id:o,selected:s,children:i,...u}=a;return o=Qe(o),i.has(o)?s:n.select({id:o,selected:s,children:i,...u})},in:n.in,out:n.out}},iu=e=>{const n=is(e);return{select:a=>{let{id:o,selected:s,children:i,...u}=a;return o=Qe(o),i.has(o)?s:n.select({id:o,selected:s,children:i,...u})},in:n.in,out:n.out}},us=e=>{const n={select:t=>{let{id:a,value:o,selected:s,children:i,parents:u}=t;a=Qe(a);const d=new Map(s),m=[a];for(;m.length;){const g=m.shift();s.set(Qe(g),o?"on":"off"),i.has(g)&&m.push(...i.get(g))}let v=Qe(u.get(a));for(;v;){const g=i.get(v),p=g.every(b=>s.get(Qe(b))==="on"),f=g.every(b=>!s.has(Qe(b))||s.get(Qe(b))==="off");s.set(v,p?"on":f?"off":"indeterminate"),v=Qe(u.get(v))}return e&&!o&&Array.from(s.entries()).reduce((p,f)=>{let[b,x]=f;return x==="on"&&p.push(b),p},[]).length===0?d:s},in:(t,a,o)=>{let s=new Map;for(const i of t||[])s=n.select({id:i,value:!0,selected:s,children:a,parents:o});return s},out:(t,a)=>{const o=[];for(const[s,i]of t.entries())i==="on"&&!a.has(s)&&o.push(s);return o}};return n},uu=e=>{const n=us(e);return{select:n.select,in:n.in,out:(a,o,s)=>{const i=[];for(const[u,d]of a.entries())if(d==="on"){if(s.has(u)){const m=s.get(u);if(a.get(m)==="on")continue}i.push(u)}return i}}},Nl=Symbol.for("vuetify:nested"),ds={id:ge(),root:{register:()=>null,unregister:()=>null,parents:T(new Map),children:T(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:T(!1),selectable:T(!1),opened:T(new Set),activated:T(new Set),selected:T(new Map),selectedValues:T([]),getPath:()=>[]}},du=te({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),cu=e=>{let n=!1;const t=T(new Map),a=T(new Map),o=$e(e,"opened",e.opened,b=>new Set(b),b=>[...b.values()]),s=E(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return au(e.mandatory);case"single-leaf":return nu(e.mandatory);case"independent":return Cn(e.mandatory);case"single-independent":default:return ss(e.mandatory)}}),i=E(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return iu(e.mandatory);case"leaf":return ru(e.mandatory);case"independent":return Pn(e.mandatory);case"single-independent":return is(e.mandatory);case"trunk":return uu(e.mandatory);case"classic":default:return us(e.mandatory)}}),u=E(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return su;case"single":return ou;case"multiple":default:return rs}}),d=$e(e,"activated",e.activated,b=>s.value.in(b,t.value,a.value),b=>s.value.out(b,t.value,a.value)),m=$e(e,"selected",e.selected,b=>i.value.in(b,t.value,a.value),b=>i.value.out(b,t.value,a.value));kt(()=>{n=!0});function v(b){const x=[];let h=b;for(;h!=null;)x.unshift(h),h=a.value.get(h);return x}const g=bt("nested"),p=new Set,f={id:ge(),root:{opened:o,activatable:W(()=>e.activatable),selectable:W(()=>e.selectable),activated:d,selected:m,selectedValues:E(()=>{const b=[];for(const[x,h]of m.value.entries())h==="on"&&b.push(x);return b}),register:(b,x,h)=>{if(p.has(b)){v(b).map(String).join(" -> "),v(x).concat(b).map(String).join(" -> ");return}else p.add(b);x&&b!==x&&a.value.set(b,x),h&&t.value.set(b,[]),x!=null&&t.value.set(x,[...t.value.get(x)||[],b])},unregister:b=>{if(n)return;p.delete(b),t.value.delete(b);const x=a.value.get(b);if(x){const h=t.value.get(x)??[];t.value.set(x,h.filter(w=>w!==b))}a.value.delete(b)},open:(b,x,h)=>{g.emit("click:open",{id:b,value:x,path:v(b),event:h});const w=u.value.open({id:b,value:x,opened:new Set(o.value),children:t.value,parents:a.value,event:h});w&&(o.value=w)},openOnSelect:(b,x,h)=>{const w=u.value.select({id:b,value:x,selected:new Map(m.value),opened:new Set(o.value),children:t.value,parents:a.value,event:h});w&&(o.value=w)},select:(b,x,h)=>{g.emit("click:select",{id:b,value:x,path:v(b),event:h});const w=i.value.select({id:b,value:x,selected:new Map(m.value),children:t.value,parents:a.value,event:h});w&&(m.value=w),f.root.openOnSelect(b,x,h)},activate:(b,x,h)=>{if(!e.activatable)return f.root.select(b,!0,h);g.emit("click:activate",{id:b,value:x,path:v(b),event:h});const w=s.value.activate({id:b,value:x,activated:new Set(d.value),children:t.value,parents:a.value,event:h});if(w.size!==d.value.size)d.value=w;else{for(const C of w)if(!d.value.has(C)){d.value=w;return}for(const C of d.value)if(!w.has(C)){d.value=w;return}}},children:t,parents:a,getPath:v}};return at(Nl,f),f.root},cs=(e,n)=>{const t=qe(Nl,ds),a=Symbol("nested item"),o=E(()=>ll(e)??a),s={...t,id:o,open:(i,u)=>t.root.open(o.value,i,u),openOnSelect:(i,u)=>t.root.openOnSelect(o.value,i,u),isOpen:E(()=>t.root.opened.value.has(o.value)),parent:E(()=>t.root.parents.value.get(o.value)),activate:(i,u)=>t.root.activate(o.value,i,u),isActivated:E(()=>t.root.activated.value.has(Qe(o.value))),select:(i,u)=>t.root.select(o.value,i,u),isSelected:E(()=>t.root.selected.value.get(Qe(o.value))==="on"),isIndeterminate:E(()=>t.root.selected.value.get(Qe(o.value))==="indeterminate"),isLeaf:E(()=>!t.root.children.value.get(o.value)),isGroupActivator:t.isGroupActivator};return va(()=>{!t.isGroupActivator&&t.root.register(o.value,t.id.value,n)}),kt(()=>{!t.isGroupActivator&&t.root.unregister(o.value)}),n&&at(Nl,s),s},vu=()=>{const e=qe(Nl,ds);at(Nl,{...e,isGroupActivator:!0})},fu=Gr({name:"VListGroupActivator",setup(e,n){let{slots:t}=n;return vu(),()=>t.default?.()}}),mu=te({activeColor:String,baseColor:String,color:String,collapseIcon:{type:we,default:"$collapse"},expandIcon:{type:we,default:"$expand"},rawId:[String,Number],prependIcon:we,appendIcon:we,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ke(),...Le()},"VListGroup"),to=ce()({name:"VListGroup",props:mu(),setup(e,n){let{slots:t}=n;const{isOpen:a,open:o,id:s}=cs(()=>e.value,!0),i=E(()=>`v-list-group--id-${String(e.rawId??s.value)}`),u=os(),{isBooted:d}=ha();function m(f){["INPUT","TEXTAREA"].includes(f.target?.tagName)||o(!a.value,f)}const v=E(()=>({onClick:m,class:"v-list-group__header",id:i.value})),g=E(()=>a.value?e.collapseIcon:e.expandIcon),p=E(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&g.value,appendIcon:e.appendIcon||!e.subgroup&&g.value,title:e.title,value:e.value}}));return me(()=>l(e.tag,{class:ve(["v-list-group",{"v-list-group--prepend":u?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class]),style:xe(e.style)},{default:()=>[t.activator&&l(Oe,{defaults:p.value},{default:()=>[l(fu,null,{default:()=>[t.activator({props:v.value,isOpen:a.value})]})]}),l(el,{transition:{component:hn},disabled:!d.value},{default:()=>[et(c("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[t.default?.()]),[[nl,a.value]])]})]})),{isOpen:a}}}),gu=te({opacity:[Number,String],...ke(),...Le()},"VListItemSubtitle"),al=ce()({name:"VListItemSubtitle",props:gu(),setup(e,n){let{slots:t}=n;return me(()=>l(e.tag,{class:ve(["v-list-item-subtitle",e.class]),style:xe([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},t)),{}}}),Nt=pa("v-list-item-title"),pu=te({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:we,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:we,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:ot(),onClickOnce:ot(),...jt(),...ke(),...Vt(),...It(),...At(),...st(),...Pa(),...Le(),...je(),...zt({variant:"text"})},"VListItem"),pt=ce()({name:"VListItem",directives:{vRipple:xt},props:pu(),emits:{click:e=>!0},setup(e,n){let{attrs:t,slots:a,emit:o}=n;const s=Ca(e,t),i=E(()=>e.value===void 0?s.href.value:e.value),{activate:u,isActivated:d,select:m,isOpen:v,isSelected:g,isIndeterminate:p,isGroupActivator:f,root:b,parent:x,openOnSelect:h,id:w}=cs(i,!1),C=os(),L=E(()=>e.active!==!1&&(e.active||s.isActive?.value||(b.activatable.value?d.value:g.value))),j=W(()=>e.link!==!1&&s.isLink.value),N=E(()=>!!C&&(b.selectable.value||b.activatable.value||e.value!=null)),P=E(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||N.value)),k=W(()=>e.rounded||e.nav),B=W(()=>e.color??e.activeColor),q=W(()=>({color:L.value?B.value??e.baseColor:e.baseColor,variant:e.variant}));be(()=>s.isActive?.value,S=>{S&&G()}),va(()=>{s.isActive?.value&&G()});function G(){x.value!=null&&b.open(x.value,!0),h(!0)}const{themeClasses:D}=We(e),{borderClasses:H}=Jt(e),{colorClasses:J,colorStyles:ae,variantClasses:oe}=cl(q),{densityClasses:le}=Lt(e),{dimensionStyles:R}=Tt(e),{elevationClasses:Q}=Ft(e),{roundedClasses:he}=vt(k),M=W(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),K=E(()=>({isActive:L.value,select:m,isOpen:v.value,isSelected:g.value,isIndeterminate:p.value}));function $(S){o("click",S),!["INPUT","TEXTAREA"].includes(S.target?.tagName)&&P.value&&(s.navigate?.(S),!f&&(b.activatable.value?u(!d.value,S):(b.selectable.value||e.value!=null)&&m(!g.value,S)))}function y(S){const A=S.target;["INPUT","TEXTAREA"].includes(A.tagName)||(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),S.target.dispatchEvent(new MouseEvent("click",S)))}return me(()=>{const S=j.value?"a":e.tag,A=a.title||e.title!=null,F=a.subtitle||e.subtitle!=null,ne=!!(e.appendAvatar||e.appendIcon),Ie=!!(ne||a.append),Ce=!!(e.prependAvatar||e.prependIcon),Ue=!!(Ce||a.prepend);return C?.updateHasPrepend(Ue),e.activeColor&&Hr("active-color",["color","base-color"]),et(l(S,de({class:["v-list-item",{"v-list-item--active":L.value,"v-list-item--disabled":e.disabled,"v-list-item--link":P.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ue&&C?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&L.value},D.value,H.value,J.value,le.value,Q.value,M.value,he.value,oe.value,e.class],style:[ae.value,R.value,e.style],tabindex:P.value?C?-2:0:void 0,"aria-selected":N.value?b.activatable.value?d.value:b.selectable.value?g.value:L.value:void 0,onClick:$,onKeydown:P.value&&!j.value&&y},s.linkProps),{default:()=>[dl(P.value||L.value,"v-list-item"),Ue&&c("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?l(Oe,{key:"prepend-defaults",disabled:!Ce,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[a.prepend?.(K.value)]}):c(_e,null,[e.prependAvatar&&l(dt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&l(X,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),c("div",{class:"v-list-item__spacer"},null)]),c("div",{class:"v-list-item__content","data-no-activator":""},[A&&l(Nt,{key:"title"},{default:()=>[a.title?.({title:e.title})??z(e.title)]}),F&&l(al,{key:"subtitle"},{default:()=>[a.subtitle?.({subtitle:e.subtitle})??z(e.subtitle)]}),a.default?.(K.value)]),Ie&&c("div",{key:"append",class:"v-list-item__append"},[a.append?l(Oe,{key:"append-defaults",disabled:!ne,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[a.append?.(K.value)]}):c(_e,null,[e.appendIcon&&l(X,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&l(dt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),c("div",{class:"v-list-item__spacer"},null)])]}),[[xt,P.value&&e.ripple]])}),{activate:u,isActivated:d,isGroupActivator:f,isSelected:g,list:C,select:m,root:b,id:w,link:s}}}),yu=te({color:String,inset:Boolean,sticky:Boolean,title:String,...ke(),...Le()},"VListSubheader"),hu=ce()({name:"VListSubheader",props:yu(),setup(e,n){let{slots:t}=n;const{textColorClasses:a,textColorStyles:o}=Bt(()=>e.color);return me(()=>{const s=!!(t.default||e.title);return l(e.tag,{class:ve(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class]),style:xe([{textColorStyles:o},e.style])},{default:()=>[s&&c("div",{class:"v-list-subheader__text"},[t.default?.()??e.title])]})}),{}}}),bu=te({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ke(),...je()},"VDivider"),Ke=ce()({name:"VDivider",props:bu(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:o}=We(e),{textColorClasses:s,textColorStyles:i}=Bt(()=>e.color),u=E(()=>{const d={};return e.length&&(d[e.vertical?"height":"width"]=ye(e.length)),e.thickness&&(d[e.vertical?"borderRightWidth":"borderTopWidth"]=ye(e.thickness)),d});return me(()=>{const d=c("hr",{class:ve([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},o.value,s.value,e.class]),style:xe([u.value,i.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!t.role||t.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${t.role||"separator"}`},null);return a.default?c("div",{class:ve(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[d,c("div",{class:"v-divider__content"},[a.default()]),d]):d}),{}}}),_u=te({items:Array,returnObject:Boolean},"VListChildren"),vs=ce()({name:"VListChildren",props:_u(),setup(e,n){let{slots:t}=n;return ns(),()=>t.default?.()??e.items?.map(a=>{let{children:o,props:s,type:i,raw:u}=a;if(i==="divider")return t.divider?.({props:s})??l(Ke,s,null);if(i==="subheader")return t.subheader?.({props:s})??l(hu,s,null);const d={subtitle:t.subtitle?v=>t.subtitle?.({...v,item:u}):void 0,prepend:t.prepend?v=>t.prepend?.({...v,item:u}):void 0,append:t.append?v=>t.append?.({...v,item:u}):void 0,title:t.title?v=>t.title?.({...v,item:u}):void 0},m=to.filterProps(s);return o?l(to,de(m,{value:e.returnObject?u:s?.value,rawId:s?.value}),{activator:v=>{let{props:g}=v;const p={...s,...g,value:e.returnObject?u:s.value};return t.header?t.header({props:p}):l(pt,p,d)},default:()=>l(vs,{items:o,returnObject:e.returnObject},t)}):t.item?t.item({props:s}):l(pt,de(s,{value:e.returnObject?u:s.value}),d)})}}),fs=te({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function nn(e,n){const t=gt(n,e.itemTitle,n),a=gt(n,e.itemValue,t),o=gt(n,e.itemChildren),s=e.itemProps===!0?typeof n=="object"&&n!=null&&!Array.isArray(n)?"children"in n?Yt(n,["children"]):n:void 0:gt(n,e.itemProps),i={title:t,value:a,...s};return{title:String(i.title??""),value:i.value,props:i,children:Array.isArray(o)?ms(e,o):void 0,raw:n}}function ms(e,n){const t=ya(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),a=[];for(const o of n)a.push(nn(t,o));return a}function Su(e){const n=E(()=>ms(e,e.items)),t=E(()=>n.value.some(u=>u.value===null)),a=ge(new Map),o=ge([]);ht(()=>{const u=n.value,d=new Map,m=[];for(let v=0;v<u.length;v++){const g=u[v];if(Za(g.value)||g.value===null){let p=d.get(g.value);p||(p=[],d.set(g.value,p)),p.push(g)}else m.push(g)}a.value=d,o.value=m});function s(u){const d=a.value,m=n.value,v=o.value,g=t.value,p=e.returnObject,f=!!e.valueComparator,b=e.valueComparator||$t,x=ya(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),h=[];e:for(const w of u){if(!g&&w===null)continue;if(p&&typeof w=="string"){h.push(nn(x,w));continue}const C=d.get(w);if(f||!C){for(const L of f?m:v)if(b(w,L.value)){h.push(L);continue e}h.push(nn(x,w));continue}h.push(...C)}return h}function i(u){return e.returnObject?u.map(d=>{let{raw:m}=d;return m}):u.map(d=>{let{value:m}=d;return m})}return{items:n,transformIn:s,transformOut:i}}function xu(e,n){const t=gt(n,e.itemType,"item"),a=Za(n)?n:gt(n,e.itemTitle),o=Za(n)?n:gt(n,e.itemValue,void 0),s=gt(n,e.itemChildren),i=e.itemProps===!0?Yt(n,["children"]):gt(n,e.itemProps),u={title:a,value:o,...i};return{type:t,title:u.title,value:u.value,props:u,children:t==="item"&&s?gs(e,s):void 0,raw:n}}function gs(e,n){const t=[];for(const a of n)t.push(xu(e,a));return t}function ku(e){return{items:E(()=>gs(e,e.items))}}const wu=te({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:we,collapseIcon:we,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ot(),"onClick:select":ot(),"onUpdate:opened":ot(),...du({selectStrategy:"single-leaf",openStrategy:"list"}),...jt(),...ke(),...Vt(),...It(),...At(),itemType:{type:String,default:"type"},...fs(),...st(),...Le(),...je(),...zt({variant:"text"})},"VList"),Rt=ce()({name:"VList",props:wu(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:t}=n;const{items:a}=ku(e),{themeClasses:o}=We(e),{backgroundColorClasses:s,backgroundColorStyles:i}=it(()=>e.bgColor),{borderClasses:u}=Jt(e),{densityClasses:d}=Lt(e),{dimensionStyles:m}=Tt(e),{elevationClasses:v}=Ft(e),{roundedClasses:g}=vt(e),{children:p,open:f,parents:b,select:x,getPath:h}=cu(e),w=W(()=>e.lines?`v-list--${e.lines}-line`:void 0),C=W(()=>e.activeColor),L=W(()=>e.baseColor),j=W(()=>e.color);ns(),Pt({VListGroup:{activeColor:C,baseColor:L,color:j,expandIcon:W(()=>e.expandIcon),collapseIcon:W(()=>e.collapseIcon)},VListItem:{activeClass:W(()=>e.activeClass),activeColor:C,baseColor:L,color:j,density:W(()=>e.density),disabled:W(()=>e.disabled),lines:W(()=>e.lines),nav:W(()=>e.nav),slim:W(()=>e.slim),variant:W(()=>e.variant)}});const N=ge(!1),P=T();function k(J){N.value=!0}function B(J){N.value=!1}function q(J){!N.value&&!(J.relatedTarget&&P.value?.contains(J.relatedTarget))&&H()}function G(J){const ae=J.target;if(!(!P.value||["INPUT","TEXTAREA"].includes(ae.tagName))){if(J.key==="ArrowDown")H("next");else if(J.key==="ArrowUp")H("prev");else if(J.key==="Home")H("first");else if(J.key==="End")H("last");else return;J.preventDefault()}}function D(J){N.value=!0}function H(J){if(P.value)return Zl(P.value,J)}return me(()=>l(e.tag,{ref:P,class:ve(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},o.value,s.value,u.value,d.value,v.value,w.value,g.value,e.class]),style:xe([i.value,m.value,e.style]),tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:k,onFocusout:B,onFocus:q,onKeydown:G,onMousedown:D},{default:()=>[l(vs,{items:a.value,returnObject:e.returnObject},t)]})),{open:f,select:x,focus:H,children:p,parents:b,getPath:h}}});function Ga(e,n){return{x:e.x+n.x,y:e.y+n.y}}function Vu(e,n){return{x:e.x-n.x,y:e.y-n.y}}function lo(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:a}=e,o=a==="left"?0:a==="center"?n.width/2:a==="right"?n.width:a,s=t==="top"?0:t==="bottom"?n.height:t;return Ga({x:o,y:s},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:a}=e,o=t==="left"?0:t==="right"?n.width:t,s=a==="top"?0:a==="center"?n.height/2:a==="bottom"?n.height:a;return Ga({x:o,y:s},n)}return Ga({x:n.width/2,y:n.height/2},n)}const ps={static:Iu,connected:Au},Cu=te({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in ps},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Pu(e,n){const t=T({}),a=T();ut&&Ct(()=>!!(n.isActive.value&&e.locationStrategy),u=>{be(()=>e.locationStrategy,u),ct(()=>{window.removeEventListener("resize",o),visualViewport?.removeEventListener("resize",s),visualViewport?.removeEventListener("scroll",i),a.value=void 0}),window.addEventListener("resize",o,{passive:!0}),visualViewport?.addEventListener("resize",s,{passive:!0}),visualViewport?.addEventListener("scroll",i,{passive:!0}),typeof e.locationStrategy=="function"?a.value=e.locationStrategy(n,e,t)?.updateLocation:a.value=ps[e.locationStrategy](n,e,t)?.updateLocation});function o(u){a.value?.(u)}function s(u){a.value?.(u)}function i(u){a.value?.(u)}return{contentStyles:t,updateLocation:a}}function Iu(){}function Tu(e,n){const t=vn(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function Au(e,n,t){(Array.isArray(e.target.value)||qr(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:s}=fn(()=>{const w=Qa(n.location,e.isRtl.value),C=n.origin==="overlap"?w:n.origin==="auto"?Ra(w):Qa(n.origin,e.isRtl.value);return w.side===C.side&&w.align===Da(C).align?{preferredAnchor:On(w),preferredOrigin:On(C)}:{preferredAnchor:w,preferredOrigin:C}}),[i,u,d,m]=["minWidth","minHeight","maxWidth","maxHeight"].map(w=>E(()=>{const C=parseFloat(n[w]);return isNaN(C)?1/0:C})),v=E(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const w=n.offset.split(" ").map(parseFloat);return w.length<2&&w.push(0),w}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let g=!1,p=-1;const f=new ko(4),b=new ResizeObserver(()=>{if(!g)return;if(requestAnimationFrame(C=>{C!==p&&f.clear(),requestAnimationFrame(L=>{p=L})}),f.isFull){const C=f.values();if($t(C.at(-1),C.at(-3)))return}const w=h();w&&f.push(w.flipped)});be([e.target,e.contentEl],(w,C)=>{let[L,j]=w,[N,P]=C;N&&!Array.isArray(N)&&b.unobserve(N),L&&!Array.isArray(L)&&b.observe(L),P&&b.unobserve(P),j&&b.observe(j)},{immediate:!0}),ct(()=>{b.disconnect()});let x=new Ma({x:0,y:0,width:0,height:0});function h(){if(g=!1,requestAnimationFrame(()=>g=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(x=_o(e.target.value));const w=Tu(e.contentEl.value,e.isRtl.value),C=ta(e.contentEl.value),L=12;C.length||(C.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(w.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),w.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=C.reduce((J,ae)=>{const oe=Wr(ae);return J?new Ma({x:Math.max(J.left,oe.left),y:Math.max(J.top,oe.top),width:Math.min(J.right,oe.right)-Math.max(J.left,oe.left),height:Math.min(J.bottom,oe.bottom)-Math.max(J.top,oe.top)}):oe},void 0);j.x+=L,j.y+=L,j.width-=L*2,j.height-=L*2;let N={anchor:o.value,origin:s.value};function P(J){const ae=new Ma(w),oe=lo(J.anchor,x),le=lo(J.origin,ae);let{x:R,y:Q}=Vu(oe,le);switch(J.anchor.side){case"top":Q-=v.value[0];break;case"bottom":Q+=v.value[0];break;case"left":R-=v.value[0];break;case"right":R+=v.value[0];break}switch(J.anchor.align){case"top":Q-=v.value[1];break;case"bottom":Q+=v.value[1];break;case"left":R-=v.value[1];break;case"right":R+=v.value[1];break}return ae.x+=R,ae.y+=Q,ae.width=Math.min(ae.width,d.value),ae.height=Math.min(ae.height,m.value),{overflows:Dn(ae,j),x:R,y:Q}}let k=0,B=0;const q={x:0,y:0},G={x:!1,y:!1};let D=-1;for(;!(D++>10);){const{x:J,y:ae,overflows:oe}=P(N);k+=J,B+=ae,w.x+=J,w.y+=ae;{const le=Rn(N.anchor),R=oe.x.before||oe.x.after,Q=oe.y.before||oe.y.after;let he=!1;if(["x","y"].forEach(M=>{if(M==="x"&&R&&!G.x||M==="y"&&Q&&!G.y){const K={anchor:{...N.anchor},origin:{...N.origin}},$=M==="x"?le==="y"?Da:Ra:le==="y"?Ra:Da;K.anchor=$(K.anchor),K.origin=$(K.origin);const{overflows:y}=P(K);(y[M].before<=oe[M].before&&y[M].after<=oe[M].after||y[M].before+y[M].after<(oe[M].before+oe[M].after)/2)&&(N=K,he=G[M]=!0)}}),he)continue}oe.x.before&&(k+=oe.x.before,w.x+=oe.x.before),oe.x.after&&(k-=oe.x.after,w.x-=oe.x.after),oe.y.before&&(B+=oe.y.before,w.y+=oe.y.before),oe.y.after&&(B-=oe.y.after,w.y-=oe.y.after);{const le=Dn(w,j);q.x=j.width-le.x.before-le.x.after,q.y=j.height-le.y.before-le.y.after,k+=le.x.before,w.x+=le.x.before,B+=le.y.before,w.y+=le.y.before}break}const H=Rn(N.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${N.anchor.side} ${N.anchor.align}`,transformOrigin:`${N.origin.side} ${N.origin.align}`,top:ye(Ha(B)),left:e.isRtl.value?void 0:ye(Ha(k)),right:e.isRtl.value?ye(Ha(-k)):void 0,minWidth:ye(H==="y"?Math.min(i.value,x.width):i.value),maxWidth:ye(ao(nt(q.x,i.value===1/0?0:i.value,d.value))),maxHeight:ye(ao(nt(q.y,u.value===1/0?0:u.value,m.value)))}),{available:q,contentBox:w,flipped:G}}return be(()=>[o.value,s.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>h()),He(()=>{const w=h();if(!w)return;const{available:C,contentBox:L}=w;L.height>C.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Ha(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function ao(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let on=!0;const ra=[];function Eu(e){!on||ra.length?(ra.push(e),sn()):(on=!1,e(),sn())}let no=-1;function sn(){cancelAnimationFrame(no),no=requestAnimationFrame(()=>{const e=ra.shift();e&&e(),ra.length?sn():on=!0})}const ys={none:null,close:Nu,block:Fu,reposition:Lu},$u=te({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ys}},"VOverlay-scroll-strategies");function Bu(e,n){if(!ut)return;let t;ht(async()=>{t?.stop(),n.isActive.value&&e.scrollStrategy&&(t=bo(),await new Promise(a=>setTimeout(a)),t.active&&t.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):ys[e.scrollStrategy]?.(n,e,t)}))}),ct(()=>{t?.stop()})}function Nu(e){function n(t){e.isActive.value=!1}hs(e.targetEl.value??e.contentEl.value,n)}function Fu(e,n){const t=e.root.value?.offsetParent,a=[...new Set([...ta(e.targetEl.value,n.contained?t:void 0),...ta(e.contentEl.value,n.contained?t:void 0)])].filter(i=>!i.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,s=(i=>Kr(i)&&i)(t||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((i,u)=>{i.style.setProperty("--v-body-scroll-x",ye(-i.scrollLeft)),i.style.setProperty("--v-body-scroll-y",ye(-i.scrollTop)),i!==document.documentElement&&i.style.setProperty("--v-scrollbar-offset",ye(o)),i.classList.add("v-overlay-scroll-blocked")}),ct(()=>{a.forEach((i,u)=>{const d=parseFloat(i.style.getPropertyValue("--v-body-scroll-x")),m=parseFloat(i.style.getPropertyValue("--v-body-scroll-y")),v=i.style.scrollBehavior;i.style.scrollBehavior="auto",i.style.removeProperty("--v-body-scroll-x"),i.style.removeProperty("--v-body-scroll-y"),i.style.removeProperty("--v-scrollbar-offset"),i.classList.remove("v-overlay-scroll-blocked"),i.scrollLeft=-d,i.scrollTop=-m,i.style.scrollBehavior=v}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Lu(e,n,t){let a=!1,o=-1,s=-1;function i(u){Eu(()=>{const d=performance.now();e.updateLocation.value?.(u),a=(performance.now()-d)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?u=>u():requestIdleCallback)(()=>{t.run(()=>{hs(e.targetEl.value??e.contentEl.value,u=>{a?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{i(u)})})):i(u)})})}),ct(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(o)})}function hs(e,n){const t=[document,...ta(e)];t.forEach(a=>{a.addEventListener("scroll",n,{passive:!0})}),ct(()=>{t.forEach(a=>{a.removeEventListener("scroll",n)})})}const rn=Symbol.for("vuetify:v-menu"),bs=te({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function _s(e,n){let t=()=>{};function a(i){t?.();const u=Number(i?e.openDelay:e.closeDelay);return new Promise(d=>{t=Yr(u,()=>{n?.(i),d(i)})})}function o(){return a(!0)}function s(){return a(!1)}return{clearDelay:t,runOpenDelay:o,runCloseDelay:s}}const zu=te({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...bs()},"VOverlay-activator");function Ou(e,n){let{isActive:t,isTop:a,contentEl:o}=n;const s=bt("useActivator"),i=T();let u=!1,d=!1,m=!0;const v=E(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),g=E(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!v.value),{runOpenDelay:p,runCloseDelay:f}=_s(e,B=>{B===(e.openOnHover&&u||v.value&&d)&&!(e.openOnHover&&t.value&&!a.value)&&(t.value!==B&&(m=!0),t.value=B)}),b=T(),x={onClick:B=>{B.stopPropagation(),i.value=B.currentTarget||B.target,t.value||(b.value=[B.clientX,B.clientY]),t.value=!t.value},onMouseenter:B=>{B.sourceCapabilities?.firesTouchEvents||(u=!0,i.value=B.currentTarget||B.target,p())},onMouseleave:B=>{u=!1,f()},onFocus:B=>{la(B.target,":focus-visible")!==!1&&(d=!0,B.stopPropagation(),i.value=B.currentTarget||B.target,p())},onBlur:B=>{d=!1,B.stopPropagation(),f()}},h=E(()=>{const B={};return g.value&&(B.onClick=x.onClick),e.openOnHover&&(B.onMouseenter=x.onMouseenter,B.onMouseleave=x.onMouseleave),v.value&&(B.onFocus=x.onFocus,B.onBlur=x.onBlur),B}),w=E(()=>{const B={};if(e.openOnHover&&(B.onMouseenter=()=>{u=!0,p()},B.onMouseleave=()=>{u=!1,f()}),v.value&&(B.onFocusin=()=>{d=!0,p()},B.onFocusout=()=>{d=!1,f()}),e.closeOnContentClick){const q=qe(rn,null);B.onClick=()=>{t.value=!1,q?.closeParents()}}return B}),C=E(()=>{const B={};return e.openOnHover&&(B.onMouseenter=()=>{m&&(u=!0,m=!1,p())},B.onMouseleave=()=>{u=!1,f()}),B});be(a,B=>{B&&(e.openOnHover&&!u&&(!v.value||!d)||v.value&&!d&&(!e.openOnHover||!u))&&!o.value?.contains(document.activeElement)&&(t.value=!1)}),be(t,B=>{B||setTimeout(()=>{b.value=void 0})},{flush:"post"});const L=Mn();ht(()=>{L.value&&He(()=>{i.value=L.el})});const j=Mn(),N=E(()=>e.target==="cursor"&&b.value?b.value:j.value?j.el:Ss(e.target,s)||i.value),P=E(()=>Array.isArray(N.value)?void 0:N.value);let k;return be(()=>!!e.activator,B=>{B&&ut?(k=bo(),k.run(()=>{Ru(e,s,{activatorEl:i,activatorEvents:h})})):k&&k.stop()},{flush:"post",immediate:!0}),ct(()=>{k?.stop()}),{activatorEl:i,activatorRef:L,target:N,targetEl:P,targetRef:j,activatorEvents:h,contentEvents:w,scrimEvents:C}}function Ru(e,n,t){let{activatorEl:a,activatorEvents:o}=t;be(()=>e.activator,(d,m)=>{if(m&&d!==m){const v=u(m);v&&i(v)}d&&He(()=>s())},{immediate:!0}),be(()=>e.activatorProps,()=>{s()}),ct(()=>{i()});function s(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;d&&Xr(d,de(o.value,m))}function i(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;d&&Jr(d,de(o.value,m))}function u(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const m=Ss(d,n);return a.value=m?.nodeType===Node.ELEMENT_NODE?m:void 0,a.value}}function Ss(e,n){if(!e)return;let t;if(e==="parent"){let a=n?.proxy?.$el?.parentNode;for(;a?.hasAttribute("data-no-activator");)a=a.parentNode;t=a}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function Du(){if(!ut)return ge(!1);const{ssr:e}=ol();if(e){const n=ge(!1);return tt(()=>{n.value=!0}),n}else return ge(!0)}const xs=te({eager:Boolean},"lazy");function ks(e,n){const t=ge(!1),a=W(()=>t.value||e.eager||n.value);be(n,()=>t.value=!0);function o(){e.eager||(t.value=!1)}return{isBooted:t,hasContent:a,onAfterLeave:o}}function Sl(){const n=bt("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const oo=Symbol.for("vuetify:stack"),Il=El([]);function Mu(e,n,t){const a=bt("useStack"),o=!t,s=qe(oo,void 0),i=El({activeChildren:new Set});at(oo,i);const u=ge(Number(ll(n)));Ct(e,()=>{const v=Il.at(-1)?.[1];u.value=v?v+10:Number(ll(n)),o&&Il.push([a.uid,u.value]),s?.activeChildren.add(a.uid),ct(()=>{if(o){const g=Qe(Il).findIndex(p=>p[0]===a.uid);Il.splice(g,1)}s?.activeChildren.delete(a.uid)})});const d=ge(!0);o&&ht(()=>{const v=Il.at(-1)?.[0]===a.uid;setTimeout(()=>d.value=v)});const m=W(()=>!i.activeChildren.size);return{globalTop:cn(d),localTop:m,stackStyles:W(()=>({zIndex:u.value}))}}function Uu(e){return{teleportTarget:E(()=>{const t=e();if(t===!0||!ut)return;const a=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(a==null)return;let o=[...a.children].find(s=>s.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",a.appendChild(o)),o})}}function ju(){return!0}function ws(e,n,t){if(!e||Vs(e,t)===!1)return!1;const a=wo(n);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const o=(typeof t.value=="object"&&t.value.include||(()=>[]))();return o.push(n),!o.some(s=>s?.contains(e.target))}function Vs(e,n){return(typeof n.value=="object"&&n.value.closeConditional||ju)(e)}function Gu(e,n,t){const a=typeof t.value=="function"?t.value:t.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&ws(e,n,t)&&setTimeout(()=>{Vs(e,t)&&a&&a(e)},0)}function so(e,n){const t=wo(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const ro={mounted(e,n){const t=o=>Gu(o,e,n),a=o=>{e._clickOutside.lastMousedownWasOutside=ws(o,e,n)};so(e,o=>{o.addEventListener("click",t,!0),o.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:a}},beforeUnmount(e,n){e._clickOutside&&(so(e,t=>{if(!t||!e._clickOutside?.[n.instance.$.uid])return;const{onClick:a,onMousedown:o}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",a,!0),t.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[n.instance.$.uid])}};function Hu(e){const{modelValue:n,color:t,...a}=e;return l(tl,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&c("div",de({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const Hl=te({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...zu(),...ke(),...It(),...xs(),...Cu(),...$u(),...je(),...Ml()},"VOverlay"),qt=ce()({name:"VOverlay",directives:{vClickOutside:ro},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Hl()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:a,emit:o}=n;const s=bt("VOverlay"),i=T(),u=T(),d=T(),m=$e(e,"modelValue"),v=E({get:()=>m.value,set:ne=>{ne&&e.disabled||(m.value=ne)}}),{themeClasses:g}=We(e),{rtlClasses:p,isRtl:f}=yt(),{hasContent:b,onAfterLeave:x}=ks(e,v),h=it(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:w,localTop:C,stackStyles:L}=Mu(v,()=>e.zIndex,e._disableGlobalStack),{activatorEl:j,activatorRef:N,target:P,targetEl:k,targetRef:B,activatorEvents:q,contentEvents:G,scrimEvents:D}=Ou(e,{isActive:v,isTop:C,contentEl:d}),{teleportTarget:H}=Uu(()=>{const ne=e.attach||e.contained;if(ne)return ne;const Ie=j?.value?.getRootNode()||s.proxy?.$el?.getRootNode();return Ie instanceof ShadowRoot?Ie:!1}),{dimensionStyles:J}=Tt(e),ae=Du(),{scopeId:oe}=Sl();be(()=>e.disabled,ne=>{ne&&(v.value=!1)});const{contentStyles:le,updateLocation:R}=Pu(e,{isRtl:f,contentEl:d,target:P,isActive:v});Bu(e,{root:i,contentEl:d,targetEl:k,isActive:v,updateLocation:R});function Q(ne){o("click:outside",ne),e.persistent?S():v.value=!1}function he(ne){return v.value&&w.value&&(!e.scrim||ne.target===u.value||ne instanceof MouseEvent&&ne.shadowTarget===u.value)}ut&&be(v,ne=>{ne?window.addEventListener("keydown",M):window.removeEventListener("keydown",M)},{immediate:!0}),kt(()=>{ut&&window.removeEventListener("keydown",M)});function M(ne){ne.key==="Escape"&&w.value&&(d.value?.contains(document.activeElement)||o("keydown",ne),e.persistent?S():(v.value=!1,d.value?.contains(document.activeElement)&&j.value?.focus()))}function K(ne){ne.key==="Escape"&&!w.value||o("keydown",ne)}const $=Ro();Ct(()=>e.closeOnBack,()=>{Oi($,ne=>{w.value&&v.value?(ne(!1),e.persistent?S():v.value=!1):ne()})});const y=T();be(()=>v.value&&(e.absolute||e.contained)&&H.value==null,ne=>{if(ne){const Ie=Vo(i.value);Ie&&Ie!==document.scrollingElement&&(y.value=Ie.scrollTop)}});function S(){e.noClickAnimation||d.value&&gl(d.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ea})}function A(){o("afterEnter")}function F(){x(),o("afterLeave")}return me(()=>c(_e,null,[t.activator?.({isActive:v.value,targetRef:B,props:de({ref:N},q.value,e.activatorProps)}),ae.value&&b.value&&l(kr,{disabled:!H.value,to:H.value},{default:()=>[c("div",de({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":v.value,"v-overlay--contained":e.contained},g.value,p.value,e.class],style:[L.value,{"--v-overlay-opacity":e.opacity,top:ye(y.value)},e.style],ref:i,onKeydown:K},oe,a),[l(Hu,de({color:h,modelValue:v.value&&!!e.scrim,ref:u},D.value),null),l(el,{appear:!0,persisted:!0,transition:e.transition,target:P.value,onAfterEnter:A,onAfterLeave:F},{default:()=>[et(c("div",de({ref:d,class:["v-overlay__content",e.contentClass],style:[J.value,le.value]},G.value,e.contentProps),[t.default?.({isActive:v})]),[[nl,v.value],[ro,{handler:Q,closeConditional:he,include:()=>[j.value]}]])]})])]})])),{activatorEl:j,scrimEl:u,target:P,animateClick:S,contentEl:d,globalTop:w,localTop:C,updateLocation:R}}}),qa=Symbol("Forwarded refs");function Wa(e,n){let t=e;for(;t;){const a=Reflect.getOwnPropertyDescriptor(t,n);if(a)return a;t=Object.getPrototypeOf(t)}}function rl(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e[qa]=t,new Proxy(e,{get(o,s){if(Reflect.has(o,s))return Reflect.get(o,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const i of t)if(i.value&&Reflect.has(i.value,s)){const u=Reflect.get(i.value,s);return typeof u=="function"?u.bind(i.value):u}}},has(o,s){if(Reflect.has(o,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const i of t)if(i.value&&Reflect.has(i.value,s))return!0;return!1},set(o,s,i){if(Reflect.has(o,s))return Reflect.set(o,s,i);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const u of t)if(u.value&&Reflect.has(u.value,s))return Reflect.set(u.value,s,i);return!1},getOwnPropertyDescriptor(o,s){const i=Reflect.getOwnPropertyDescriptor(o,s);if(i)return i;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const u of t){if(!u.value)continue;const d=Wa(u.value,s)??("_"in u.value?Wa(u.value._?.setupState,s):void 0);if(d)return d}for(const u of t){const d=u.value&&u.value[qa];if(!d)continue;const m=d.slice();for(;m.length;){const v=m.shift(),g=Wa(v.value,s);if(g)return g;const p=v.value&&v.value[qa];p&&m.push(...p)}}}}})}const qu=te({id:String,submenu:Boolean,...Yt(Hl({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:yn}}),["absolute"])},"VMenu"),Cs=ce()({name:"VMenu",props:qu(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"modelValue"),{scopeId:o}=Sl(),{isRtl:s}=yt(),i=Mt(),u=W(()=>e.id||`v-menu-${i}`),d=T(),m=qe(rn,null),v=ge(new Set);at(rn,{register(){v.value.add(i)},unregister(){v.value.delete(i)},closeParents(h){setTimeout(()=>{!v.value.size&&!e.persistent&&(h==null||d.value?.contentEl&&!Zr(h,d.value.contentEl))&&(a.value=!1,m?.closeParents())},40)}}),kt(()=>{m?.unregister(),document.removeEventListener("focusin",g)}),wr(()=>a.value=!1);async function g(h){const w=h.relatedTarget,C=h.target;await He(),a.value&&w!==C&&d.value?.contentEl&&d.value?.globalTop&&![document,d.value.contentEl].includes(C)&&!d.value.contentEl.contains(C)&&aa(d.value.contentEl)[0]?.focus()}be(a,h=>{h?(m?.register(),ut&&document.addEventListener("focusin",g,{once:!0})):(m?.unregister(),ut&&document.removeEventListener("focusin",g))},{immediate:!0});function p(h){m?.closeParents(h)}function f(h){if(!e.disabled)if(h.key==="Tab"||h.key==="Enter"&&!e.closeOnContentClick){if(h.key==="Enter"&&(h.target instanceof HTMLTextAreaElement||h.target instanceof HTMLInputElement&&h.target.closest("form")))return;h.key==="Enter"&&h.preventDefault(),Qr(aa(d.value?.contentEl,!1),h.shiftKey?"prev":"next",C=>C.tabIndex>=0)||(a.value=!1,d.value?.activatorEl?.focus())}else e.submenu&&h.key===(s.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,d.value?.activatorEl?.focus())}function b(h){if(e.disabled)return;const w=d.value?.contentEl;w&&a.value?h.key==="ArrowDown"?(h.preventDefault(),h.stopImmediatePropagation(),Zl(w,"next")):h.key==="ArrowUp"?(h.preventDefault(),h.stopImmediatePropagation(),Zl(w,"prev")):e.submenu&&(h.key===(s.value?"ArrowRight":"ArrowLeft")?a.value=!1:h.key===(s.value?"ArrowLeft":"ArrowRight")&&(h.preventDefault(),Zl(w,"first"))):(e.submenu?h.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(h.key))&&(a.value=!0,h.preventDefault(),setTimeout(()=>setTimeout(()=>b(h))))}const x=E(()=>de({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-controls":u.value,onKeydown:b},e.activatorProps));return me(()=>{const h=qt.filterProps(e);return l(qt,de({ref:d,id:u.value,class:["v-menu",e.class],style:e.style},h,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,absolute:!0,activatorProps:x.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":p,onKeydown:f},o),{activator:t.activator,default:function(){for(var w=arguments.length,C=new Array(w),L=0;L<w;L++)C[L]=arguments[L];return l(Oe,{root:"VMenu"},{default:()=>[t.default?.(...C)]})}})}),rl({id:u,openChildren:v},d)}}),Wu={class:"d-flex align-center"},Ku={class:"d-flex align-center"},Yu={__name:"AppNavbar",setup(e){const n=ma(),t=T("Utilisateur");tt(()=>{const s=localStorage.getItem("user");if(s){const i=JSON.parse(s);t.value=i.username||"Utilisateur"}});const a=()=>{n.push("/profile")},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login")};return(s,i)=>(Y(),fe(Ci,{app:"",color:"white",flat:"",elevation:"1"},{default:r(()=>[c("div",Wu,[i[1]||(i[1]=c("img",{src:pn,alt:"Logo",height:"40",class:"mr-2"},null,-1)),l(Po,{class:"text-primary font-weight-bold"},{default:r(()=>i[0]||(i[0]=[_("Plateforme d'valuation")])),_:1,__:[0]})]),l(Ze),c("div",Ku,[l(re,{icon:"",class:"mr-2"},{default:r(()=>[l(X,null,{default:r(()=>i[2]||(i[2]=[_("mdi-bell")])),_:1,__:[2]})]),_:1}),l(re,{icon:"",class:"mr-2"},{default:r(()=>[l(X,null,{default:r(()=>i[3]||(i[3]=[_("mdi-message")])),_:1,__:[3]})]),_:1}),l(Cs,{"offset-y":""},{activator:r(({props:u})=>[l(re,de({class:"text-none"},u),{default:r(()=>[l(dt,{size:"32",class:"mr-2"},{default:r(()=>[l(Ul,{src:"/images/logos/avatar.png",alt:"Avatar"})]),_:1}),_(" "+z(t.value)+" ",1),l(X,{right:""},{default:r(()=>i[4]||(i[4]=[_("mdi-chevron-down")])),_:1,__:[4]})]),_:2},1040)]),default:r(()=>[l(Rt,null,{default:r(()=>[l(pt,{onClick:a},{default:r(()=>[l(Nt,null,{default:r(()=>i[5]||(i[5]=[_("Mon profil")])),_:1,__:[5]})]),_:1}),l(pt,{onClick:o},{default:r(()=>[l(Nt,null,{default:r(()=>i[6]||(i[6]=[_("Dconnexion")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1})])]),_:1}))}},Xu=Ut(Yu,[["__scopeId","data-v-05116199"]]),Ju="/Frontend/images/logos/logo-university-white.png";function Qu(e){let{rootEl:n,isSticky:t,layoutItemStyles:a}=e;const o=ge(!1),s=ge(0),i=E(()=>{const m=typeof o.value=="boolean"?"top":o.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[m]:ye(s.value)}:{top:a.value.top}]});tt(()=>{be(t,m=>{m?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)},{immediate:!0})}),kt(()=>{window.removeEventListener("scroll",d)});let u=0;function d(){const m=u>window.scrollY?"up":"down",v=n.value.getBoundingClientRect(),g=parseFloat(a.value.top??0),p=window.scrollY-Math.max(0,s.value-g),f=v.height+Math.max(s.value,g)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-g?(o.value="top",s.value=g):m==="up"&&o.value==="bottom"||m==="down"&&o.value==="top"?(s.value=window.scrollY+v.top-b,o.value=!0):m==="down"&&f<=0?(s.value=0,o.value="bottom"):m==="up"&&p<=0&&(b?o.value!=="top"&&(s.value=-p+b+g,o.value="top"):(s.value=v.top+p,o.value="top")),u=window.scrollY}return{isStuck:o,stickyStyles:i}}const Zu=100,ed=20;function io(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function uo(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const a=io(n),o=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);n+=(o-a)*Math.abs(o),t===e.length-1&&(n*=.5)}return io(n)*1e3}function td(){const e={};function n(o){Array.from(o.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new ko(ed))).push([o.timeStamp,s])})}function t(o){Array.from(o.changedTouches).forEach(s=>{delete e[s.identifier]})}function a(o){const s=e[o]?.values().reverse();if(!s)throw new Error(`No samples for touch id ${o}`);const i=s[0],u=[],d=[];for(const m of s){if(i[0]-m[0]>Zu)break;u.push({t:m[0],d:m[1].clientX}),d.push({t:m[0],d:m[1].clientY})}return{x:uo(u),y:uo(d),get direction(){const{x:m,y:v}=this,[g,p]=[Math.abs(m),Math.abs(v)];return g>p&&m>=0?"right":g>p&&m<=0?"left":p>g&&v>=0?"down":p>g&&v<=0?"up":ld()}}}return{addMovement:n,endTouch:t,getVelocity:a}}function ld(){throw new Error}function ad(e){let{el:n,isActive:t,isTemporary:a,width:o,touchless:s,position:i}=e;tt(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",L,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),kt(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",j)});const u=E(()=>["left","right"].includes(i.value)),{addMovement:d,endTouch:m,getVelocity:v}=td();let g=!1;const p=ge(!1),f=ge(0),b=ge(0);let x;function h(P,k){return(i.value==="left"?P:i.value==="right"?document.documentElement.clientWidth-P:i.value==="top"?P:i.value==="bottom"?document.documentElement.clientHeight-P:ml())-(k?o.value:0)}function w(P){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const B=i.value==="left"?(P-b.value)/o.value:i.value==="right"?(document.documentElement.clientWidth-P-b.value)/o.value:i.value==="top"?(P-b.value)/o.value:i.value==="bottom"?(document.documentElement.clientHeight-P-b.value)/o.value:ml();return k?nt(B):B}function C(P){if(s.value)return;const k=P.changedTouches[0].clientX,B=P.changedTouches[0].clientY,q=25,G=i.value==="left"?k<q:i.value==="right"?k>document.documentElement.clientWidth-q:i.value==="top"?B<q:i.value==="bottom"?B>document.documentElement.clientHeight-q:ml(),D=t.value&&(i.value==="left"?k<o.value:i.value==="right"?k>document.documentElement.clientWidth-o.value:i.value==="top"?B<o.value:i.value==="bottom"?B>document.documentElement.clientHeight-o.value:ml());(G||D||t.value&&a.value)&&(x=[k,B],b.value=h(u.value?k:B,t.value),f.value=w(u.value?k:B),g=b.value>-20&&b.value<80,m(P),d(P))}function L(P){const k=P.changedTouches[0].clientX,B=P.changedTouches[0].clientY;if(g){if(!P.cancelable){g=!1;return}const G=Math.abs(k-x[0]),D=Math.abs(B-x[1]);(u.value?G>D&&G>3:D>G&&D>3)?(p.value=!0,g=!1):(u.value?D:G)>3&&(g=!1)}if(!p.value)return;P.preventDefault(),d(P);const q=w(u.value?k:B,!1);f.value=Math.max(0,Math.min(1,q)),q>1?b.value=h(u.value?k:B,!0):q<0&&(b.value=h(u.value?k:B,!1))}function j(P){if(g=!1,!p.value)return;d(P),p.value=!1;const k=v(P.changedTouches[0].identifier),B=Math.abs(k.x),q=Math.abs(k.y);(u.value?B>q&&B>400:q>B&&q>3)?t.value=k.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||ml()):t.value=f.value>.5}const N=E(()=>p.value?{transform:i.value==="left"?`translateX(calc(-100% + ${f.value*o.value}px))`:i.value==="right"?`translateX(calc(100% - ${f.value*o.value}px))`:i.value==="top"?`translateY(calc(-100% + ${f.value*o.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${f.value*o.value}px))`:ml(),transition:"none"}:void 0);return Ct(p,()=>{const P=n.value?.style.transform??null,k=n.value?.style.transition??null;ht(()=>{n.value?.style.setProperty("transform",N.value?.transform||"none"),n.value?.style.setProperty("transition",N.value?.transition||null)}),ct(()=>{n.value?.style.setProperty("transform",P),n.value?.style.setProperty("transition",k)})}),{isDragging:p,dragProgress:f,dragStyles:N}}function ml(){throw new Error}const nd=["start","end","left","right","top","bottom"],od=te({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>nd.includes(e)},sticky:Boolean,...jt(),...ke(),...bs(),...Rl({mobile:null}),...At(),...xo(),...st(),...Le({tag:"nav"}),...je()},"VNavigationDrawer"),sd=ce()({name:"VNavigationDrawer",props:od(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const{isRtl:s}=yt(),{themeClasses:i}=We(e),{borderClasses:u}=Jt(e),{backgroundColorClasses:d,backgroundColorStyles:m}=it(()=>e.color),{elevationClasses:v}=Ft(e),{displayClasses:g,mobile:p}=ol(e),{roundedClasses:f}=vt(e),b=Ro(),x=$e(e,"modelValue",null,M=>!!M),{ssrBootStyles:h}=ha(),{scopeId:w}=Sl(),C=T(),L=ge(!1),{runOpenDelay:j,runCloseDelay:N}=_s(e,M=>{L.value=M}),P=E(()=>e.rail&&e.expandOnHover&&L.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),k=E(()=>ei(e.location,s.value)),B=W(()=>e.persistent),q=E(()=>!e.permanent&&(p.value||e.temporary)),G=E(()=>e.sticky&&!q.value&&k.value!=="bottom");Ct(()=>e.expandOnHover&&e.rail!=null,()=>{be(L,M=>a("update:rail",!M))}),Ct(()=>!e.disableResizeWatcher,()=>{be(q,M=>!e.permanent&&He(()=>x.value=!M))}),Ct(()=>!e.disableRouteWatcher&&!!b,()=>{be(b.currentRoute,()=>q.value&&(x.value=!1))}),be(()=>e.permanent,M=>{M&&(x.value=!0)}),e.modelValue==null&&!q.value&&(x.value=e.permanent||!p.value);const{isDragging:D,dragProgress:H}=ad({el:C,isActive:x,isTemporary:q,width:P,touchless:W(()=>e.touchless),position:k}),J=E(()=>{const M=q.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):P.value;return D.value?M*H.value:M}),{layoutItemStyles:ae,layoutItemScrimStyles:oe}=So({id:e.name,order:E(()=>parseInt(e.order,10)),position:k,layoutSize:J,elementSize:P,active:cn(x),disableTransitions:W(()=>D.value),absolute:E(()=>e.absolute||G.value&&typeof le.value!="string")}),{isStuck:le,stickyStyles:R}=Qu({rootEl:C,isSticky:G,layoutItemStyles:ae}),Q=it(()=>typeof e.scrim=="string"?e.scrim:null),he=E(()=>({...D.value?{opacity:H.value*.2,transition:"none"}:void 0,...oe.value}));return Pt({VList:{bgColor:"transparent"}}),me(()=>{const M=o.image||e.image;return c(_e,null,[l(e.tag,de({ref:C,onMouseenter:j,onMouseleave:N,class:["v-navigation-drawer",`v-navigation-drawer--${k.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":q.value,"v-navigation-drawer--persistent":B.value,"v-navigation-drawer--active":x.value,"v-navigation-drawer--sticky":G.value},i.value,d.value,u.value,g.value,v.value,f.value,e.class],style:[m.value,ae.value,h.value,R.value,e.style]},w,t),{default:()=>[M&&c("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?l(Oe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},o.image):l(Ul,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),o.prepend&&c("div",{class:"v-navigation-drawer__prepend"},[o.prepend?.()]),c("div",{class:"v-navigation-drawer__content"},[o.default?.()]),o.append&&c("div",{class:"v-navigation-drawer__append"},[o.append?.()])]}),l(tl,{name:"fade-transition"},{default:()=>[q.value&&(D.value||x.value)&&!!e.scrim&&c("div",de({class:["v-navigation-drawer__scrim",Q.backgroundColorClasses.value],style:[he.value,Q.backgroundColorStyles.value],onClick:()=>{B.value||(x.value=!1)}},w),null)]})])}),{isStuck:le}}}),rd={__name:"AppSidebar",setup(e){const n=T([{title:"Tableau de bord",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"tudiants",icon:"mdi-account-group",to:"/students"},{title:"Groupes",icon:"mdi-account-multiple",to:"/groups"},{title:"Promotions",icon:"mdi-school",to:"/promotions"},{title:"Sous-groupes",icon:"mdi-account-supervisor",to:"/subgroups"},{title:"Formulaires",icon:"mdi-file-document-outline",to:"/forms"},{title:"valuations",icon:"mdi-clipboard-check-outline",to:"/evaluations"},{title:"Export CSV",icon:"mdi-file-export",to:"/export"}]);return(t,a)=>(Y(),fe(sd,{app:"",color:"primary",dark:"",width:"280"},{default:r(()=>[l(pt,{class:"drawer-header pa-4"},{default:r(()=>a[0]||(a[0]=[c("div",{class:"text-center w-100"},[c("img",{src:Ju,alt:"Logo",height:"60",class:"mb-3"}),c("h6",{class:"text-h6 font-weight-bold text-white"},"valuation")],-1)])),_:1,__:[0]}),l(Ke,{color:"white"}),l(Rt,{nav:""},{default:r(()=>[(Y(!0),pe(_e,null,Je(n.value,o=>(Y(),fe(pt,{key:o.title,to:o.to,value:o.title,color:"white",class:"my-1"},{prepend:r(()=>[l(X,{icon:o.icon,color:"white"},null,8,["icon"])]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(o.title),1)]),_:2},1024)]),_:2},1032,["to","value"]))),128))]),_:1})]),_:1}))}},id=Ut(rd,[["__scopeId","data-v-f84e1361"]]),ud=te({...ke(),...li({fullHeight:!0}),...je()},"VApp"),dd=ce()({name:"VApp",props:ud(),setup(e,n){let{slots:t}=n;const a=We(e),{layoutClasses:o,getLayoutItem:s,items:i,layoutRef:u}=ti(e),{rtlClasses:d}=yt();return me(()=>c("div",{ref:u,class:ve(["v-application",a.themeClasses.value,o.value,d.value,e.class]),style:xe([e.style])},[c("div",{class:"v-application__wrap"},[t.default?.()])])),{getLayoutItem:s,items:i,theme:a}}}),cd=te({scrollable:Boolean,...ke(),...It(),...Le({tag:"main"})},"VMain"),vd=ce()({name:"VMain",props:cd(),setup(e,n){let{slots:t}=n;const{dimensionStyles:a}=Tt(e),{mainStyles:o}=Co(),{ssrBootStyles:s}=ha();return me(()=>l(e.tag,{class:ve(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:xe([o.value,s.value,a.value,e.style])},{default:()=>[e.scrollable?c("div",{class:"v-main__scroller"},[t.default?.()]):t.default?.()]})),{}}}),fd={__name:"App",setup(e){const n=ma(),t=T(!1),a=E(()=>n.currentRoute.value.path==="/login"),o=E(()=>n.currentRoute.value.path==="/register"),s=E(()=>a.value||o.value),i=()=>{const u=localStorage.getItem("token");t.value=!!u,!t.value&&!s.value&&n.push("/login"),t.value&&a.value&&n.push("/dashboard")};return ht(()=>{i()}),tt(()=>{i()}),(u,d)=>{const m=Vr("router-view");return Y(),fe(dd,null,{default:r(()=>[s.value?Ve("",!0):(Y(),pe(_e,{key:0},[l(Xu),l(id)],64)),l(vd,{class:ve({"public-page-main":s.value})},{default:r(()=>[l(m)]),_:1},8,["class"])]),_:1})}}},Ps="/Frontend/images/logos/background-pattern.png",md=pa("v-alert-title"),gd=["success","info","warning","error"],pd=te({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:we,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>gd.includes(e)},...ke(),...Vt(),...It(),...At(),...Gl(),...wa(),...st(),...Le(),...je(),...zt({variant:"flat"})},"VAlert"),Ot=ce()({name:"VAlert",props:pd(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:t,slots:a}=n;const o=$e(e,"modelValue"),s=W(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:i}=We(e),{colorClasses:u,colorStyles:d,variantClasses:m}=cl(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:v}=Lt(e),{dimensionStyles:g}=Tt(e),{elevationClasses:p}=Ft(e),{locationStyles:f}=Sa(e),{positionClasses:b}=Va(e),{roundedClasses:x}=vt(e),{textColorClasses:h,textColorStyles:w}=Bt(()=>e.borderColor),{t:C}=Xt(),L=W(()=>({"aria-label":C(e.closeLabel),onClick(j){o.value=!1,t("click:close",j)}}));return()=>{const j=!!(a.prepend||s.value),N=!!(a.title||e.title),P=!!(a.close||e.closable);return o.value&&l(e.tag,{class:ve(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},i.value,u.value,v.value,p.value,b.value,x.value,m.value,e.class]),style:xe([d.value,g.value,f.value,e.style]),role:"alert"},{default:()=>[dl(!1,"v-alert"),e.border&&c("div",{key:"border",class:ve(["v-alert__border",h.value]),style:xe(w.value)},null),j&&c("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?l(Oe,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},a.prepend):l(X,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),c("div",{class:"v-alert__content"},[N&&l(md,{key:"title"},{default:()=>[a.title?.()??e.title]}),a.text?.()??e.text,a.default?.()]),a.append&&c("div",{key:"append",class:"v-alert__append"},[a.append()]),P&&c("div",{key:"close",class:"v-alert__close"},[a.close?l(Oe,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[a.close?.({props:L.value})]}):l(re,de({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},L.value),null)])]})}}}),Ye=ce()({name:"VCardActions",props:ke(),setup(e,n){let{slots:t}=n;return Pt({VBtn:{slim:!0,variant:"text"}}),me(()=>c("div",{class:ve(["v-card-actions",e.class]),style:xe(e.style)},[t.default?.()])),{}}}),yd=te({opacity:[Number,String],...ke(),...Le()},"VCardSubtitle"),hd=ce()({name:"VCardSubtitle",props:yd(),setup(e,n){let{slots:t}=n;return me(()=>l(e.tag,{class:ve(["v-card-subtitle",e.class]),style:xe([{"--v-card-subtitle-opacity":e.opacity},e.style])},t)),{}}}),ze=pa("v-card-title"),bd=te({appendAvatar:String,appendIcon:we,prependAvatar:String,prependIcon:we,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...ke(),...Vt()},"VCardItem"),_d=ce()({name:"VCardItem",props:bd(),setup(e,n){let{slots:t}=n;return me(()=>{const a=!!(e.prependAvatar||e.prependIcon),o=!!(a||t.prepend),s=!!(e.appendAvatar||e.appendIcon),i=!!(s||t.append),u=!!(e.title!=null||t.title),d=!!(e.subtitle!=null||t.subtitle);return c("div",{class:ve(["v-card-item",e.class]),style:xe(e.style)},[o&&c("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?l(Oe,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},t.prepend):c(_e,null,[e.prependAvatar&&l(dt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&l(X,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),c("div",{class:"v-card-item__content"},[u&&l(ze,{key:"title"},{default:()=>[t.title?.()??z(e.title)]}),d&&l(hd,{key:"subtitle"},{default:()=>[t.subtitle?.()??z(e.subtitle)]}),t.default?.()]),i&&c("div",{key:"append",class:"v-card-item__append"},[t.append?l(Oe,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},t.append):c(_e,null,[e.appendIcon&&l(X,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&l(dt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Sd=te({opacity:[Number,String],...ke(),...Le()},"VCardText"),Ne=ce()({name:"VCardText",props:Sd(),setup(e,n){let{slots:t}=n;return me(()=>l(e.tag,{class:ve(["v-card-text",e.class]),style:xe([{"--v-card-text-opacity":e.opacity},e.style])},t)),{}}}),xd=te({appendAvatar:String,appendIcon:we,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:we,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...jt(),...ke(),...Vt(),...It(),...At(),...xa(),...Gl(),...wa(),...st(),...Pa(),...Le(),...je(),...zt({variant:"elevated"})},"VCard"),Be=ce()({name:"VCard",directives:{vRipple:xt},props:xd(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:o}=We(e),{borderClasses:s}=Jt(e),{colorClasses:i,colorStyles:u,variantClasses:d}=cl(e),{densityClasses:m}=Lt(e),{dimensionStyles:v}=Tt(e),{elevationClasses:g}=Ft(e),{loaderClasses:p}=ka(e),{locationStyles:f}=Sa(e),{positionClasses:b}=Va(e),{roundedClasses:x}=vt(e),h=Ca(e,t);return me(()=>{const w=e.link!==!1&&h.isLink.value,C=!e.disabled&&e.link!==!1&&(e.link||h.isClickable.value),L=w?"a":e.tag,j=!!(a.title||e.title!=null),N=!!(a.subtitle||e.subtitle!=null),P=j||N,k=!!(a.append||e.appendAvatar||e.appendIcon),B=!!(a.prepend||e.prependAvatar||e.prependIcon),q=!!(a.image||e.image),G=P||B||k,D=!!(a.text||e.text!=null);return et(l(L,de({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":C},o.value,s.value,i.value,m.value,g.value,p.value,b.value,x.value,d.value,e.class],style:[u.value,v.value,f.value,e.style],onClick:C&&h.navigate,tabindex:e.disabled?-1:void 0},h.linkProps),{default:()=>[q&&c("div",{key:"image",class:"v-card__image"},[a.image?l(Oe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):l(Ul,{key:"image-img",cover:!0,src:e.image},null)]),l(kn,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),G&&l(_d,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),D&&l(Ne,{key:"text"},{default:()=>[a.text?.()??e.text]}),a.default?.(),a.actions&&l(Ye,null,{default:a.actions}),dl(C,"v-card")]}),[[xt,C&&e.ripple]])}),{}}}),kd=te({text:String,onClick:ot(),...ke(),...je()},"VLabel"),Ia=ce()({name:"VLabel",props:kd(),setup(e,n){let{slots:t}=n;return me(()=>c("label",{class:ve(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:xe(e.style),onClick:e.onClick},[e.text,t.default?.()])),{}}}),Is=Symbol.for("vuetify:selection-control-group"),In=te({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:we,trueIcon:we,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:$t},...ke(),...Vt(),...je()},"SelectionControlGroup"),wd=te({...In({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),Vd=ce()({name:"VSelectionControlGroup",props:wd(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"modelValue"),o=Mt(),s=W(()=>e.id||`v-selection-control-group-${o}`),i=W(()=>e.name||s.value),u=new Set;return at(Is,{modelValue:a,forceUpdate:()=>{u.forEach(d=>d())},onForceUpdate:d=>{u.add(d),ct(()=>{u.delete(d)})}}),Pt({[e.defaultsTarget]:{color:W(()=>e.color),disabled:W(()=>e.disabled),density:W(()=>e.density),error:W(()=>e.error),inline:W(()=>e.inline),modelValue:a,multiple:W(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:i,falseIcon:W(()=>e.falseIcon),trueIcon:W(()=>e.trueIcon),readonly:W(()=>e.readonly),ripple:W(()=>e.ripple),type:W(()=>e.type),valueComparator:W(()=>e.valueComparator)}}),me(()=>c("div",{class:ve(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:xe(e.style),role:e.type==="radio"?"radiogroup":void 0},[t.default?.()])),{}}}),Tn=te({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ke(),...In()},"VSelectionControl");function Cd(e){const n=qe(Is,void 0),{densityClasses:t}=Lt(e),a=$e(e,"modelValue"),o=E(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=E(()=>e.falseValue!==void 0?e.falseValue:!1),i=E(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),u=E({get(){const f=n?n.modelValue.value:a.value;return i.value?rt(f).some(b=>e.valueComparator(b,o.value)):e.valueComparator(f,o.value)},set(f){if(e.readonly)return;const b=f?o.value:s.value;let x=b;i.value&&(x=f?[...rt(a.value),b]:rt(a.value).filter(h=>!e.valueComparator(h,o.value))),n?n.modelValue.value=x:a.value=x}}),{textColorClasses:d,textColorStyles:m}=Bt(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor}),{backgroundColorClasses:v,backgroundColorStyles:g}=it(()=>u.value&&!e.error&&!e.disabled?e.color:e.baseColor),p=E(()=>u.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:t,trueValue:o,falseValue:s,model:u,textColorClasses:d,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:g,icon:p}}const Fl=ce()({name:"VSelectionControl",directives:{vRipple:xt},inheritAttrs:!1,props:Tn(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{group:o,densityClasses:s,icon:i,model:u,textColorClasses:d,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:g,trueValue:p}=Cd(e),f=Mt(),b=ge(!1),x=ge(!1),h=T(),w=W(()=>e.id||`input-${f}`),C=W(()=>!e.disabled&&!e.readonly);o?.onForceUpdate(()=>{h.value&&(h.value.checked=u.value)});function L(k){C.value&&(b.value=!0,la(k.target,":focus-visible")!==!1&&(x.value=!0))}function j(){b.value=!1,x.value=!1}function N(k){k.stopPropagation()}function P(k){if(!C.value){h.value&&(h.value.checked=u.value);return}e.readonly&&o&&He(()=>o.forceUpdate()),u.value=k.target.checked}return me(()=>{const k=a.label?a.label({label:e.label,props:{for:w.value}}):e.label,[B,q]=Dl(t),G=c("input",de({ref:h,checked:u.value,disabled:!!e.disabled,id:w.value,onBlur:j,onFocus:L,onInput:P,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:p.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},q),null);return c("div",de({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":x.value,"v-selection-control--inline":e.inline},s.value,e.class]},B,{style:e.style}),[c("div",{class:ve(["v-selection-control__wrapper",d.value]),style:xe(m.value)},[a.default?.({backgroundColorClasses:v,backgroundColorStyles:g}),et(c("div",{class:ve(["v-selection-control__input"])},[a.input?.({model:u,textColorClasses:d,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:g,inputNode:G,icon:i.value,props:{onFocus:L,onBlur:j,id:w.value}})??c(_e,null,[i.value&&l(X,{key:"icon",icon:i.value},null),G])]),[[xt,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),k&&l(Ia,{for:w.value,onClick:N},{default:()=>[k]})])}),{isFocused:b,input:h}}}),Ts=te({indeterminate:Boolean,indeterminateIcon:{type:we,default:"$checkboxIndeterminate"},...Tn({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),bl=ce()({name:"VCheckboxBtn",props:Ts(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"indeterminate"),o=$e(e,"modelValue");function s(d){a.value&&(a.value=!1)}const i=W(()=>a.value?e.indeterminateIcon:e.falseIcon),u=W(()=>a.value?e.indeterminateIcon:e.trueIcon);return me(()=>{const d=Yt(Fl.filterProps(e),["modelValue"]);return l(Fl,de(d,{modelValue:o.value,"onUpdate:modelValue":[m=>o.value=m,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:u.value,"aria-checked":a.value?"mixed":void 0}),t)}),{}}});function As(e){const{t:n}=Xt();function t(a){let{name:o,color:s,...i}=a;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],d=e[`onClick:${o}`];function m(g){g.key!=="Enter"&&g.key!==" "||(g.preventDefault(),g.stopPropagation(),gn(d,new PointerEvent("click",g)))}const v=d&&u?n(`$vuetify.input.${u}`,e.label??""):void 0;return l(X,de({icon:e[`${o}Icon`],"aria-label":v,onClick:d,onKeydown:m,color:s},i),null)}return{InputIcon:t}}const Pd=te({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ke(),...Ml({transition:{component:Ao,leaveAbsolute:!0,group:!0}})},"VMessages"),Id=ce()({name:"VMessages",props:Pd(),setup(e,n){let{slots:t}=n;const a=E(()=>rt(e.messages)),{textColorClasses:o,textColorStyles:s}=Bt(()=>e.color);return me(()=>l(el,{transition:e.transition,tag:"div",class:ve(["v-messages",o.value,e.class]),style:xe([s.value,e.style])},{default:()=>[e.active&&a.value.map((i,u)=>c("div",{class:"v-messages__message",key:`${u}-${a.value}`},[t.message?t.message({message:i}):i]))]})),{}}}),An=te({focused:Boolean,"onUpdate:focused":ot()},"focus");function ql(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt();const t=$e(e,"focused"),a=W(()=>({[`${n}--focused`]:t.value}));function o(){t.value=!0}function s(){t.value=!1}return{focusClasses:a,isFocused:t,focus:o,blur:s}}const Es=Symbol.for("vuetify:form"),Td=te({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Ad(e){const n=$e(e,"modelValue"),t=W(()=>e.disabled),a=W(()=>e.readonly),o=ge(!1),s=T([]),i=T([]);async function u(){const v=[];let g=!0;i.value=[],o.value=!0;for(const p of s.value){const f=await p.validate();if(f.length>0&&(g=!1,v.push({id:p.id,errorMessages:f})),!g&&e.fastFail)break}return i.value=v,o.value=!1,{valid:g,errors:i.value}}function d(){s.value.forEach(v=>v.reset())}function m(){s.value.forEach(v=>v.resetValidation())}return be(s,()=>{let v=0,g=0;const p=[];for(const f of s.value)f.isValid===!1?(g++,p.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&v++;i.value=p,n.value=g>0?!1:v===s.value.length?!0:null},{deep:!0,flush:"post"}),at(Es,{register:v=>{let{id:g,vm:p,validate:f,reset:b,resetValidation:x}=v;s.value.some(h=>h.id===g),s.value.push({id:g,validate:f,reset:b,resetValidation:x,vm:Cr(p),isValid:null,errorMessages:[]})},unregister:v=>{s.value=s.value.filter(g=>g.id!==v)},update:(v,g,p)=>{const f=s.value.find(b=>b.id===v);f&&(f.isValid=g,f.errorMessages=p)},isDisabled:t,isReadonly:a,isValidating:o,isValid:n,items:s,validateOn:W(()=>e.validateOn)}),{errors:i,isDisabled:t,isReadonly:a,isValidating:o,isValid:n,items:s,validate:u,reset:d,resetValidation:m}}function $s(e){const n=qe(Es,null);return{...n,isReadonly:E(()=>!!(e?.readonly??n?.isReadonly.value)),isDisabled:E(()=>!!(e?.disabled??n?.isDisabled.value))}}const Ed=Symbol.for("vuetify:rules");function $d(e){const n=qe(Ed,null);return n?n(e):W(e)}const Bd=te({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...An()},"validation");function Nd(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt();const a=$e(e,"modelValue"),o=E(()=>e.validationValue===void 0?a.value:e.validationValue),s=$s(e),i=$d(()=>e.rules),u=T([]),d=ge(!0),m=E(()=>!!(rt(a.value===""?null:a.value).length||rt(o.value===""?null:o.value).length)),v=E(()=>e.errorMessages?.length?rt(e.errorMessages).concat(u.value).slice(0,Math.max(0,Number(e.maxErrors))):u.value),g=E(()=>{let j=(e.validateOn??s.validateOn?.value)||"input";j==="lazy"&&(j="input lazy"),j==="eager"&&(j="input eager");const N=new Set(j?.split(" ")??[]);return{input:N.has("input"),blur:N.has("blur")||N.has("input")||N.has("invalid-input"),invalidInput:N.has("invalid-input"),lazy:N.has("lazy"),eager:N.has("eager")}}),p=E(()=>e.error||e.errorMessages?.length?!1:e.rules.length?d.value?u.value.length||g.value.lazy?null:!0:!u.value.length:!0),f=ge(!1),b=E(()=>({[`${n}--error`]:p.value===!1,[`${n}--dirty`]:m.value,[`${n}--disabled`]:s.isDisabled.value,[`${n}--readonly`]:s.isReadonly.value})),x=bt("validation"),h=E(()=>e.name??Ht(t));va(()=>{s.register?.({id:h.value,vm:x,validate:L,reset:w,resetValidation:C})}),kt(()=>{s.unregister?.(h.value)}),tt(async()=>{g.value.lazy||await L(!g.value.eager),s.update?.(h.value,p.value,v.value)}),Ct(()=>g.value.input||g.value.invalidInput&&p.value===!1,()=>{be(o,()=>{if(o.value!=null)L();else if(e.focused){const j=be(()=>e.focused,N=>{N||L(),j()})}})}),Ct(()=>g.value.blur,()=>{be(()=>e.focused,j=>{j||L()})}),be([p,v],()=>{s.update?.(h.value,p.value,v.value)});async function w(){a.value=null,await He(),await C()}async function C(){d.value=!0,g.value.lazy?u.value=[]:await L(!g.value.eager)}async function L(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const N=[];f.value=!0;for(const P of i.value){if(N.length>=Number(e.maxErrors??1))break;const B=await(typeof P=="function"?P:()=>P)(o.value);if(B!==!0){if(B!==!1&&typeof B!="string"){console.warn(`${B} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(B||"")}}return u.value=N,f.value=!1,d.value=j,u.value}return{errorMessages:v,isDirty:m,isDisabled:s.isDisabled,isReadonly:s.isReadonly,isPristine:d,isValid:p,isValidating:f,reset:w,resetValidation:C,validate:L,validationClasses:b}}const xl=te({id:String,appendIcon:we,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:we,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ot(),"onClick:append":ot(),...ke(),...Vt(),...ya(It(),["maxWidth","minWidth","width"]),...je(),...Bd()},"VInput"),Dt=ce()({name:"VInput",props:{...xl()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a,emit:o}=n;const{densityClasses:s}=Lt(e),{dimensionStyles:i}=Tt(e),{themeClasses:u}=We(e),{rtlClasses:d}=yt(),{InputIcon:m}=As(e),v=Mt(),g=E(()=>e.id||`input-${v}`),p=E(()=>`${g.value}-messages`),{errorMessages:f,isDirty:b,isDisabled:x,isReadonly:h,isPristine:w,isValid:C,isValidating:L,reset:j,resetValidation:N,validate:P,validationClasses:k}=Nd(e,"v-input",g),B=E(()=>({id:g,messagesId:p,isDirty:b,isDisabled:x,isReadonly:h,isPristine:w,isValid:C,isValidating:L,reset:j,resetValidation:N,validate:P})),q=W(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),G=W(()=>{if(e.iconColor)return e.iconColor===!0?q.value:e.iconColor}),D=E(()=>e.errorMessages?.length||!w.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return me(()=>{const H=!!(a.prepend||e.prependIcon),J=!!(a.append||e.appendIcon),ae=D.value.length>0,oe=!e.hideDetails||e.hideDetails==="auto"&&(ae||!!a.details);return c("div",{class:ve(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,u.value,d.value,k.value,e.class]),style:xe([i.value,e.style])},[H&&c("div",{key:"prepend",class:"v-input__prepend"},[a.prepend?.(B.value),e.prependIcon&&l(m,{key:"prepend-icon",name:"prepend",color:G.value},null)]),a.default&&c("div",{class:"v-input__control"},[a.default?.(B.value)]),J&&c("div",{key:"append",class:"v-input__append"},[e.appendIcon&&l(m,{key:"append-icon",name:"append",color:G.value},null),a.append?.(B.value)]),oe&&c("div",{id:p.value,class:"v-input__details",role:"alert","aria-live":"polite"},[l(Id,{active:ae,messages:D.value},{message:a.message}),a.details?.(B.value)])])}),{reset:j,resetValidation:N,validate:P,isValid:C,errorMessages:f}}}),Fd=te({...xl(),...Yt(Ts(),["inline"])},"VCheckbox"),Bs=ce()({name:"VCheckbox",inheritAttrs:!1,props:Fd(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const o=$e(e,"modelValue"),{isFocused:s,focus:i,blur:u}=ql(e),d=Mt();return me(()=>{const[m,v]=Dl(t),g=Dt.filterProps(e),p=bl.filterProps(e);return l(Dt,de({class:["v-checkbox",e.class]},m,g,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,id:e.id||`checkbox-${d}`,focused:s.value,style:e.style}),{...a,default:f=>{let{id:b,messagesId:x,isDisabled:h,isReadonly:w,isValid:C}=f;return l(bl,de(p,{id:b.value,"aria-describedby":x.value,disabled:h.value,readonly:w.value},v,{error:C.value===!1,modelValue:o.value,"onUpdate:modelValue":L=>o.value=L,onFocus:i,onBlur:u}),a)}})}),{}}}),Ld=te({...ke(),...Td()},"VForm"),Wt=ce()({name:"VForm",props:Ld(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const o=Ad(e),s=T();function i(d){d.preventDefault(),o.reset()}function u(d){const m=d,v=o.validate();m.then=v.then.bind(v),m.catch=v.catch.bind(v),m.finally=v.finally.bind(v),a("submit",m),m.defaultPrevented||v.then(g=>{let{valid:p}=g;p&&s.value?.submit()}),m.preventDefault()}return me(()=>c("form",{ref:s,class:ve(["v-form",e.class]),style:xe(e.style),novalidate:!0,onReset:i,onSubmit:u},[t.default?.(o)])),rl(o,s)}}),zd=te({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ke(),...Ml({transition:{component:Ao}})},"VCounter"),Ns=ce()({name:"VCounter",functional:!0,props:zd(),setup(e,n){let{slots:t}=n;const a=W(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return me(()=>l(el,{transition:e.transition},{default:()=>[et(c("div",{class:ve(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:xe(e.style)},[t.default?t.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[nl,e.active]])]})),{}}}),Od=te({floating:Boolean,...ke()},"VFieldLabel"),Jl=ce()({name:"VFieldLabel",props:Od(),setup(e,n){let{slots:t}=n;return me(()=>l(Ia,{class:ve(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:xe(e.style),"aria-hidden":e.floating||void 0},t)),{}}}),Rd=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],En=te({appendInnerIcon:we,bgColor:String,clearable:Boolean,clearIcon:{type:we,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:we,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Rd.includes(e)},"onClick:clear":ot(),"onClick:appendInner":ot(),"onClick:prependInner":ot(),...ke(),...xa(),...st(),...je()},"VField"),ia=ce()({name:"VField",inheritAttrs:!1,props:{id:String,...An(),...En()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const{themeClasses:s}=We(e),{loaderClasses:i}=ka(e),{focusClasses:u,isFocused:d,focus:m,blur:v}=ql(e),{InputIcon:g}=As(e),{roundedClasses:p}=vt(e),{rtlClasses:f}=yt(),b=W(()=>e.dirty||e.active),x=W(()=>!!(e.label||o.label)),h=W(()=>!e.singleLine&&x.value),w=Mt(),C=E(()=>e.id||`input-${w}`),L=W(()=>`${C.value}-messages`),j=T(),N=T(),P=T(),k=E(()=>["plain","underlined"].includes(e.variant)),B=E(()=>e.error||e.disabled?void 0:b.value&&d.value?e.color:e.baseColor),q=E(()=>{if(!(!e.iconColor||e.glow&&!d.value))return e.iconColor===!0?B.value:e.iconColor}),{backgroundColorClasses:G,backgroundColorStyles:D}=it(()=>e.bgColor),{textColorClasses:H,textColorStyles:J}=Bt(B);be(b,le=>{if(h.value){const R=j.value.$el,Q=N.value.$el;requestAnimationFrame(()=>{const he=vn(R),M=Q.getBoundingClientRect(),K=M.x-he.x,$=M.y-he.y-(he.height/2-M.height/2),y=M.width/.75,S=Math.abs(y-he.width)>1?{maxWidth:ye(y)}:void 0,A=getComputedStyle(R),F=getComputedStyle(Q),ne=parseFloat(A.transitionDuration)*1e3||150,Ie=parseFloat(F.getPropertyValue("--v-field-label-scale")),Ce=F.getPropertyValue("color");R.style.visibility="visible",Q.style.visibility="hidden",gl(R,{transform:`translate(${K}px, ${$}px) scale(${Ie})`,color:Ce,...S},{duration:ne,easing:ea,direction:le?"normal":"reverse"}).finished.then(()=>{R.style.removeProperty("visibility"),Q.style.removeProperty("visibility")})})}},{flush:"post"});const ae=E(()=>({isActive:b,isFocused:d,controlRef:P,blur:v,focus:m}));function oe(le){le.target!==document.activeElement&&le.preventDefault()}return me(()=>{const le=e.variant==="outlined",R=!!(o["prepend-inner"]||e.prependInnerIcon),Q=!!(e.clearable||o.clear)&&!e.disabled,he=!!(o["append-inner"]||e.appendInnerIcon||Q),M=()=>o.label?o.label({...ae.value,label:e.label,props:{for:C.value}}):e.label;return c("div",de({class:["v-field",{"v-field--active":b.value,"v-field--appended":he,"v-field--center-affix":e.centerAffix??!k.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":R,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!M(),[`v-field--variant-${e.variant}`]:!0},s.value,G.value,u.value,i.value,p.value,f.value,e.class],style:[D.value,e.style],onClick:oe},t),[c("div",{class:"v-field__overlay"},null),l(kn,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:o.loader}),R&&c("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(g,{key:"prepend-icon",name:"prependInner",color:q.value},null),o["prepend-inner"]?.(ae.value)]),c("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&h.value&&l(Jl,{key:"floating-label",ref:N,class:ve([H.value]),floating:!0,for:C.value,style:xe(J.value)},{default:()=>[M()]}),x.value&&l(Jl,{key:"label",ref:j,for:C.value},{default:()=>[M()]}),o.default?.({...ae.value,props:{id:C.value,class:"v-field__input","aria-describedby":L.value},focus:m,blur:v})??c("div",{id:C.value,class:"v-field__input","aria-describedby":L.value},null)]),Q&&l(Eo,{key:"clear"},{default:()=>[et(c("div",{class:"v-field__clearable",onMousedown:K=>{K.preventDefault(),K.stopPropagation()}},[l(Oe,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[o.clear?o.clear({...ae.value,props:{onFocus:m,onBlur:v,onClick:e["onClick:clear"],tabindex:-1}}):l(g,{name:"clear",onFocus:m,onBlur:v,tabindex:-1},null)]})]),[[nl,e.dirty]])]}),he&&c("div",{key:"append",class:"v-field__append-inner"},[o["append-inner"]?.(ae.value),e.appendInnerIcon&&l(g,{key:"append-icon",name:"appendInner",color:q.value},null)]),c("div",{class:ve(["v-field__outline",H.value]),style:xe(J.value)},[le&&c(_e,null,[c("div",{class:"v-field__outline__start"},null),h.value&&c("div",{class:"v-field__outline__notch"},[l(Jl,{ref:N,floating:!0,for:C.value},{default:()=>[M()]})]),c("div",{class:"v-field__outline__end"},null)]),k.value&&h.value&&l(Jl,{ref:N,floating:!0,for:C.value},{default:()=>[M()]})])])}),{controlRef:P,fieldIconColor:q}}});function Fs(e){function n(t,a){!e.autofocus||!t||a[0].target?.focus?.()}return{onIntersect:n}}const Dd=["color","file","time","date","datetime-local","week","month"],Ls=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...xl(),...En()},"VTextField"),Fe=ce()({name:"VTextField",directives:{vIntersect:hl},inheritAttrs:!1,props:Ls(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const s=$e(e,"modelValue"),{isFocused:i,focus:u,blur:d}=ql(e),{onIntersect:m}=Fs(e),v=E(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),g=E(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=E(()=>["plain","underlined"].includes(e.variant)),f=T(),b=T(),x=T(),h=E(()=>Dd.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function w(){i.value||u(),He(()=>{x.value!==document.activeElement&&x.value?.focus()})}function C(P){a("mousedown:control",P),P.target!==x.value&&(w(),P.preventDefault())}function L(P){a("click:control",P)}function j(P,k){P.stopPropagation(),w(),He(()=>{s.value=null,k(),gn(e["onClick:clear"],P)})}function N(P){const k=P.target;if(s.value=k.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[k.selectionStart,k.selectionEnd];He(()=>{k.selectionStart=B[0],k.selectionEnd=B[1]})}}return me(()=>{const P=!!(o.counter||e.counter!==!1&&e.counter!=null),k=!!(P||o.details),[B,q]=Dl(t),{modelValue:G,...D}=Dt.filterProps(e),H=ia.filterProps(e);return l(Dt,de({ref:f,modelValue:s.value,"onUpdate:modelValue":J=>s.value=J,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},B,D,{centerAffix:!p.value,focused:i.value}),{...o,default:J=>{let{id:ae,isDisabled:oe,isDirty:le,isReadonly:R,isValid:Q,reset:he}=J;return l(ia,de({ref:b,onMousedown:C,onClick:L,"onClick:clear":M=>j(M,he),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},H,{id:ae.value,active:h.value||le.value,dirty:le.value||e.dirty,disabled:oe.value,focused:i.value,error:Q.value===!1}),{...o,default:M=>{let{props:{class:K,...$}}=M;const y=et(c("input",de({ref:x,value:s.value,onInput:N,autofocus:e.autofocus,readonly:R.value,disabled:oe.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:w,onBlur:d},$,q),null),[[hl,{handler:m},null,{once:!0}]]);return c(_e,null,[e.prefix&&c("span",{class:"v-text-field__prefix"},[c("span",{class:"v-text-field__prefix__text"},[e.prefix])]),o.default?c("div",{class:ve(K),"data-no-activator":""},[o.default(),y]):Pr(y,{class:K}),e.suffix&&c("span",{class:"v-text-field__suffix"},[c("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:k?J=>c(_e,null,[o.details?.(J),P&&c(_e,null,[c("span",null,null),l(Ns,{active:e.persistentCounter||i.value,value:v.value,max:g.value,disabled:e.disabled},o.counter)])]):void 0})}),rl({},f,b,x)}}),Md={class:"login"},Ud={class:"login__footer"},jd={class:"login__service-info"},Gd={__name:"LoginPage",setup(e){const n=ma(),t=T(""),a=T(""),o=T(!1),s=T(!1),i=T(""),u=T(!1),d=async()=>{i.value="",u.value=!1,s.value=!0;try{const v=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t.value,password:a.value})});if(!v.ok){const p=await v.json();throw new Error(p.message||"chec de l'authentification")}const g=await v.json();console.log("=== CONNEXION RUSSIE ==="),console.log("Token reu:",g.token),console.log("Utilisateur:",g.user),console.log("========================"),localStorage.setItem("token",g.token),localStorage.setItem("user",JSON.stringify(g.user)),n.push("/dashboard")}catch(v){i.value=v.message||"Erreur inconnue",u.value=!0}finally{s.value=!1}},m=()=>{n.push("/register")};return(v,g)=>(Y(),pe("div",Md,[g[12]||(g[12]=c("img",{src:Ps,alt:"Background",class:"fullscreen-background"},null,-1)),g[13]||(g[13]=c("div",{class:"login__header"},[c("img",{src:pn,alt:"Logo Universit",class:"login__logo"})],-1)),l(Be,{class:"login__card",elevation:"3"},{default:r(()=>[l(ze,{class:"login__title"},{default:r(()=>g[4]||(g[4]=[_("Veuillez vous authentifier")])),_:1,__:[4]}),l(Ne,null,{default:r(()=>[l(Wt,{onSubmit:Zt(d,["prevent"])},{default:r(()=>[u.value?(Y(),fe(Ot,{key:0,type:"error",variant:"tonal",closable:"",class:"login__alert","onClick:close":g[0]||(g[0]=p=>u.value=!1)},{default:r(()=>[_(z(i.value),1)]),_:1})):Ve("",!0),l(Fe,{modelValue:t.value,"onUpdate:modelValue":g[1]||(g[1]=p=>t.value=p),label:"Nom d'utilisateur","prepend-inner-icon":"mdi-account",variant:"outlined",color:"primary",autocomplete:"username",class:"login__input",required:""},null,8,["modelValue"]),l(Fe,{modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=p=>a.value=p),label:"Mot de passe","prepend-inner-icon":"mdi-lock",variant:"outlined",type:"password",color:"primary",autocomplete:"current-password",class:"login__input",required:""},null,8,["modelValue"]),l(Bs,{modelValue:o.value,"onUpdate:modelValue":g[3]||(g[3]=p=>o.value=p),label:"Voir mes dernires connexions",color:"primary",class:"login__checkbox"},null,8,["modelValue"]),l(re,{type:"submit",color:"error",block:"",class:"login__btn text-white",size:"large",loading:s.value},{default:r(()=>[l(X,{start:""},{default:r(()=>g[5]||(g[5]=[_("mdi-login")])),_:1,__:[5]}),g[6]||(g[6]=_(" Se connecter "))]),_:1,__:[6]},8,["loading"])]),_:1})]),_:1}),l(Ye,{class:"login__actions"},{default:r(()=>[l(re,{variant:"text",color:"primary",class:"text-caption",onClick:m},{default:r(()=>g[7]||(g[7]=[_(" Crer un compte ")])),_:1,__:[7]}),l(re,{variant:"text",color:"grey",class:"text-caption mt-1"},{default:r(()=>g[8]||(g[8]=[_(" Aide / Contact / Perte de mot de passe ")])),_:1,__:[8]})]),_:1})]),_:1}),c("div",Ud,[c("span",jd,[l(X,{small:""},{default:r(()=>g[9]||(g[9]=[_("mdi-shield-check")])),_:1,__:[9]}),g[10]||(g[10]=_(" Service authentification de l'valuation "))]),g[11]||(g[11]=c("div",{class:"login__lang-selector"},[c("span",null,"FR"),_(" | "),c("span",null,"EN")],-1))])]))}},Hd=Ut(Gd,[["__scopeId","data-v-c08b3c19"]]),qd={class:"register"},Wd={class:"register__footer"},Kd={class:"register__service-info"},Yd={__name:"RegisterPage",setup(e){const n=ma(),t=T(""),a=T(""),o=T(""),s=T(""),i=T(""),u=T(""),d=T(!1),m=T(""),v=T(!1),g=T(!1),p={required:h=>!!h||"Ce champ est requis.",email:h=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)||"Adresse email invalide.",minLength:h=>h&&h.length>=6||"Le mot de passe doit contenir au moins 6 caractres.",passwordMatch:h=>h===i.value||"Les mots de passe ne correspondent pas."},f=E(()=>{const h=t.value&&t.value.trim().length>0,w=a.value&&a.value.trim().length>0,C=o.value&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value.trim()),L=s.value&&s.value.trim().length>0,j=i.value&&i.value.length>=6,N=u.value&&u.value===i.value;return h&&w&&C&&L&&j&&N}),b=async()=>{if(f.value){m.value="",v.value=!1,g.value=!1,d.value=!0;try{const h=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t.value,lastName:a.value,email:o.value,login:s.value,password:i.value,role:"professor"})}),w=await h.json();if(!h.ok)throw new Error(w.message||"chec de l'inscription.");g.value=!0,t.value="",a.value="",o.value="",s.value="",i.value="",u.value="",setTimeout(()=>{n.push("/login")},3e3)}catch(h){console.error("Erreur lors de l'inscription:",h),m.value=h.message||"Une erreur est survenue. Veuillez ressayer.",v.value=!0}finally{d.value=!1}}},x=()=>{n.push("/login")};return(h,w)=>(Y(),pe("div",qd,[w[16]||(w[16]=c("img",{src:Ps,alt:"Background",class:"fullscreen-background"},null,-1)),w[17]||(w[17]=c("div",{class:"register__header"},[c("img",{src:pn,alt:"Logo Universit",class:"register__logo"})],-1)),l(Be,{class:"register__card",elevation:"3"},{default:r(()=>[l(ze,{class:"register__title"},{default:r(()=>w[7]||(w[7]=[_("Crer un nouveau compte")])),_:1,__:[7]}),l(Ne,null,{default:r(()=>[l(Wt,{onSubmit:Zt(b,["prevent"])},{default:r(()=>[v.value?(Y(),fe(Ot,{key:0,type:"error",variant:"tonal",closable:"",class:"register__alert","onClick:close":w[0]||(w[0]=C=>v.value=!1)},{default:r(()=>[_(z(m.value),1)]),_:1})):Ve("",!0),g.value?(Y(),fe(Ot,{key:1,type:"success",variant:"tonal",class:"register__alert"},{default:r(()=>w[8]||(w[8]=[_("  Inscription russie ! Redirection vers la page de connexion dans 3 secondes... ")])),_:1,__:[8]})):Ve("",!0),l(Fe,{modelValue:t.value,"onUpdate:modelValue":w[1]||(w[1]=C=>t.value=C),label:"Prnom","prepend-inner-icon":"mdi-account",variant:"outlined",color:"primary",autocomplete:"given-name",class:"register__input",rules:[p.required],required:""},null,8,["modelValue","rules"]),l(Fe,{modelValue:a.value,"onUpdate:modelValue":w[2]||(w[2]=C=>a.value=C),label:"Nom de famille","prepend-inner-icon":"mdi-account",variant:"outlined",color:"primary",autocomplete:"family-name",class:"register__input",rules:[p.required],required:""},null,8,["modelValue","rules"]),l(Fe,{modelValue:o.value,"onUpdate:modelValue":w[3]||(w[3]=C=>o.value=C),label:"Adresse email","prepend-inner-icon":"mdi-email",variant:"outlined",color:"primary",type:"email",autocomplete:"email",class:"register__input",rules:[p.required,p.email],required:""},null,8,["modelValue","rules"]),l(Fe,{modelValue:s.value,"onUpdate:modelValue":w[4]||(w[4]=C=>s.value=C),label:"Nom d'utilisateur","prepend-inner-icon":"mdi-account-circle",variant:"outlined",color:"primary",autocomplete:"username",class:"register__input",rules:[p.required],required:""},null,8,["modelValue","rules"]),l(Fe,{modelValue:i.value,"onUpdate:modelValue":w[5]||(w[5]=C=>i.value=C),label:"Mot de passe","prepend-inner-icon":"mdi-lock",variant:"outlined",type:"password",color:"primary",autocomplete:"new-password",class:"register__input",rules:[p.required,p.minLength],required:""},null,8,["modelValue","rules"]),l(Fe,{modelValue:u.value,"onUpdate:modelValue":w[6]||(w[6]=C=>u.value=C),label:"Confirmer le mot de passe","prepend-inner-icon":"mdi-lock-check",variant:"outlined",type:"password",color:"primary",autocomplete:"new-password",class:"register__input",rules:[p.required,p.passwordMatch],required:""},null,8,["modelValue","rules"]),l(re,{type:"submit",color:"error",block:"",class:"register__btn text-white",size:"large",loading:d.value,disabled:!f.value,onClick:Zt(b,["prevent"])},{default:r(()=>[l(X,{start:""},{default:r(()=>w[9]||(w[9]=[_("mdi-account-plus")])),_:1,__:[9]}),w[10]||(w[10]=_(" S'inscrire "))]),_:1,__:[10]},8,["loading","disabled"])]),_:1})]),_:1}),l(Ye,{class:"register__actions"},{default:r(()=>[l(re,{variant:"text",color:"primary",class:"text-caption",onClick:x},{default:r(()=>w[11]||(w[11]=[_(" Dj un compte ? Se connecter ")])),_:1,__:[11]}),l(re,{variant:"text",color:"grey",class:"text-caption mt-1"},{default:r(()=>w[12]||(w[12]=[_(" Aide / Contact ")])),_:1,__:[12]})]),_:1})]),_:1}),c("div",Wd,[c("span",Kd,[l(X,{small:""},{default:r(()=>w[13]||(w[13]=[_("mdi-shield-check")])),_:1,__:[13]}),w[14]||(w[14]=_(" Service d'inscription de l'valuation "))]),w[15]||(w[15]=c("div",{class:"register__lang-selector"},[c("span",null,"FR"),_(" | "),c("span",null,"EN")],-1))])]))}},Xd=Ut(Yd,[["__scopeId","data-v-bd9bfe92"]]),Jd={class:"text-h3 font-weight-bold text-center py-4"},Qd={class:"text-h3 font-weight-bold text-center py-4"},Zd={class:"text-h3 font-weight-bold text-center py-4"},ec={__name:"DashboardPage",setup(e){const n=T({students:0,forms:0,evaluations:0}),t=T([]),a=T([]),o=T(!0);return tt(async()=>{try{const s=await fetch("http://localhost:5000/api/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});s.ok&&(n.value=await s.json());const i=await fetch("http://localhost:5000/api/evaluations/recent",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});i.ok?t.value=await i.json():t.value=[{student:"Martin Dupont",form:"valuation de stage",date:"25 juin 2025"},{student:"Sophie Martin",form:"Rapport de projet",date:"28 juin 2025"},{student:"Lucas Bernard",form:"Soutenance finale",date:"29 juin 2025"}];const u=await fetch("http://localhost:5000/api/activities/upcoming",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});u.ok?a.value=await u.json():a.value=[{title:"Soutenances BUT",description:"5 juillet 2025",icon:"mdi-calendar",color:"primary"},{title:"valuations  finaliser",description:"3 rapports en attente",icon:"mdi-alert-circle",color:"warning"},{title:"Runion pdagogique",description:"10 juillet 2025",icon:"mdi-account-group",color:"info"}]}catch(s){console.error("Erreur lors du chargement des donnes:",s),alert("Erreur de connexion au serveur. Veuillez ressayer plus tard."),n.value={students:0,forms:0,evaluations:0},t.value=[],a.value=[]}finally{o.value=!1}}),(s,i)=>(Y(),fe(sl,{fluid:"",class:"dashboard-container pa-4"},{default:r(()=>[l(qt,{"model-value":o.value,class:"align-center justify-center"},{default:r(()=>[l(oa,{indeterminate:"",size:"64",color:"primary"})]),_:1},8,["model-value"]),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>i[0]||(i[0]=[c("h2",{class:"text-h4 mb-6"},"Tableau de bord",-1)])),_:1,__:[0]})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12",md:"4"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"primary text-white pa-4"},{default:r(()=>[l(X,{large:"",color:"white",class:"mr-2"},{default:r(()=>i[1]||(i[1]=[_("mdi-account-group")])),_:1,__:[1]}),i[2]||(i[2]=_(" tudiants "))]),_:1,__:[2]}),l(Ne,{class:"pa-4"},{default:r(()=>[c("div",Jd,z(n.value.students),1),i[3]||(i[3]=c("p",{class:"text-subtitle-1 text-center"},"tudiants enregistrs",-1))]),_:1,__:[3]})]),_:1})]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"error text-white pa-4"},{default:r(()=>[l(X,{large:"",color:"white",class:"mr-2"},{default:r(()=>i[4]||(i[4]=[_("mdi-file-document-outline")])),_:1,__:[4]}),i[5]||(i[5]=_(" Formulaires "))]),_:1,__:[5]}),l(Ne,{class:"pa-4"},{default:r(()=>[c("div",Qd,z(n.value.forms),1),i[6]||(i[6]=c("p",{class:"text-subtitle-1 text-center"},"formulaires crs",-1))]),_:1,__:[6]})]),_:1})]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"success text-white pa-4"},{default:r(()=>[l(X,{large:"",color:"white",class:"mr-2"},{default:r(()=>i[7]||(i[7]=[_("mdi-clipboard-check-outline")])),_:1,__:[7]}),i[8]||(i[8]=_(" valuations "))]),_:1,__:[8]}),l(Ne,{class:"pa-4"},{default:r(()=>[c("div",Zd,z(n.value.evaluations),1),i[9]||(i[9]=c("p",{class:"text-subtitle-1 text-center"},"valuations compltes",-1))]),_:1,__:[9]})]),_:1})]),_:1})]),_:1}),l(Ae,{class:"mt-6"},{default:r(()=>[l(se,{cols:"12",md:"6"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-4"},{default:r(()=>[l(X,{class:"mr-2"},{default:r(()=>i[10]||(i[10]=[_("mdi-clock-outline")])),_:1,__:[10]}),i[11]||(i[11]=_(" valuations rcentes "))]),_:1,__:[11]}),l(Ne,{class:"pa-0"},{default:r(()=>[l(Rt,null,{default:r(()=>[(Y(!0),pe(_e,null,Je(t.value,(u,d)=>(Y(),fe(pt,{key:d,link:""},{prepend:r(()=>[l(dt,{color:"primary",class:"text-white"},{default:r(()=>[_(z(u.student.charAt(0)),1)]),_:2},1024)]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(u.student),1)]),_:2},1024),l(al,null,{default:r(()=>[_(z(u.form)+" | "+z(u.date),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-4"},{default:r(()=>[l(X,{class:"mr-2"},{default:r(()=>i[12]||(i[12]=[_("mdi-bell-outline")])),_:1,__:[12]}),i[13]||(i[13]=_(" Activits  venir "))]),_:1,__:[13]}),l(Ne,{class:"pa-0"},{default:r(()=>[l(Rt,null,{default:r(()=>[(Y(!0),pe(_e,null,Je(a.value,(u,d)=>(Y(),fe(pt,{key:d,link:""},{prepend:r(()=>[l(X,{color:u.color},{default:r(()=>[_(z(u.icon),1)]),_:2},1032,["color"])]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(u.title),1)]),_:2},1024),l(al,null,{default:r(()=>[_(z(u.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},tc=Ut(ec,[["__scopeId","data-v-55931ff0"]]);function lc(e){let{selectedElement:n,containerElement:t,isRtl:a,isHorizontal:o}=e;const s=Ll(o,t),i=zs(o,a,t),u=Ll(o,n),d=Os(o,n),m=u*.4;return i>d?d-m:i+s<d+u?d-s+u+m:i}function ac(e){let{selectedElement:n,containerElement:t,isHorizontal:a}=e;const o=Ll(a,t),s=Os(a,n),i=Ll(a,n);return s-o/2+i/2}function co(e,n){return n?.[e?"scrollWidth":"scrollHeight"]||0}function nc(e,n){return n?.[e?"clientWidth":"clientHeight"]||0}function zs(e,n,t){if(!t)return 0;const{scrollLeft:a,offsetWidth:o,scrollWidth:s}=t;return e?n?s-o+a:a:t.scrollTop}function Ll(e,n){return n?.[e?"offsetWidth":"offsetHeight"]||0}function Os(e,n){return n?.[e?"offsetLeft":"offsetTop"]||0}const oc=Symbol.for("vuetify:v-slide-group"),Rs=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:oc},nextIcon:{type:we,default:"$next"},prevIcon:{type:we,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ke(),...Rl({mobile:null}),...Le(),...ba({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),vo=ce()({name:"VSlideGroup",props:Rs(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:a}=yt(),{displayClasses:o,mobile:s}=ol(e),i=_a(e,e.symbol),u=ge(!1),d=ge(0),m=ge(0),v=ge(0),g=E(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:f}=pl(),{resizeRef:b,contentRect:x}=pl(),h=ai(),w=E(()=>({container:p.el,duration:200,easing:"easeOutQuart"})),C=E(()=>i.selected.value.length?i.items.value.findIndex(K=>K.id===i.selected.value[0]):-1),L=E(()=>i.selected.value.length?i.items.value.findIndex(K=>K.id===i.selected.value[i.selected.value.length-1]):-1);if(ut){let K=-1;be(()=>[i.selected.value,f.value,x.value,g.value],()=>{cancelAnimationFrame(K),K=requestAnimationFrame(()=>{if(f.value&&x.value){const $=g.value?"width":"height";m.value=f.value[$],v.value=x.value[$],u.value=m.value+1<v.value}if(C.value>=0&&b.el){const $=b.el.children[L.value];N($,e.centerActive)}})})}const j=ge(!1);function N(K,$){let y=0;$?y=ac({containerElement:p.el,isHorizontal:g.value,selectedElement:K}):y=lc({containerElement:p.el,isHorizontal:g.value,isRtl:a.value,selectedElement:K}),P(y)}function P(K){if(!ut||!p.el)return;const $=Ll(g.value,p.el),y=zs(g.value,a.value,p.el);if(!(co(g.value,p.el)<=$||Math.abs(K-y)<16)){if(g.value&&a.value&&p.el){const{scrollWidth:A,offsetWidth:F}=p.el;K=A-F-K}g.value?h.horizontal(K,w.value):h(K,w.value)}}function k(K){const{scrollTop:$,scrollLeft:y}=K.target;d.value=g.value?y:$}function B(K){if(j.value=!0,!(!u.value||!b.el)){for(const $ of K.composedPath())for(const y of b.el.children)if(y===$){N(y);return}}}function q(K){j.value=!1}let G=!1;function D(K){!G&&!j.value&&!(K.relatedTarget&&b.el?.contains(K.relatedTarget))&&oe(),G=!1}function H(){G=!0}function J(K){if(!b.el)return;function $(y){K.preventDefault(),oe(y)}g.value?K.key==="ArrowRight"?$(a.value?"prev":"next"):K.key==="ArrowLeft"&&$(a.value?"next":"prev"):K.key==="ArrowDown"?$("next"):K.key==="ArrowUp"&&$("prev"),K.key==="Home"?$("first"):K.key==="End"&&$("last")}function ae(K,$){if(!K)return;let y=K;do y=y?.[$==="next"?"nextElementSibling":"previousElementSibling"];while(y?.hasAttribute("disabled"));return y}function oe(K){if(!b.el)return;let $;if(!K)$=aa(b.el)[0];else if(K==="next"){if($=ae(b.el.querySelector(":focus"),K),!$)return oe("first")}else if(K==="prev"){if($=ae(b.el.querySelector(":focus"),K),!$)return oe("last")}else K==="first"?($=b.el.firstElementChild,$?.hasAttribute("disabled")&&($=ae($,"next"))):K==="last"&&($=b.el.lastElementChild,$?.hasAttribute("disabled")&&($=ae($,"prev")));$&&$.focus({preventScroll:!0})}function le(K){const $=g.value&&a.value?-1:1,y=(K==="prev"?-$:$)*m.value;let S=d.value+y;if(g.value&&a.value&&p.el){const{scrollWidth:A,offsetWidth:F}=p.el;S+=A-F}P(S)}const R=E(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),Q=E(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return u.value||Math.abs(d.value)>0;case"mobile":return s.value||u.value||Math.abs(d.value)>0;default:return!s.value&&(u.value||Math.abs(d.value)>0)}}),he=E(()=>Math.abs(d.value)>1),M=E(()=>{if(!p.value)return!1;const K=co(g.value,p.el),$=nc(g.value,p.el);return K-$-Math.abs(d.value)>1});return me(()=>l(e.tag,{class:ve(["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":Q.value,"v-slide-group--is-overflowing":u.value},o.value,e.class]),style:xe(e.style),tabindex:j.value||i.selected.value.length?-1:0,onFocus:D},{default:()=>[Q.value&&c("div",{key:"prev",class:ve(["v-slide-group__prev",{"v-slide-group__prev--disabled":!he.value}]),onMousedown:H,onClick:()=>he.value&&le("prev")},[t.prev?.(R.value)??l(yl,null,{default:()=>[l(X,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),c("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:k},[c("div",{ref:b,class:"v-slide-group__content",onFocusin:B,onFocusout:q,onKeydown:J},[t.default?.(R.value)])]),Q.value&&c("div",{key:"next",class:ve(["v-slide-group__next",{"v-slide-group__next--disabled":!M.value}]),onMousedown:H,onClick:()=>M.value&&le("next")},[t.next?.(R.value)??l(yl,null,{default:()=>[l(X,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:i.selected,scrollTo:le,scrollOffset:d,focus:oe,hasPrev:he,hasNext:M}}}),Ds=Symbol.for("vuetify:v-chip-group"),sc=te({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:$t},...Rs(),...ke(),...ba({selectedClass:"v-chip--selected"}),...Le(),...je(),...zt({variant:"tonal"})},"VChipGroup"),rc=ce()({name:"VChipGroup",props:sc(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=We(e),{isSelected:o,select:s,next:i,prev:u,selected:d}=_a(e,Ds);return Pt({VChip:{baseColor:W(()=>e.baseColor),color:W(()=>e.color),disabled:W(()=>e.disabled),filter:W(()=>e.filter),variant:W(()=>e.variant)}}),me(()=>{const m=vo.filterProps(e);return l(vo,de(m,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>[t.default?.({isSelected:o,select:s,next:i,prev:u,selected:d.value})]})}),{}}}),ic=te({activeClass:String,appendAvatar:String,appendIcon:we,baseColor:String,closable:Boolean,closeIcon:{type:we,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:we,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:we,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:ot(),onClickOnce:ot(),...jt(),...ke(),...Vt(),...At(),..._n(),...st(),...Pa(),..._l(),...Le({tag:"span"}),...je(),...zt({variant:"tonal"})},"VChip"),Pe=ce()({name:"VChip",directives:{vRipple:xt},props:ic(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const{t:s}=Xt(),{borderClasses:i}=Jt(e),{densityClasses:u}=Lt(e),{elevationClasses:d}=Ft(e),{roundedClasses:m}=vt(e),{sizeClasses:v}=jl(e),{themeClasses:g}=We(e),p=$e(e,"modelValue"),f=Sn(e,Ds,!1),b=Ca(e,t),x=W(()=>e.link!==!1&&b.isLink.value),h=E(()=>!e.disabled&&e.link!==!1&&(!!f||e.link||b.isClickable.value)),w=W(()=>({"aria-label":s(e.closeLabel),disabled:e.disabled,onClick(k){k.preventDefault(),k.stopPropagation(),p.value=!1,a("click:close",k)}})),{colorClasses:C,colorStyles:L,variantClasses:j}=cl(()=>({color:!f||f.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function N(k){a("click",k),h.value&&(b.navigate?.(k),f?.toggle())}function P(k){(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),N(k))}return()=>{const k=b.isLink.value?"a":e.tag,B=!!(e.appendIcon||e.appendAvatar),q=!!(B||o.append),G=!!(o.close||e.closable),D=!!(o.filter||e.filter)&&f,H=!!(e.prependIcon||e.prependAvatar),J=!!(H||o.prepend);return p.value&&et(l(k,de({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":h.value,"v-chip--filter":D,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&b.isActive?.value},g.value,i.value,C.value,u.value,d.value,m.value,v.value,j.value,f?.selectedClass.value,e.class],style:[L.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:h.value?0:void 0,onClick:N,onKeydown:h.value&&!x.value&&P},b.linkProps),{default:()=>[dl(h.value,"v-chip"),D&&l(Eo,{key:"filter"},{default:()=>[et(c("div",{class:"v-chip__filter"},[o.filter?l(Oe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},o.filter):l(X,{key:"filter-icon",icon:e.filterIcon},null)]),[[nl,f.isSelected.value]])]}),J&&c("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?l(Oe,{key:"prepend-defaults",disabled:!H,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):c(_e,null,[e.prependIcon&&l(X,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&l(dt,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),c("div",{class:"v-chip__content","data-no-activator":""},[o.default?.({isSelected:f?.isSelected.value,selectedClass:f?.selectedClass.value,select:f?.select,toggle:f?.toggle,value:f?.value.value,disabled:e.disabled})??z(e.text)]),q&&c("div",{key:"append",class:"v-chip__append"},[o.append?l(Oe,{key:"append-defaults",disabled:!B,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):c(_e,null,[e.appendIcon&&l(X,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&l(dt,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),G&&c("button",de({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},w.value),[o.close?l(Oe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):l(X,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[xt,h.value&&e.ripple,null]])}}});function uc(){const e=T([]);Ir(()=>e.value=[]);function n(t,a){e.value[a]=t}return{refs:e,updateRef:n}}const dc=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:we,default:"$first"},prevIcon:{type:we,default:"$prev"},nextIcon:{type:we,default:"$next"},lastIcon:{type:we,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...jt(),...ke(),...Vt(),...At(),...st(),..._l(),...Le({tag:"nav"}),...je(),...zt({variant:"text"})},"VPagination"),fo=ce()({name:"VPagination",props:dc(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const o=$e(e,"modelValue"),{t:s,n:i}=Xt(),{isRtl:u}=yt(),{themeClasses:d}=We(e),{width:m}=ol(),v=ge(-1);Pt(void 0,{scoped:!0});const{resizeRef:g}=pl(B=>{if(!B.length)return;const{target:q,contentRect:G}=B[0],D=q.querySelector(".v-pagination__list > *");if(!D)return;const H=G.width,J=D.offsetWidth+parseFloat(getComputedStyle(D).marginRight)*2;v.value=x(H,J)}),p=E(()=>parseInt(e.length,10)),f=E(()=>parseInt(e.start,10)),b=E(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):v.value>=0?v.value:x(m.value,58));function x(B,q){const G=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((B-q*G)/q).toFixed(2))))}const h=E(()=>{if(p.value<=0||isNaN(p.value)||p.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[o.value];if(p.value<=b.value)return Tl(p.value,f.value);const B=b.value%2===0,q=B?b.value/2:Math.floor(b.value/2),G=B?q:q+1,D=p.value-q;if(G-o.value>=0)return[...Tl(Math.max(1,b.value-1),f.value),e.ellipsis,p.value];if(o.value-D>=(B?1:0)){const H=b.value-1,J=p.value-H+f.value;return[f.value,e.ellipsis,...Tl(H,J)]}else{const H=Math.max(1,b.value-2),J=H===1?o.value:o.value-Math.ceil(H/2)+f.value;return[f.value,e.ellipsis,...Tl(H,J),e.ellipsis,p.value]}});function w(B,q,G){B.preventDefault(),o.value=q,G&&a(G,q)}const{refs:C,updateRef:L}=uc();Pt({VPaginationBtn:{color:W(()=>e.color),border:W(()=>e.border),density:W(()=>e.density),size:W(()=>e.size),variant:W(()=>e.variant),rounded:W(()=>e.rounded),elevation:W(()=>e.elevation)}});const j=E(()=>h.value.map((B,q)=>{const G=D=>L(D,q);if(typeof B=="string")return{isActive:!1,key:`ellipsis-${q}`,page:B,props:{ref:G,ellipsis:!0,icon:!0,disabled:!0}};{const D=B===o.value;return{isActive:D,key:B,page:i(B),props:{ref:G,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:D?e.activeColor:e.color,"aria-current":D,"aria-label":s(D?e.currentPageAriaLabel:e.pageAriaLabel,B),onClick:H=>w(H,B)}}}})),N=E(()=>{const B=!!e.disabled||o.value<=f.value,q=!!e.disabled||o.value>=f.value+p.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:G=>w(G,f.value,"first"),disabled:B,"aria-label":s(e.firstAriaLabel),"aria-disabled":B}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:G=>w(G,o.value-1,"prev"),disabled:B,"aria-label":s(e.previousAriaLabel),"aria-disabled":B},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:G=>w(G,o.value+1,"next"),disabled:q,"aria-label":s(e.nextAriaLabel),"aria-disabled":q},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:G=>w(G,f.value+p.value-1,"last"),disabled:q,"aria-label":s(e.lastAriaLabel),"aria-disabled":q}:void 0}});function P(){const B=o.value-f.value;C.value[B]?.$el.focus()}function k(B){B.key===en.left&&!e.disabled&&o.value>Number(e.start)?(o.value=o.value-1,He(P)):B.key===en.right&&!e.disabled&&o.value<f.value+p.value-1&&(o.value=o.value+1,He(P))}return me(()=>l(e.tag,{ref:g,class:ve(["v-pagination",d.value,e.class]),style:xe(e.style),role:"navigation","aria-label":s(e.ariaLabel),onKeydown:k,"data-test":"v-pagination-root"},{default:()=>[c("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&c("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(N.value.first):l(re,de({_as:"VPaginationBtn"},N.value.first),null)]),c("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(N.value.prev):l(re,de({_as:"VPaginationBtn"},N.value.prev),null)]),j.value.map((B,q)=>c("li",{key:B.key,class:ve(["v-pagination__item",{"v-pagination__item--is-active":B.isActive}]),"data-test":"v-pagination-item"},[t.item?t.item(B):l(re,de({_as:"VPaginationBtn"},B.props),{default:()=>[B.page]})])),c("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(N.value.next):l(re,de({_as:"VPaginationBtn"},N.value.next),null)]),e.showFirstLastPage&&c("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(N.value.last):l(re,de({_as:"VPaginationBtn"},N.value.last),null)])])]})),{}}}),cc=te({renderless:Boolean,...ke()},"VVirtualScrollItem"),vc=ce()({name:"VVirtualScrollItem",inheritAttrs:!1,props:cc(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const{resizeRef:s,contentRect:i}=pl(void 0,"border");be(()=>i.value?.height,u=>{u!=null&&a("update:height",u)}),me(()=>e.renderless?c(_e,null,[o.default?.({itemRef:s})]):c("div",de({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},t),[o.default?.()]))}}),fc=-1,mc=1,Ka=100,gc=te({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function pc(e,n){const t=ol(),a=ge(0);ht(()=>{a.value=parseFloat(e.itemHeight||0)});const o=ge(0),s=ge(Math.ceil((parseInt(e.height)||t.height.value)/(a.value||16))||1),i=ge(0),u=ge(0),d=T(),m=T();let v=0;const{resizeRef:g,contentRect:p}=pl();ht(()=>{g.value=d.value});const f=E(()=>d.value===document.documentElement?t.height.value:p.value?.height||parseInt(e.height)||0),b=E(()=>!!(d.value&&m.value&&f.value&&a.value));let x=Array.from({length:n.value.length}),h=Array.from({length:n.value.length});const w=ge(0);let C=-1;function L(M){return x[M]||a.value}const j=ni(()=>{const M=performance.now();h[0]=0;const K=n.value.length;for(let $=1;$<=K-1;$++)h[$]=(h[$-1]||0)+L($-1);w.value=Math.max(w.value,performance.now()-M)},w),N=be(b,M=>{M&&(N(),v=m.value.offsetTop,j.immediate(),le(),~C&&He(()=>{ut&&window.requestAnimationFrame(()=>{Q(C),C=-1})}))});ct(()=>{j.clear()});function P(M,K){const $=x[M],y=a.value;a.value=y?Math.min(a.value,K):K,($!==K||y!==a.value)&&(x[M]=K,j())}function k(M){return M=nt(M,0,n.value.length-1),h[M]||0}function B(M){return yc(h,M)}let q=0,G=0,D=0;be(f,(M,K)=>{K&&(le(),M<K&&requestAnimationFrame(()=>{G=0,le()}))});let H=-1;function J(){if(!d.value||!m.value)return;const M=d.value.scrollTop,K=performance.now();K-D>500?(G=Math.sign(M-q),v=m.value.offsetTop):G=M-q,q=M,D=K,window.clearTimeout(H),H=window.setTimeout(ae,500),le()}function ae(){!d.value||!m.value||(G=0,D=0,window.clearTimeout(H),le())}let oe=-1;function le(){cancelAnimationFrame(oe),oe=requestAnimationFrame(R)}function R(){if(!d.value||!f.value)return;const M=q-v,K=Math.sign(G),$=Math.max(0,M-Ka),y=nt(B($),0,n.value.length),S=M+f.value+Ka,A=nt(B(S)+1,y+1,n.value.length);if((K!==fc||y<o.value)&&(K!==mc||A>s.value)){const F=k(o.value)-k(y),ne=k(A)-k(s.value);Math.max(F,ne)>Ka?(o.value=y,s.value=A):(y<=0&&(o.value=y),A>=n.value.length&&(s.value=A))}i.value=k(o.value),u.value=k(n.value.length)-k(s.value)}function Q(M){const K=k(M);!d.value||M&&!K?C=M:d.value.scrollTop=K}const he=E(()=>n.value.slice(o.value,s.value).map((M,K)=>{const $=K+o.value;return{raw:M,index:$,key:gt(M,e.itemKey,$)}}));return be(n,()=>{x=Array.from({length:n.value.length}),h=Array.from({length:n.value.length}),j.immediate(),le()},{deep:1}),{calculateVisibleItems:le,containerRef:d,markerRef:m,computedItems:he,paddingTop:i,paddingBottom:u,scrollToIndex:Q,handleScroll:J,handleScrollend:ae,handleItemResize:P}}function yc(e,n){let t=e.length-1,a=0,o=0,s=null,i=-1;if(e[t]<n)return t;for(;a<=t;)if(o=a+t>>1,s=e[o],s>n)t=o-1;else if(s<n)i=o,a=o+1;else return s===n?o:a;return i}const hc=te({items:{type:Array,default:()=>[]},renderless:Boolean,...gc(),...ke(),...It()},"VVirtualScroll"),bc=ce()({name:"VVirtualScroll",props:hc(),setup(e,n){let{slots:t}=n;const a=bt("VVirtualScroll"),{dimensionStyles:o}=Tt(e),{calculateVisibleItems:s,containerRef:i,markerRef:u,handleScroll:d,handleScrollend:m,handleItemResize:v,scrollToIndex:g,paddingTop:p,paddingBottom:f,computedItems:b}=pc(e,W(()=>e.items));return Ct(()=>e.renderless,()=>{function x(){const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[w]("scroll",d,{passive:!0}),document[w]("scrollend",m)):(i.value?.[w]("scroll",d,{passive:!0}),i.value?.[w]("scrollend",m))}tt(()=>{i.value=Vo(a.vnode.el,!0),x(!0)}),ct(x)}),me(()=>{const x=b.value.map(h=>l(vc,{key:h.key,renderless:e.renderless,"onUpdate:height":w=>v(h.index,w)},{default:w=>t.default?.({item:h.raw,index:h.index,...w})}));return e.renderless?c(_e,null,[c("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:ye(p.value)}},null),x,c("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ye(f.value)}},null)]):c("div",{ref:i,class:ve(["v-virtual-scroll",e.class]),onScrollPassive:d,onScrollend:m,style:xe([o.value,e.style])},[c("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:ye(p.value),paddingBottom:ye(f.value)}},[x])])}),{calculateVisibleItems:s,scrollToIndex:g}}});function _c(e,n){const t=ge(!1);let a;function o(u){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function s(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(t.value){const d=be(t,()=>{d(),u()})}else u()})}async function i(u){if(u.key==="Tab"&&n.value?.focus(),!["PageDown","PageUp","Home","End"].includes(u.key))return;const d=e.value?.$el;if(!d)return;(u.key==="Home"||u.key==="End")&&d.scrollTo({top:u.key==="Home"?0:d.scrollHeight,behavior:"smooth"}),await s();const m=d.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const v=d.getBoundingClientRect().top;for(const g of m)if(g.getBoundingClientRect().top>=v){g.focus();break}}else{const v=d.getBoundingClientRect().bottom;for(const g of[...m].reverse())if(g.getBoundingClientRect().bottom<=v){g.focus();break}}}return{onScrollPassive:o,onKeydown:i}}const Sc=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:we,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...fs({itemChildren:!1})},"Select"),xc=te({...Sc(),...Yt(Ls({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ml({transition:{component:yn}})},"VSelect"),Ee=ce()({name:"VSelect",props:xc(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=Xt(),o=T(),s=T(),i=T(),{items:u,transformIn:d,transformOut:m}=Su(e),v=$e(e,"modelValue",[],M=>d(M===null?[null]:rt(M)),M=>{const K=m(M);return e.multiple?K:K[0]??null}),g=E(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:v.value.length),p=$s(e),f=E(()=>v.value.map(M=>M.value)),b=ge(!1);let x="",h=-1,w;const C=E(()=>e.hideSelected?u.value.filter(M=>!v.value.some(K=>(e.valueComparator||$t)(K,M))):u.value),L=E(()=>e.hideNoData&&!C.value.length||p.isReadonly.value||p.isDisabled.value),j=$e(e,"menu"),N=E({get:()=>j.value,set:M=>{j.value&&!M&&s.value?.openChildren.size||M&&L.value||(j.value=M)}}),P=W(()=>N.value?e.closeText:e.openText),k=E(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),B=T(),q=_c(B,o);function G(M){e.openOnClear&&(N.value=!0)}function D(){L.value||(N.value=!N.value)}function H(M){Un(M)&&J(M)}function J(M){if(!M.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(M.key)&&M.preventDefault(),["Enter","ArrowDown"," "].includes(M.key)&&(N.value=!0),["Escape","Tab"].includes(M.key)&&(N.value=!1),M.key==="Home"?B.value?.focus("first"):M.key==="End"&&B.value?.focus("last");const K=1e3;if(!Un(M))return;const $=performance.now();$-w>K&&(x="",h=-1),x+=M.key.toLowerCase(),w=$;const y=C.value;function S(){let Ce=A();return Ce||x.at(-1)===x.at(-2)&&(x=x.slice(0,-1),Ce=A(),Ce)||(h=-1,Ce=A(),Ce)?Ce:(x=M.key.toLowerCase(),A())}function A(){for(let Ce=h+1;Ce<y.length;Ce++){const Ue=y[Ce];if(Ue.title.toLowerCase().startsWith(x))return[Ue,Ce]}}const F=S();if(!F)return;const[ne,Ie]=F;h=Ie,B.value?.focus(Ie),e.multiple||(v.value=[ne])}function ae(M){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!M.props.disabled)if(e.multiple){const $=v.value.findIndex(S=>(e.valueComparator||$t)(S.value,M.value)),y=K??!~$;if(~$){const S=y?[...v.value,M]:[...v.value];S.splice($,1),v.value=S}else y&&(v.value=[...v.value,M])}else{const $=K!==!1;v.value=$?[M]:[],He(()=>{N.value=!1})}}function oe(M){B.value?.$el.contains(M.relatedTarget)||(N.value=!1)}function le(){e.eager&&i.value?.calculateVisibleItems()}function R(){b.value&&o.value?.focus()}function Q(M){b.value=!0}function he(M){if(M==null)v.value=[];else if(la(o.value,":autofill")||la(o.value,":-webkit-autofill")){const K=u.value.find($=>$.title===M);K&&ae(K)}else o.value&&(o.value.value="")}return be(N,()=>{if(!e.hideSelected&&N.value&&v.value.length){const M=C.value.findIndex(K=>v.value.some($=>(e.valueComparator||$t)($.value,K.value)));ut&&window.requestAnimationFrame(()=>{M>=0&&i.value?.scrollToIndex(M)})}}),be(()=>e.items,(M,K)=>{N.value||b.value&&!K.length&&M.length&&(N.value=!0)}),me(()=>{const M=!!(e.chips||t.chip),K=!!(!e.hideNoData||C.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),$=v.value.length>0,y=Fe.filterProps(e),S=$||!b.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return l(Fe,de({ref:o},y,{modelValue:v.value.map(A=>A.props.value).join(", "),"onUpdate:modelValue":he,focused:b.value,"onUpdate:focused":A=>b.value=A,validationValue:v.externalValue,counterValue:g.value,dirty:$,class:["v-select",{"v-select--active-menu":N.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:S,"onClick:clear":G,"onMousedown:control":D,onBlur:oe,onKeydown:J,"aria-label":a(P.value),title:a(P.value)}),{...t,default:()=>c(_e,null,[l(Cs,de({ref:s,modelValue:N.value,"onUpdate:modelValue":A=>N.value=A,activator:"parent",contentClass:"v-select__content",disabled:L.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:le,onAfterLeave:R},k.value),{default:()=>[K&&l(Rt,de({ref:B,selected:f.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:A=>A.preventDefault(),onKeydown:H,onFocusin:Q,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},q,e.listProps),{default:()=>[t["prepend-item"]?.(),!C.value.length&&!e.hideNoData&&(t["no-data"]?.()??l(pt,{key:"no-data",title:a(e.noDataText)},null)),l(bc,{ref:i,renderless:!0,items:C.value,itemKey:"value"},{default:A=>{let{item:F,index:ne,itemRef:Ie}=A;const Ce=oi(F.props),Ue=de(F.props,{ref:Ie,key:F.value,onClick:()=>ae(F,null)});return t.item?.({item:F,index:ne,props:Ue})??l(pt,de(Ue,{role:"option"}),{prepend:Re=>{let{isSelected:ft}=Re;return c(_e,null,[e.multiple&&!e.hideSelected?l(bl,{key:F.value,modelValue:ft,ripple:!1,tabindex:"-1"},null):void 0,Ce.prependAvatar&&l(dt,{image:Ce.prependAvatar},null),Ce.prependIcon&&l(X,{icon:Ce.prependIcon},null)])}})}}),t["append-item"]?.()]})]}),v.value.map((A,F)=>{function ne(Re){Re.stopPropagation(),Re.preventDefault(),ae(A,!1)}const Ie={"onClick:close":ne,onKeydown(Re){Re.key!=="Enter"&&Re.key!==" "||(Re.preventDefault(),Re.stopPropagation(),ne(Re))},onMousedown(Re){Re.preventDefault(),Re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ce=M?!!t.chip:!!t.selection,Ue=Ce?si(M?t.chip({item:A,index:F,props:Ie}):t.selection({item:A,index:F})):void 0;if(!(Ce&&!Ue))return c("div",{key:A.value,class:"v-select__selection"},[M?t.chip?l(Oe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:A.title}}},{default:()=>[Ue]}):l(Pe,de({key:"chip",closable:e.closableChips,size:"small",text:A.title,disabled:A.props.disabled},Ie),null):Ue??c("span",{class:"v-select__selection-text"},[A.title,e.multiple&&F<v.value.length-1&&c("span",{class:"v-select__selection-comma"},[_(",")])])])})]),"append-inner":function(){for(var A=arguments.length,F=new Array(A),ne=0;ne<A;ne++)F[ne]=arguments[ne];return c(_e,null,[t["append-inner"]?.(...F),e.menuIcon?l(X,{class:"v-select__menu-icon",color:o.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),rl({isFocused:b,menu:N,select:ae},o)}}),kc=te({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ms=Symbol.for("vuetify:data-table-pagination");function wc(e){const n=$e(e,"page",void 0,a=>Number(a??1)),t=$e(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:n,itemsPerPage:t}}function Vc(e){const{page:n,itemsPerPage:t,itemsLength:a}=e,o=E(()=>t.value===-1?0:t.value*(n.value-1)),s=E(()=>t.value===-1?a.value:Math.min(a.value,o.value+t.value)),i=E(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));be([n,i],()=>{n.value>i.value&&(n.value=i.value)});function u(p){t.value=p,n.value=1}function d(){n.value=nt(n.value+1,1,i.value)}function m(){n.value=nt(n.value-1,1,i.value)}function v(p){n.value=nt(p,1,i.value)}const g={page:n,itemsPerPage:t,startIndex:o,stopIndex:s,pageCount:i,itemsLength:a,nextPage:d,prevPage:m,setPage:v,setItemsPerPage:u};return at(Ms,g),g}function Cc(){const e=qe(Ms);if(!e)throw new Error("Missing pagination!");return e}function Pc(e){const n=bt("usePaginatedItems"),{items:t,startIndex:a,stopIndex:o,itemsPerPage:s}=e,i=E(()=>s.value<=0?t.value:t.value.slice(a.value,o.value));return be(i,u=>{n.emit("update:currentItems",u)},{immediate:!0}),{paginatedItems:i}}const Us=te({prevIcon:{type:we,default:"$prev"},nextIcon:{type:we,default:"$next"},firstIcon:{type:we,default:"$first"},lastIcon:{type:we,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),mo=ce()({name:"VDataTableFooter",props:Us(),setup(e,n){let{slots:t}=n;const{t:a}=Xt(),{page:o,pageCount:s,startIndex:i,stopIndex:u,itemsLength:d,itemsPerPage:m,setItemsPerPage:v}=Cc(),g=E(()=>e.itemsPerPageOptions.map(p=>typeof p=="number"?{value:p,title:p===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(p)}:{...p,title:isNaN(Number(p.title))?a(p.title):p.title}));return me(()=>{const p=fo.filterProps(e);return c("div",{class:"v-data-table-footer"},[t.prepend?.(),c("div",{class:"v-data-table-footer__items-per-page"},[c("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),l(Ee,{items:g.value,modelValue:m.value,"onUpdate:modelValue":f=>v(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),c("div",{class:"v-data-table-footer__info"},[c("div",null,[a(e.pageText,d.value?i.value+1:0,u.value,d.value)])]),c("div",{class:"v-data-table-footer__pagination"},[l(fo,de({modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},p),null)])])}),{}}}),ua=ri({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,n)=>{let{slots:t}=n;const a=e.tag??"td";return l(a,{tabindex:"0",class:ve(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:ye(e.height),width:ye(e.width),maxWidth:ye(e.maxWidth),left:ye(e.fixedOffset||null)}},{default:()=>[t.default?.()]})}),Ic=te({headers:Array},"DataTable-header"),js=Symbol.for("vuetify:data-table-headers"),Gs={title:"",sortable:!1},Tc={...Gs,width:48};function Ac(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(t=>({element:t,priority:0}));return{enqueue:(t,a)=>{let o=!1;for(let s=0;s<n.length;s++)if(n[s].priority>a){n.splice(s,0,{element:t,priority:a}),o=!0;break}o||n.push({element:t,priority:a})},size:()=>n.length,count:()=>{let t=0;if(!n.length)return 0;const a=Math.floor(n[0].priority);for(let o=0;o<n.length;o++)Math.floor(n[o].priority)===a&&(t+=1);return t},dequeue:()=>n.shift()}}function un(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)n.push(e);else for(const t of e.children)un(t,n);return n}function Hs(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const t of e)t.key&&n.add(t.key),t.children&&Hs(t.children,n);return n}function Ec(e){if(e.key){if(e.key==="data-table-group")return Gs;if(["data-table-expand","data-table-select"].includes(e.key))return Tc}}function $n(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(n,...e.children.map(t=>$n(t,n+1))):n}function $c(e){let n=!1;function t(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(i&&(s.fixed=!0),s.fixed)if(s.children)for(let u=s.children.length-1;u>=0;u--)t(s.children[u],!0);else n?isNaN(Number(s.width))?ii(`Multiple fixed columns should have a static width (key: ${s.key})`):s.minWidth=Math.max(Number(s.width)||0,Number(s.minWidth)||0):s.lastFixed=!0,n=!0;else if(s.children)for(let u=s.children.length-1;u>=0;u--)t(s.children[u]);else n=!1}for(let s=e.length-1;s>=0;s--)t(e[s]);function a(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return i;if(s.children){s.fixedOffset=i;for(const u of s.children)i=a(u,i)}else s.fixed&&(s.fixedOffset=i,i+=parseFloat(s.width||"0")||0);return i}let o=0;for(const s of e)o=a(s,o)}function Bc(e,n){const t=[];let a=0;const o=Ac(e);for(;o.size()>0;){let i=o.count();const u=[];let d=1;for(;i>0;){const{element:m,priority:v}=o.dequeue(),g=n-a-$n(m);if(u.push({...m,rowspan:g??1,colspan:m.children?un(m).length:1}),m.children)for(const p of m.children){const f=v%1+d/Math.pow(10,a+2);o.enqueue(p,a+g+f)}d+=1,i-=1}a+=1,t.push(u)}return{columns:e.map(i=>un(i)).flat(),headers:t}}function qs(e){const n=[];for(const t of e){const a={...Ec(t),...t},o=a.key??(typeof a.value=="string"?a.value:null),s=a.value??o??null,i={...a,key:o,value:s,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?qs(a.children):void 0};n.push(i)}return n}function Nc(e,n){const t=T([]),a=T([]),o=T({}),s=T({}),i=T({});ht(()=>{const m=(e.headers||Object.keys(e.items[0]??{}).map(x=>({key:x,title:fa(x)}))).slice(),v=Hs(m);n?.groupBy?.value.length&&!v.has("data-table-group")&&m.unshift({key:"data-table-group",title:"Group"}),n?.showSelect?.value&&!v.has("data-table-select")&&m.unshift({key:"data-table-select"}),n?.showExpand?.value&&!v.has("data-table-expand")&&m.push({key:"data-table-expand"});const g=qs(m);$c(g);const p=Math.max(...g.map(x=>$n(x)))+1,f=Bc(g,p);t.value=f.headers,a.value=f.columns;const b=f.headers.flat(1);for(const x of b)x.key&&(x.sortable&&(x.sort&&(o.value[x.key]=x.sort),x.sortRaw&&(s.value[x.key]=x.sortRaw)),x.filter&&(i.value[x.key]=x.filter))});const u={headers:t,columns:a,sortFunctions:o,sortRawFunctions:s,filterFunctions:i};return at(js,u),u}function Ta(){const e=qe(js);if(!e)throw new Error("Missing headers!");return e}const Fc={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:n,value:t}=e;return new Set(t?[n[0]?.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},Ws={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const o of n)t?a.add(o.value):a.delete(o.value);return a},selectAll:e=>{let{value:n,currentPage:t,selected:a}=e;return Ws.select({items:t,value:n,selected:a})}},Ks={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const o of n)t?a.add(o.value):a.delete(o.value);return a},selectAll:e=>{let{value:n,allItems:t,selected:a}=e;return Ks.select({items:t,value:n,selected:a})}},Lc=te({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:$t}},"DataTable-select"),Ys=Symbol.for("vuetify:data-table-selection");function zc(e,n){let{allItems:t,currentPage:a}=n;const o=$e(e,"modelValue",e.modelValue,C=>new Set(rt(C).map(L=>t.value.find(j=>e.valueComparator(L,j.value))?.value??L)),C=>[...C.values()]),s=E(()=>t.value.filter(C=>C.selectable)),i=E(()=>a.value.filter(C=>C.selectable)),u=E(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Fc;case"all":return Ks;case"page":default:return Ws}}),d=ge(null);function m(C){return rt(C).every(L=>o.value.has(L.value))}function v(C){return rt(C).some(L=>o.value.has(L.value))}function g(C,L){const j=u.value.select({items:C,value:L,selected:new Set(o.value)});o.value=j}function p(C,L,j){const N=[];if(L=L??a.value.findIndex(P=>P.value===C.value),e.selectStrategy!=="single"&&j?.shiftKey&&d.value!==null){const[P,k]=[d.value,L].sort((B,q)=>B-q);N.push(...a.value.slice(P,k+1).filter(B=>B.selectable))}else N.push(C),d.value=L;g(N,!m([C]))}function f(C){const L=u.value.selectAll({value:C,allItems:s.value,currentPage:i.value,selected:new Set(o.value)});o.value=L}const b=E(()=>o.value.size>0),x=E(()=>{const C=u.value.allSelected({allItems:s.value,currentPage:i.value});return!!C.length&&m(C)}),h=W(()=>u.value.showSelectAll),w={toggleSelect:p,select:g,selectAll:f,isSelected:m,isSomeSelected:v,someSelected:b,allSelected:x,showSelectAll:h,lastSelectedIndex:d,selectStrategy:u};return at(Ys,w),w}function Aa(){const e=qe(Ys);if(!e)throw new Error("Missing selection!");return e}const Oc=te({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Xs=Symbol.for("vuetify:data-table-sort");function Rc(e){const n=$e(e,"sortBy"),t=W(()=>e.mustSort),a=W(()=>e.multiSort);return{sortBy:n,mustSort:t,multiSort:a}}function Dc(e){const{sortBy:n,mustSort:t,multiSort:a,page:o}=e,s=d=>{if(d.key==null)return;let m=n.value.map(g=>({...g}))??[];const v=m.find(g=>g.key===d.key);v?v.order==="desc"?t.value&&m.length===1?v.order="asc":m=m.filter(g=>g.key!==d.key):v.order="desc":a.value?m.push({key:d.key,order:"asc"}):m=[{key:d.key,order:"asc"}],n.value=m,o&&(o.value=1)};function i(d){return!!n.value.find(m=>m.key===d.key)}const u={sortBy:n,toggleSort:s,isSorted:i};return at(Xs,u),u}function Js(){const e=qe(Xs);if(!e)throw new Error("Missing sort!");return e}function Mc(e,n,t,a){const o=Xt();return{sortedItems:E(()=>t.value.length?Uc(n.value,t.value,o.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):n.value)}}function Uc(e,n,t,a){const o=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,a?.transform?a.transform(i):i]).sort((i,u)=>{for(let d=0;d<n.length;d++){let m=!1;const v=n[d].key,g=n[d].order??"asc";if(g===!1)continue;let p=na(i[1],v),f=na(u[1],v),b=i[0].raw,x=u[0].raw;if(g==="desc"&&([p,f]=[f,p],[b,x]=[x,b]),a?.sortRawFunctions?.[v]){const h=a.sortRawFunctions[v](b,x);if(h==null)continue;if(m=!0,h)return h}if(a?.sortFunctions?.[v]){const h=a.sortFunctions[v](p,f);if(h==null)continue;if(m=!0,h)return h}if(!m){if(p instanceof Date&&f instanceof Date)return p.getTime()-f.getTime();if([p,f]=[p,f].map(h=>h!=null?h.toString().toLocaleLowerCase():h),p!==f)return Xl(p)&&Xl(f)?0:Xl(p)?-1:Xl(f)?1:!isNaN(p)&&!isNaN(f)?Number(p)-Number(f):o.compare(p,f)}}return 0}).map(i=>{let[u]=i;return u})}const Qs=te({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:we,default:"$sortAsc"},sortDescIcon:{type:we,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Rl(),...xa()},"VDataTableHeaders"),go=ce()({name:"VDataTableHeaders",props:Qs(),setup(e,n){let{slots:t}=n;const{t:a}=Xt(),{toggleSort:o,sortBy:s,isSorted:i}=Js(),{someSelected:u,allSelected:d,selectAll:m,showSelectAll:v}=Aa(),{columns:g,headers:p}=Ta(),{loaderClasses:f}=ka(e);function b(q,G){if(!(!(e.sticky||e.fixedHeader)&&!q.fixed))return{position:"sticky",left:q.fixed?ye(q.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${G})`:void 0}}function x(q,G){q.key==="Enter"&&!e.disableSort&&o(G)}function h(q){const G=s.value.find(D=>D.key===q.key);return G?G.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:w,backgroundColorStyles:C}=it(()=>e.color),{displayClasses:L,mobile:j}=ol(e),N=E(()=>({headers:p.value,columns:g.value,toggleSort:o,isSorted:i,sortBy:s.value,someSelected:u.value,allSelected:d.value,selectAll:m,getSortIcon:h})),P=E(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},L.value,f.value]),k=q=>{let{column:G,x:D,y:H}=q;const J=G.key==="data-table-select"||G.key==="data-table-expand",ae=de(e.headerProps??{},G.headerProps??{});return l(ua,de({tag:"th",align:G.align,class:[{"v-data-table__th--sortable":G.sortable&&!e.disableSort,"v-data-table__th--sorted":i(G),"v-data-table__th--fixed":G.fixed},...P.value],style:{width:ye(G.width),minWidth:ye(G.minWidth),maxWidth:ye(G.maxWidth),...b(G,H)},colspan:G.colspan,rowspan:G.rowspan,onClick:G.sortable?()=>o(G):void 0,fixed:G.fixed,nowrap:G.nowrap,lastFixed:G.lastFixed,noPadding:J},ae,{onKeydown:oe=>G.sortable&&x(oe,G)}),{default:()=>{const oe=`header.${G.key}`,le={column:G,selectAll:m,isSorted:i,toggleSort:o,sortBy:s.value,someSelected:u.value,allSelected:d.value,getSortIcon:h};return t[oe]?t[oe](le):G.key==="data-table-select"?t["header.data-table-select"]?.(le)??(v.value&&l(bl,{modelValue:d.value,indeterminate:u.value&&!d.value,"onUpdate:modelValue":m},null)):c("div",{class:"v-data-table-header__content"},[c("span",null,[G.title]),G.sortable&&!e.disableSort&&l(X,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(G)},null),e.multiSort&&i(G)&&c("div",{key:"badge",class:ve(["v-data-table-header__sort-badge",...w.value]),style:xe(C.value)},[s.value.findIndex(R=>R.key===G.key)+1])])}})},B=()=>{const q=E(()=>g.value.filter(D=>D?.sortable&&!e.disableSort)),G=E(()=>{if(g.value.find(H=>H.key==="data-table-select")!=null)return d.value?"$checkboxOn":u.value?"$checkboxIndeterminate":"$checkboxOff"});return l(ua,de({tag:"th",class:[...P.value],colspan:p.value.length+1},e.headerProps),{default:()=>[c("div",{class:"v-data-table-header__content"},[l(Ee,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:q.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:G.value,"onClick:append":()=>m(!d.value)},{...t,chip:D=>l(Pe,{onClick:D.item.raw?.sortable?()=>o(D.item.raw):void 0,onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},{default:()=>[D.item.title,l(X,{class:ve(["v-data-table__td-sort-icon",i(D.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:h(D.item.raw),size:"small"},null)]})})])]})};me(()=>j.value?c("tr",null,[l(B,null,null)]):c(_e,null,[t.headers?t.headers(N.value):p.value.map((q,G)=>c("tr",null,[q.map((D,H)=>l(k,{column:D,x:H,y:G},null))])),e.loading&&c("tr",{class:"v-data-table-progress"},[c("th",{colspan:g.value.length},[l(kn,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),jc=te({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Zs=Symbol.for("vuetify:data-table-group");function Gc(e){return{groupBy:$e(e,"groupBy")}}function Hc(e){const{disableSort:n,groupBy:t,sortBy:a}=e,o=T(new Set),s=E(()=>t.value.map(v=>({...v,order:v.order??!1})).concat(n?.value?[]:a.value));function i(v){return o.value.has(v.id)}function u(v){const g=new Set(o.value);i(v)?g.delete(v.id):g.add(v.id),o.value=g}function d(v){function g(p){const f=[];for(const b of p.items)"type"in b&&b.type==="group"?f.push(...g(b)):f.push(b);return[...new Set(f)]}return g({items:v})}const m={sortByWithGroups:s,toggleGroup:u,opened:o,groupBy:t,extractRows:d,isGroupOpen:i};return at(Zs,m),m}function er(){const e=qe(Zs);if(!e)throw new Error("Missing group!");return e}function qc(e,n){if(!e.length)return[];const t=new Map;for(const a of e){const o=na(a.raw,n);t.has(o)||t.set(o,[]),t.get(o).push(a)}return t}function tr(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const o=qc(e,n[0]),s=[],i=n.slice(1);return o.forEach((u,d)=>{const m=n[0],v=`${a}_${m}_${d}`;s.push({depth:t,id:v,key:m,value:d,items:i.length?tr(u,i,t+1,v):u,type:"group"})}),s}function lr(e,n){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(n.has(a.id)||a.value==null)&&t.push(...lr(a.items,n))):t.push(a);return t}function Wc(e,n,t){return{flatItems:E(()=>{if(!n.value.length)return e.value;const o=tr(e.value,n.value.map(s=>s.key));return lr(o,t.value)})}}const Kc=te({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Yc=ce()({name:"VDataTableGroupHeaderRow",props:Kc(),setup(e,n){let{slots:t}=n;const{isGroupOpen:a,toggleGroup:o,extractRows:s}=er(),{isSelected:i,isSomeSelected:u,select:d}=Aa(),{columns:m}=Ta(),v=E(()=>s([e.item]));return()=>c("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[m.value.map(g=>{if(g.key==="data-table-group"){const p=a(e.item)?"$expand":"$next",f=()=>o(e.item);return t["data-table-group"]?.({item:e.item,count:v.value.length,props:{icon:p,onClick:f}})??l(ua,{class:"v-data-table-group-header-row__column"},{default:()=>[l(re,{size:"small",variant:"text",icon:p,onClick:f},null),c("span",null,[e.item.value]),c("span",null,[_("("),v.value.length,_(")")])]})}if(g.key==="data-table-select"){const p=i(v.value),f=u(v.value)&&!p,b=x=>d(v.value,x);return t["data-table-select"]?.({props:{modelValue:p,indeterminate:f,"onUpdate:modelValue":b}})??c("td",null,[l(bl,{modelValue:p,indeterminate:f,"onUpdate:modelValue":b},null)])}return c("td",null,null)})])}}),Xc=te({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ar=Symbol.for("vuetify:datatable:expanded");function Jc(e){const n=W(()=>e.expandOnClick),t=$e(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function a(u,d){const m=new Set(t.value);d?m.add(u.value):m.delete(u.value),t.value=m}function o(u){return t.value.has(u.value)}function s(u){a(u,!o(u))}const i={expand:a,expanded:t,expandOnClick:n,isExpanded:o,toggleExpand:s};return at(ar,i),i}function nr(){const e=qe(ar);if(!e)throw new Error("foo");return e}const Qc=te({index:Number,item:Object,cellProps:[Object,Function],onClick:ot(),onContextmenu:ot(),onDblclick:ot(),...Rl()},"VDataTableRow"),Zc=ce()({name:"VDataTableRow",props:Qc(),setup(e,n){let{slots:t}=n;const{displayClasses:a,mobile:o}=ol(e,"v-data-table__tr"),{isSelected:s,toggleSelect:i,someSelected:u,allSelected:d,selectAll:m}=Aa(),{isExpanded:v,toggleExpand:g}=nr(),{toggleSort:p,sortBy:f,isSorted:b}=Js(),{columns:x}=Ta();me(()=>c("tr",{class:ve(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&x.value.map((h,w)=>{const C=e.item,L=`item.${h.key}`,j=`header.${h.key}`,N={index:e.index,item:C.raw,internalItem:C,value:na(C.columns,h.key),column:h,isSelected:s,toggleSelect:i,isExpanded:v,toggleExpand:g},P={column:h,selectAll:m,isSorted:b,toggleSort:p,sortBy:f.value,someSelected:u.value,allSelected:d.value,getSortIcon:()=>""},k=typeof e.cellProps=="function"?e.cellProps({index:N.index,item:N.item,internalItem:N.internalItem,value:N.value,column:h}):e.cellProps,B=typeof h.cellProps=="function"?h.cellProps({index:N.index,item:N.item,internalItem:N.internalItem,value:N.value}):h.cellProps;return l(ua,de({align:h.align,class:{"v-data-table__td--expanded-row":h.key==="data-table-expand","v-data-table__td--select-row":h.key==="data-table-select"},fixed:h.fixed,fixedOffset:h.fixedOffset,lastFixed:h.lastFixed,maxWidth:o.value?void 0:h.maxWidth,noPadding:h.key==="data-table-select"||h.key==="data-table-expand",nowrap:h.nowrap,width:o.value?void 0:h.width},k,B),{default:()=>{if(h.key==="data-table-select")return t["item.data-table-select"]?.({...N,props:{disabled:!C.selectable,modelValue:s([C]),onClick:Zt(()=>i(C),["stop"])}})??l(bl,{disabled:!C.selectable,modelValue:s([C]),onClick:Zt(G=>i(C,e.index,G),["stop"])},null);if(h.key==="data-table-expand")return t["item.data-table-expand"]?.({...N,props:{icon:v(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:Zt(()=>g(C),["stop"])}})??l(re,{icon:v(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:Zt(()=>g(C),["stop"])},null);if(t[L]&&!o.value)return t[L](N);const q=z(N.value);return o.value?c(_e,null,[c("div",{class:"v-data-table__td-title"},[t[j]?.(P)??h.title]),c("div",{class:"v-data-table__td-value"},[t[L]?.(N)??q])]):q}})})]))}}),or=te({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Rl()},"VDataTableRows"),po=ce()({name:"VDataTableRows",inheritAttrs:!1,props:or(),setup(e,n){let{attrs:t,slots:a}=n;const{columns:o}=Ta(),{expandOnClick:s,toggleExpand:i,isExpanded:u}=nr(),{isSelected:d,toggleSelect:m}=Aa(),{toggleGroup:v,isGroupOpen:g}=er(),{t:p}=Xt(),{mobile:f}=ol(e);return me(()=>e.loading&&(!e.items.length||a.loading)?c("tr",{class:"v-data-table-rows-loading",key:"loading"},[c("td",{colspan:o.value.length},[a.loading?.()??p(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?c("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[c("td",{colspan:o.value.length},[a["no-data"]?.()??p(e.noDataText)])]):c(_e,null,[e.items.map((b,x)=>{if(b.type==="group"){const C={index:x,item:b,columns:o.value,isExpanded:u,toggleExpand:i,isSelected:d,toggleSelect:m,toggleGroup:v,isGroupOpen:g};return a["group-header"]?a["group-header"](C):l(Yc,de({key:`group-header_${b.id}`,item:b},jn(t,":group-header",()=>C)),a)}const h={index:x,item:b.raw,internalItem:b,columns:o.value,isExpanded:u,toggleExpand:i,isSelected:d,toggleSelect:m},w={...h,props:de({key:`item_${b.key??b.index}`,onClick:s.value?()=>{i(b)}:void 0,index:x,item:b,cellProps:e.cellProps,mobile:f.value},jn(t,":row",()=>h),typeof e.rowProps=="function"?e.rowProps({item:h.item,index:h.index,internalItem:h.internalItem}):e.rowProps)};return c(_e,{key:w.props.key},[a.item?a.item(w):l(Zc,w.props,a),u(b)&&a["expanded-row"]?.(h)])})])),{}}}),sr=te({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ke(),...Vt(),...Le(),...je()},"VTable"),yo=ce()({name:"VTable",props:sr(),setup(e,n){let{slots:t,emit:a}=n;const{themeClasses:o}=We(e),{densityClasses:s}=Lt(e);return me(()=>l(e.tag,{class:ve(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},o.value,s.value,e.class]),style:xe(e.style)},{default:()=>[t.top?.(),t.default?c("div",{class:"v-table__wrapper",style:{height:ye(e.height)}},[c("table",null,[t.default()])]):t.wrapper?.(),t.bottom?.()]})),{}}}),ev=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function tv(e,n,t,a){const o=e.returnObject?n:gt(n,e.itemValue),s=gt(n,e.itemSelectable,!0),i=a.reduce((u,d)=>(d.key!=null&&(u[d.key]=gt(n,d.value)),u),{});return{type:"item",key:e.returnObject?gt(n,e.itemValue):o,index:t,value:o,selectable:s,columns:i,raw:n}}function lv(e,n,t){return n.map((a,o)=>tv(e,a,o,t))}function av(e,n){return{items:E(()=>lv(e,e.items,n.value))}}function nv(e){let{page:n,itemsPerPage:t,sortBy:a,groupBy:o,search:s}=e;const i=bt("VDataTable"),u=()=>({page:n.value,itemsPerPage:t.value,sortBy:a.value,groupBy:o.value,search:s.value});let d=null;be(u,m=>{$t(d,m)||(d&&d.search!==m.search&&(n.value=1),i.emit("update:options",m),d=m)},{deep:!0,immediate:!0})}const ov=(e,n,t)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const a=[];let o=e.indexOf(n);for(;~o;)a.push([o,o+n.length]),o=e.indexOf(n,o+n.length);return a.length?a:-1};function Ya(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const sv=te({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function rv(e,n,t){const a=[],o=t?.default??ov,s=t?.filterKeys?rt(t.filterKeys):!1,i=Object.keys(t?.customKeyFilter??{}).length;if(!e?.length)return a;e:for(let u=0;u<e.length;u++){const[d,m=d]=rt(e[u]),v={},g={};let p=-1;if((n||i>0)&&!t?.noFilter){if(typeof d=="object"){const x=s||Object.keys(m);for(const h of x){const w=gt(m,h),C=t?.customKeyFilter?.[h];if(p=C?C(w,n,d):o(w,n,d),p!==-1&&p!==!1)C?v[h]=Ya(p,n):g[h]=Ya(p,n);else if(t?.filterMode==="every")continue e}}else p=o(d,n,d),p!==-1&&p!==!1&&(g.title=Ya(p,n));const f=Object.keys(g).length,b=Object.keys(v).length;if(!f&&!b||t?.filterMode==="union"&&b!==i&&!f||t?.filterMode==="intersection"&&(b!==i||!f))continue}a.push({index:u,matches:{...g,...v}})}return a}function iv(e,n,t,a){const o=ge([]),s=ge(new Map),i=E(()=>a?.transform?Ht(n).map(d=>[d,a.transform(d)]):Ht(n));ht(()=>{const d=typeof t=="function"?t():Ht(t),m=typeof d!="string"&&typeof d!="number"?"":String(d),v=rv(i.value,m,{customKeyFilter:{...e.customKeyFilter,...Ht(a?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),g=Ht(n),p=[],f=new Map;v.forEach(b=>{let{index:x,matches:h}=b;const w=g[x];p.push(w),f.set(w.value,h)}),o.value=p,s.value=f});function u(d){return s.value.get(d.value)}return{filteredItems:o,filteredMatches:s,getMatches:u}}const uv=te({...or(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Xc(),...jc(),...Ic(),...ev(),...Lc(),...Oc(),...Qs(),...sr()},"DataTable"),dv=te({...kc(),...uv(),...sv(),...Us()},"VDataTable"),kl=ce()({name:"VDataTable",props:dv(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{groupBy:o}=Gc(e),{sortBy:s,multiSort:i,mustSort:u}=Rc(e),{page:d,itemsPerPage:m}=wc(e),{disableSort:v}=ho(e),{columns:g,headers:p,sortFunctions:f,sortRawFunctions:b,filterFunctions:x}=Nc(e,{groupBy:o,showSelect:W(()=>e.showSelect),showExpand:W(()=>e.showExpand)}),{items:h}=av(e,g),w=W(()=>e.search),{filteredItems:C}=iv(e,h,w,{transform:ne=>ne.columns,customKeyFilter:x}),{toggleSort:L}=Dc({sortBy:s,multiSort:i,mustSort:u,page:d}),{sortByWithGroups:j,opened:N,extractRows:P,isGroupOpen:k,toggleGroup:B}=Hc({groupBy:o,sortBy:s,disableSort:v}),{sortedItems:q}=Mc(e,C,j,{transform:ne=>({...ne.raw,...ne.columns}),sortFunctions:f,sortRawFunctions:b}),{flatItems:G}=Wc(q,o,N),D=E(()=>G.value.length),{startIndex:H,stopIndex:J,pageCount:ae,setItemsPerPage:oe}=Vc({page:d,itemsPerPage:m,itemsLength:D}),{paginatedItems:le}=Pc({items:G,startIndex:H,stopIndex:J,itemsPerPage:m}),R=E(()=>P(le.value)),{isSelected:Q,select:he,selectAll:M,toggleSelect:K,someSelected:$,allSelected:y}=zc(e,{allItems:h,currentPage:R}),{isExpanded:S,toggleExpand:A}=Jc(e);nv({page:d,itemsPerPage:m,sortBy:s,groupBy:o,search:w}),Pt({VDataTableRows:{hideNoData:W(()=>e.hideNoData),noDataText:W(()=>e.noDataText),loading:W(()=>e.loading),loadingText:W(()=>e.loadingText)}});const F=E(()=>({page:d.value,itemsPerPage:m.value,sortBy:s.value,pageCount:ae.value,toggleSort:L,setItemsPerPage:oe,someSelected:$.value,allSelected:y.value,isSelected:Q,select:he,selectAll:M,toggleSelect:K,isExpanded:S,toggleExpand:A,isGroupOpen:k,toggleGroup:B,items:R.value.map(ne=>ne.raw),internalItems:R.value,groupedItems:le.value,columns:g.value,headers:p.value}));return me(()=>{const ne=mo.filterProps(e),Ie=go.filterProps(e),Ce=po.filterProps(e),Ue=yo.filterProps(e);return l(yo,de({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Ue,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(F.value),default:()=>a.default?a.default(F.value):c(_e,null,[a.colgroup?.(F.value),!e.hideDefaultHeader&&c("thead",{key:"thead"},[l(go,Ie,a)]),a.thead?.(F.value),!e.hideDefaultBody&&c("tbody",null,[a["body.prepend"]?.(F.value),a.body?a.body(F.value):l(po,de(t,Ce,{items:le.value}),a),a["body.append"]?.(F.value)]),a.tbody?.(F.value),a.tfoot?.(F.value)]),bottom:()=>a.bottom?a.bottom(F.value):!e.hideDefaultFooter&&c(_e,null,[l(Ke,null,null),l(mo,ne,{prepend:a["footer.prepend"]})])})}),{}}}),cv=te({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Hl({origin:"center center",scrollStrategy:"block",transition:{component:yn},zIndex:2400})},"VDialog"),lt=ce()({name:"VDialog",props:cv(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{emit:t,slots:a}=n;const o=$e(e,"modelValue"),{scopeId:s}=Sl(),i=T();function u(v){const g=v.relatedTarget,p=v.target;if(g!==p&&i.value?.contentEl&&i.value?.globalTop&&![document,i.value.contentEl].includes(p)&&!i.value.contentEl.contains(p)){const f=aa(i.value.contentEl);if(!f.length)return;const b=f[0],x=f[f.length-1];g===b?x.focus():b.focus()}}kt(()=>{document.removeEventListener("focusin",u)}),ut&&be(()=>o.value&&e.retainFocus,v=>{v?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0});function d(){t("afterEnter"),(e.scrim||e.retainFocus)&&i.value?.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function m(){t("afterLeave")}return be(o,async v=>{v||(await He(),i.value.activatorEl?.focus({preventScroll:!0}))}),me(()=>{const v=qt.filterProps(e),g=de({"aria-haspopup":"dialog"},e.activatorProps),p=de({tabindex:-1},e.contentProps);return l(qt,de({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},v,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,"aria-modal":"true",activatorProps:g,contentProps:p,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:d,onAfterLeave:m},s),{activator:a.activator,default:function(){for(var f=arguments.length,b=new Array(f),x=0;x<f;x++)b[x]=arguments[x];return l(Oe,{root:"VDialog"},{default:()=>[a.default?.(...b)]})}})}),rl({},i)}});function vv(e){const n=ge(e());let t=-1;function a(){clearInterval(t)}function o(){a(),He(()=>n.value=e())}function s(i){const u=i?getComputedStyle(i):{transitionDuration:.2},d=parseFloat(u.transitionDuration)*1e3||200;if(a(),n.value<=0)return;const m=performance.now();t=window.setInterval(()=>{const v=performance.now()-m+d;n.value=Math.max(e()-v,0),n.value<=0&&a()},d)}return ct(a),{clear:a,time:n,start:s,reset:o}}const fv=te({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Gl({location:"bottom"}),...wa(),...st(),...zt(),...je(),...Yt(Hl({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),wl=ce()({name:"VSnackbar",props:fv(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"modelValue"),{positionClasses:o}=Va(e),{scopeId:s}=Sl(),{themeClasses:i}=We(e),{colorClasses:u,colorStyles:d,variantClasses:m}=cl(e),{roundedClasses:v}=vt(e),g=vv(()=>Number(e.timeout)),p=T(),f=T(),b=ge(!1),x=ge(0),h=T(),w=qe(ui,void 0);Ct(()=>!!w,()=>{const D=Co();ht(()=>{h.value=D.mainStyles.value})}),be(a,L),be(()=>e.timeout,L),tt(()=>{a.value&&L()});let C=-1;function L(){g.reset(),window.clearTimeout(C);const D=Number(e.timeout);if(!a.value||D===-1)return;const H=di(f.value);g.start(H),C=window.setTimeout(()=>{a.value=!1},D)}function j(){g.reset(),window.clearTimeout(C)}function N(){b.value=!0,j()}function P(){b.value=!1,L()}function k(D){x.value=D.touches[0].clientY}function B(D){Math.abs(x.value-D.changedTouches[0].clientY)>50&&(a.value=!1)}function q(){b.value&&P()}const G=E(()=>e.location.split(" ").reduce((D,H)=>(D[`v-snackbar--${H}`]=!0,D),{}));return me(()=>{const D=qt.filterProps(e),H=!!(t.default||t.text||e.text);return l(qt,de({ref:p,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},G.value,o.value,e.class],style:[h.value,e.style]},D,{modelValue:a.value,"onUpdate:modelValue":J=>a.value=J,contentProps:de({class:["v-snackbar__wrapper",i.value,u.value,v.value,m.value],style:[d.value],onPointerenter:N,onPointerleave:P},D.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:k,onTouchend:B,onAfterLeave:q},s),{default:()=>[dl(!1,"v-snackbar"),e.timer&&!b.value&&c("div",{key:"timer",class:"v-snackbar__timer"},[l(xn,{ref:f,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":g.time.value},null)]),H&&c("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[t.text?.()??e.text,t.default?.()]),t.actions&&l(Oe,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[c("div",{class:"v-snackbar__actions"},[t.actions({isActive:a})])]})],activator:t.activator})}),rl({},p)}}),mv=te({id:String,interactive:Boolean,text:String,...Yt(Hl({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Me=ce()({name:"VTooltip",props:mv(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=$e(e,"modelValue"),{scopeId:o}=Sl(),s=Mt(),i=W(()=>e.id||`v-tooltip-${s}`),u=T(),d=E(()=>e.location.split(" ").length>1?e.location:e.location+" center"),m=E(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),v=W(()=>e.transition!=null?e.transition:a.value?"scale-transition":"fade-transition"),g=E(()=>de({"aria-describedby":i.value},e.activatorProps));return me(()=>{const p=qt.filterProps(e);return l(qt,de({ref:u,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:i.value},p,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,transition:v.value,absolute:!0,location:d.value,origin:m.value,persistent:!0,role:"tooltip",activatorProps:g.value,_disableGlobalStack:!0},o),{activator:t.activator,default:function(){for(var f=arguments.length,b=new Array(f),x=0;x<f;x++)b[x]=arguments[x];return t.default?.(...b)??e.text}})}),rl({},u)}}),gv={class:"d-flex align-center justify-space-between"},pv={class:"text-h4 font-weight-bold mb-2"},yv={class:"d-flex align-center"},hv={class:"font-weight-medium"},bv={class:"text-caption text-medium-emphasis"},_v={class:"d-flex align-center"},Sv={key:1,class:"text-medium-emphasis"},xv={key:1,class:"text-medium-emphasis"},kv={key:0},wv={key:1,class:"text-medium-emphasis"},Vv={key:0},Cv={key:1,class:"text-medium-emphasis"},Pv={class:"d-flex gap-1"},Iv={class:"d-flex align-center"},Tv={class:"text-h5 font-weight-bold"},Av={class:"text-subtitle-1 text-medium-emphasis mb-0"},Ev={class:"text-h6 font-weight-medium mb-3"},$v={class:"text-h6 font-weight-medium mb-3"},Bv={class:"text-h6 font-weight-medium mb-3 mt-4"},Nv={class:"d-flex align-center"},Fv={class:"text-subtitle-1 text-medium-emphasis mb-0"},Lv={key:0},zv={class:"text-h6 font-weight-medium mb-3"},Ov={class:"text-h6 font-weight-medium mb-3"},Rv={class:"d-flex gap-2 mb-3"},Dv={class:"text-h6 font-weight-medium mb-3"},Mv={key:0},Uv={class:"text-h6 font-weight-medium mb-3"},jv={key:0},Gv={class:"text-h6 font-weight-medium mb-3"},Hv={key:0},qv={__name:"StudentsPage",setup(e){const n=T(!1),t=T(!1),a=T([]),o=T([]),s=T(""),i=T(null),u=T(null),d=T(null),m=T({page:1,limit:10,total:0,pages:0,hasNextPage:!1,hasPrevPage:!1}),v=T([{title:"BUT1",value:"BUT1"},{title:"BUT2",value:"BUT2"},{title:"BUT3",value:"BUT3"}]),g=T([]),p=T([]),f=T({firstName:"",lastName:"",year:"",promotions:[],groups:[],studentNumber:"",currentPromotion:"",currentGroup:"",history:[]}),b=T([{title:"tudiant",align:"start",key:"fullName",sortable:!1},{title:"Numro tudiant",align:"start",key:"studentNumber"},{title:"Anne",align:"start",key:"year"},{title:"Promotion actuelle",align:"start",key:"currentPromotion"},{title:"Groupe actuel",align:"start",key:"currentGroup"},{title:"Promotions",align:"start",key:"promotions"},{title:"Groupes",align:"start",key:"groups"},{title:"Actions",align:"end",key:"actions",sortable:!1}]),x=T(!1),h=T(!1),w=T(!1),C=T(!1),L=T(null),j=T(!1),N=T(null),P=T({show:!1,text:"",color:"success"});tt(async()=>{await D(),await H(),await G()});const k=$=>$?"purple":"green",B=$=>$?"mdi-account-group":"mdi-school",q=$=>{switch($){case"BUT1":return"green";case"BUT2":return"orange";case"BUT3":return"red";default:return"grey"}},G=async()=>{n.value=!0;try{const $=new URLSearchParams;$.append("page",m.value.page),$.append("limit",m.value.limit),i.value&&$.append("year",i.value),u.value&&$.append("promotion",u.value),d.value&&$.append("group",d.value);const y=await fetch(`http://localhost:5000/api/students/list?${$.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!y.ok)throw new Error("Erreur lors du chargement des tudiants");const S=await y.json();a.value=S.students||[],o.value=a.value,S.pagination&&(m.value=S.pagination)}catch($){console.error("Erreur:",$),P.value={show:!0,text:"Erreur lors du chargement des tudiants",color:"error"}}finally{n.value=!1}},D=async()=>{try{const $=await fetch("http://localhost:5000/api/promotions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const y=await $.json();g.value=y.promotions||y||[]}}catch($){console.error("Erreur lors du chargement des promotions:",$)}},H=async()=>{try{const $=await fetch("http://localhost:5000/api/groups",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const y=await $.json();p.value=y.groups||y||[]}}catch($){console.error("Erreur lors du chargement des groupes:",$)}},J=$=>{m.value.page=$.page,m.value.limit=$.itemsPerPage,G()},ae=()=>{o.value=a.value.filter($=>{const y=s.value===""||$.firstName?.toLowerCase().includes(s.value.toLowerCase())||$.lastName?.toLowerCase().includes(s.value.toLowerCase())||$.studentNumber?.toLowerCase().includes(s.value.toLowerCase()),S=i.value===null||$.year===i.value,A=u.value===null||$.promotions&&$.promotions.some(F=>(F._id||F)===u.value);return y&&S&&A})},oe=async $=>{try{const y=await fetch(`http://localhost:5000/api/students/${$._id}/context`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!y.ok)throw new Error("Erreur lors du chargement du contexte");const S=await y.json(),A=await fetch(`http://localhost:5000/api/students/list?_id=${$._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(A.ok){const ne=(await A.json()).students?.[0];ne&&(S.student.currentPromotion=ne.currentPromotion,S.student.currentGroup=ne.currentGroup)}N.value=S,j.value=!0}catch(y){console.error("Erreur:",y),P.value={show:!0,text:"Erreur lors du chargement du contexte de l'tudiant",color:"error"}}},le=$=>{h.value=!0,f.value={...$,promotions:$.promotions?.map(y=>y._id||y)||[],groups:$.groups?.map(y=>y._id||y)||[],currentPromotion:$.currentPromotion?._id||"",currentGroup:$.currentGroup?._id||""},x.value=!0},R=$=>{L.value=$,C.value=!0},Q=async()=>{t.value=!0;try{const $=h.value?`http://localhost:5000/api/students/update/${f.value._id}`:"http://localhost:5000/api/students/add",y=h.value?"PUT":"POST";if(!(await fetch($,{method:y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({firstName:f.value.firstName,lastName:f.value.lastName,year:f.value.year,promotions:f.value.promotions,groups:f.value.groups,studentNumber:f.value.studentNumber,currentPromotion:f.value.currentPromotion,currentGroup:f.value.currentGroup,history:[]})})).ok)throw new Error(`Erreur lors de l'${h.value?"dition":"ajout"} de l'tudiant`);P.value={show:!0,text:`tudiant ${h.value?"modifi":"ajout"} avec succs`,color:"success"},x.value=!1,await G(),M()}catch($){console.error("Erreur:",$),P.value={show:!0,text:`Erreur lors de l'${h.value?"dition":"ajout"} de l'tudiant`,color:"error"}}finally{t.value=!1}},he=async()=>{if(L.value)try{if(!(await fetch(`http://localhost:5000/api/students/delete/${L.value._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur lors de la suppression de l'tudiant");P.value={show:!0,text:"tudiant supprim avec succs",color:"success"},C.value=!1,await G()}catch($){console.error("Erreur:",$),P.value={show:!0,text:"Erreur lors de la suppression de l'tudiant",color:"error"}}},M=()=>{f.value={firstName:"",lastName:"",year:"",promotions:[],groups:[],studentNumber:"",currentPromotion:"",currentGroup:"",history:[]},h.value=!1},K=()=>{M(),x.value=!0};return($,y)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",gv,[c("div",null,[c("h1",pv,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>y[20]||(y[20]=[_(" mdi-school ")])),_:1,__:[20]}),y[21]||(y[21]=_(" Gestion des tudiants "))]),y[22]||(y[22]=c("p",{class:"text-subtitle-1 text-medium-emphasis"}," Administrez les tudiants et leurs affectations ",-1))]),l(re,{color:"primary",size:"large",onClick:K,"prepend-icon":"mdi-plus",variant:"elevated",class:"text-h6"},{default:r(()=>y[23]||(y[23]=[_(" Ajouter un tudiant ")])),_:1,__:[23]})])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"rounded-lg elevation-3",color:"surface"},{default:r(()=>[l(Ne,{class:"pa-6"},{default:r(()=>[l(Ae,{class:"mb-6",align:"center"},{default:r(()=>[l(se,{cols:"12",md:"4"},{default:r(()=>[l(Fe,{modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=S=>s.value=S),label:"Rechercher un tudiant",placeholder:"Nom, prnom, numro tudiant...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",onInput:ae,clearable:""},{"append-inner":r(()=>[l(yl,null,{default:r(()=>[s.value?(Y(),fe(X,{key:0,size:"small",color:"primary"},{default:r(()=>y[24]||(y[24]=[_(" mdi-school-search ")])),_:1,__:[24]})):Ve("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:i.value,"onUpdate:modelValue":[y[1]||(y[1]=S=>i.value=S),ae],items:v.value,label:"Filtrer par anne",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-calendar",clearable:""},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:u.value,"onUpdate:modelValue":[y[2]||(y[2]=S=>u.value=S),ae],items:g.value,label:"Filtrer par promotion",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-school",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),l(kl,{headers:b.value,items:o.value,"items-per-page":m.value.limit,page:m.value.page,"server-items-length":m.value.total,class:"elevation-1 rounded-lg",loading:n.value,"loading-text":"Chargement des tudiants...","no-data-text":"Aucun tudiant trouv","items-per-page-text":"tudiants par page","onUpdate:options":J},{"item.fullName":r(({item:S})=>[c("div",yv,[l(dt,{color:k(S.isGroup),size:"32",class:"mr-3"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>[_(z(B(S.isGroup)),1)]),_:2},1024)]),_:2},1032,["color"]),c("div",null,[c("div",hv,z(S.firstName)+" "+z(S.lastName),1),c("div",bv,z(S.year),1)])])]),"item.studentNumber":r(({item:S})=>[c("div",_v,[l(X,{size:"small",color:"primary",class:"mr-2"},{default:r(()=>y[25]||(y[25]=[_("mdi-card-account-details")])),_:1,__:[25]}),c("span",null,z(S.studentNumber),1)])]),"item.year":r(({item:S})=>[l(Pe,{color:q(S.year),size:"small",variant:"flat",class:"font-weight-medium"},{default:r(()=>[_(z(S.year),1)]),_:2},1032,["color"])]),"item.currentPromotion":r(({item:S})=>[S.currentPromotion?.name?(Y(),fe(Pe,{key:0,color:"primary",size:"small",variant:"flat","prepend-icon":"mdi-school",class:"font-weight-medium"},{default:r(()=>[_(z(S.currentPromotion.name),1)]),_:2},1024)):(Y(),pe("span",Sv,"-"))]),"item.currentGroup":r(({item:S})=>[S.currentGroup?.name?(Y(),fe(Pe,{key:0,color:"success",size:"small",variant:"flat","prepend-icon":"mdi-account-group",class:"font-weight-medium"},{default:r(()=>[_(z(S.currentGroup.name),1)]),_:2},1024)):(Y(),pe("span",xv,"-"))]),"item.promotions":r(({item:S})=>[S.promotions&&S.promotions.length>0?(Y(),pe("div",kv,[(Y(!0),pe(_e,null,Je(S.promotions.slice(0,2),A=>(Y(),fe(Pe,{key:A._id||A,color:"secondary",size:"small",variant:"outlined","prepend-icon":"mdi-school",class:"mr-1 mb-1"},{default:r(()=>[_(z(A.name||A),1)]),_:2},1024))),128)),S.promotions.length>2?(Y(),fe(Pe,{key:0,color:"grey",size:"small",variant:"outlined",class:"mr-1 mb-1"},{default:r(()=>[_(" +"+z(S.promotions.length-2),1)]),_:2},1024)):Ve("",!0)])):(Y(),pe("span",wv,"-"))]),"item.groups":r(({item:S})=>[S.groups&&S.groups.length>0?(Y(),pe("div",Vv,[(Y(!0),pe(_e,null,Je(S.groups.slice(0,2),A=>(Y(),fe(Pe,{key:A._id||A,color:"info",size:"small",variant:"outlined","prepend-icon":"mdi-account-group",class:"mr-1 mb-1"},{default:r(()=>[_(z(A.name||A),1)]),_:2},1024))),128)),S.groups.length>2?(Y(),fe(Pe,{key:0,color:"grey",size:"small",variant:"outlined",class:"mr-1 mb-1"},{default:r(()=>[_(" +"+z(S.groups.length-2),1)]),_:2},1024)):Ve("",!0)])):(Y(),pe("span",Cv,"-"))]),"item.actions":r(({item:S})=>[c("div",Pv,[l(re,{icon:"mdi-eye",variant:"text",color:"info",size:"small",onClick:A=>oe(S)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>y[26]||(y[26]=[_("mdi-eye")])),_:1,__:[26]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>y[27]||(y[27]=[_("Voir le contexte")])),_:1,__:[27]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-pencil",variant:"text",color:"primary",size:"small",onClick:A=>le(S)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>y[28]||(y[28]=[_("mdi-pencil")])),_:1,__:[28]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>y[29]||(y[29]=[_("Modifier")])),_:1,__:[29]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:A=>R(S)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>y[30]||(y[30]=[_("mdi-delete")])),_:1,__:[30]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>y[31]||(y[31]=[_("Supprimer")])),_:1,__:[31]})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","items-per-page","page","server-items-length","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:x.value,"onUpdate:modelValue":y[13]||(y[13]=S=>x.value=S),"max-width":"800px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",Iv,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>[_(z(h.value?"mdi-account-edit":"mdi-account-plus"),1)]),_:1}),c("div",null,[c("h3",Tv,z(h.value?"Modifier l'tudiant":"Ajouter un tudiant"),1),c("p",Av,z(h.value?"Modifiez les informations de l'tudiant":"Crez un nouvel tudiant"),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[l(Wt,{ref:"form",modelValue:w.value,"onUpdate:modelValue":y[11]||(y[11]=S=>w.value=S)},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Ev,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[32]||(y[32]=[_("mdi-account")])),_:1,__:[32]}),y[33]||(y[33]=_(" Informations personnelles "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:f.value.firstName,"onUpdate:modelValue":y[3]||(y[3]=S=>f.value.firstName=S),label:"Prnom",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account",required:"",rules:[S=>!!S||"Le prnom est requis"]},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:f.value.lastName,"onUpdate:modelValue":y[4]||(y[4]=S=>f.value.lastName=S),label:"Nom",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account",required:"",rules:[S=>!!S||"Le nom est requis"]},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:f.value.studentNumber,"onUpdate:modelValue":y[5]||(y[5]=S=>f.value.studentNumber=S),label:"Numro tudiant",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-card-account-details",required:"",rules:[S=>!!S||"Le numro tudiant est requis"]},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.year,"onUpdate:modelValue":y[6]||(y[6]=S=>f.value.year=S),items:v.value,label:"Anne",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-calendar",required:"",rules:[S=>!!S||"L'anne est requise"]},null,8,["modelValue","items","rules"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",$v,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[34]||(y[34]=[_("mdi-school")])),_:1,__:[34]}),y[35]||(y[35]=_(" Affectations actuelles "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.currentPromotion,"onUpdate:modelValue":y[7]||(y[7]=S=>f.value.currentPromotion=S),items:g.value,label:"Promotion actuelle",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-school","item-title":"name","item-value":"_id",placeholder:"Slectionnez la promotion actuelle"},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.currentGroup,"onUpdate:modelValue":y[8]||(y[8]=S=>f.value.currentGroup=S),items:p.value,label:"Groupe actuel",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account-group","item-title":"name","item-value":"_id",placeholder:"Slectionnez le groupe actuel"},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",Bv,[l(X,{color:"secondary",class:"mr-2"},{default:r(()=>y[36]||(y[36]=[_("mdi-history")])),_:1,__:[36]}),y[37]||(y[37]=_(" Historique des affectations "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.promotions,"onUpdate:modelValue":y[9]||(y[9]=S=>f.value.promotions=S),items:g.value,label:"Toutes les promotions",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-school","item-title":"name","item-value":"_id",multiple:"",chips:"","closable-chips":"",placeholder:"Slectionnez toutes les promotions"},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.groups,"onUpdate:modelValue":y[10]||(y[10]=S=>f.value.groups=S),items:p.value,label:"Tous les groupes",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account-group","item-title":"name","item-value":"_id",multiple:"",chips:"","closable-chips":"",placeholder:"Slectionnez tous les groupes"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:y[12]||(y[12]=S=>x.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>y[38]||(y[38]=[_(" Annuler ")])),_:1,__:[38]}),l(re,{color:"primary",variant:"elevated",onClick:Q,disabled:!w.value,loading:t.value,"prepend-icon":"mdi-check"},{default:r(()=>[_(z(h.value?"Modifier":"Crer"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:C.value,"onUpdate:modelValue":y[15]||(y[15]=S=>C.value=S),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>y[39]||(y[39]=[_("Confirmation de suppression")])),_:1,__:[39]}),l(Ne,null,{default:r(()=>y[40]||(y[40]=[_(" tes-vous sr de vouloir supprimer cet tudiant ? Cette action est irrversible. ")])),_:1,__:[40]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:y[14]||(y[14]=S=>C.value=!1)},{default:r(()=>y[41]||(y[41]=[_("Annuler")])),_:1,__:[41]}),l(re,{color:"error",onClick:he},{default:r(()=>y[42]||(y[42]=[_("Supprimer")])),_:1,__:[42]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:j.value,"onUpdate:modelValue":y[17]||(y[17]=S=>j.value=S),"max-width":"800px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",Nv,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>y[43]||(y[43]=[_("mdi-account-tree")])),_:1,__:[43]}),c("div",null,[y[44]||(y[44]=c("h3",{class:"text-h5 font-weight-bold"}," Contexte hirarchique ",-1)),c("p",Fv,z(N.value?.student?.firstName)+" "+z(N.value?.student?.lastName),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[N.value?(Y(),pe("div",Lv,[l(Ae,{class:"mb-4"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",zv,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[45]||(y[45]=[_("mdi-account")])),_:1,__:[45]}),y[46]||(y[46]=_(" Informations gnrales "))]),l(Pe,{color:"primary",class:"mr-2"},{default:r(()=>[_(z(N.value.student.studentNumber),1)]),_:1}),l(Pe,{color:"secondary"},{default:r(()=>[_(z(N.value.student.year),1)]),_:1})]),_:1})]),_:1}),l(Ae,{class:"mb-4"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Ov,[l(X,{color:"success",class:"mr-2"},{default:r(()=>y[47]||(y[47]=[_("mdi-star")])),_:1,__:[47]}),y[48]||(y[48]=_(" Affectations actuelles "))]),c("div",Rv,[N.value.student.currentPromotion?(Y(),fe(Pe,{key:0,color:"primary",variant:"flat","prepend-icon":"mdi-school"},{default:r(()=>[_(z(N.value.student.currentPromotion.name),1)]),_:1})):Ve("",!0),N.value.student.currentGroup?(Y(),fe(Pe,{key:1,color:"success",variant:"flat","prepend-icon":"mdi-account-group"},{default:r(()=>[_(z(N.value.student.currentGroup.name),1)]),_:1})):Ve("",!0)]),!N.value.student.currentPromotion&&!N.value.student.currentGroup?(Y(),fe(Ot,{key:0,type:"warning",variant:"tonal",class:"mb-0"},{default:r(()=>y[49]||(y[49]=[_(" Aucune affectation actuelle dfinie ")])),_:1,__:[49]})):Ve("",!0)]),_:1})]),_:1}),l(Ae,{class:"mb-4"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Dv,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[50]||(y[50]=[_("mdi-school")])),_:1,__:[50]}),_(" Historique des promotions ("+z(N.value.hierarchy.promotions?.length||0)+") ",1)]),N.value.hierarchy.promotions?.length>0?(Y(),pe("div",Mv,[(Y(!0),pe(_e,null,Je(N.value.hierarchy.promotions,S=>(Y(),fe(Pe,{key:S._id,color:"secondary",variant:"outlined",class:"mr-2 mb-2"},{default:r(()=>[_(z(S.name)+" ("+z(S.year)+") ",1)]),_:2},1024))),128))])):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal",class:"mb-0"},{default:r(()=>y[51]||(y[51]=[_(" Aucune promotion dans l'historique ")])),_:1,__:[51]}))]),_:1})]),_:1}),l(Ae,{class:"mb-4"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Uv,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[52]||(y[52]=[_("mdi-account-group")])),_:1,__:[52]}),_(" Historique des groupes ("+z(N.value.hierarchy.groups?.length||0)+") ",1)]),N.value.hierarchy.groups?.length>0?(Y(),pe("div",jv,[(Y(!0),pe(_e,null,Je(N.value.hierarchy.groups,S=>(Y(),fe(Pe,{key:S._id,color:"info",variant:"outlined",class:"mr-2 mb-2"},{default:r(()=>[_(z(S.name)+" ("+z(S.year)+") ",1)]),_:2},1024))),128))])):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal",class:"mb-0"},{default:r(()=>y[53]||(y[53]=[_(" Aucun groupe dans l'historique ")])),_:1,__:[53]}))]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Gv,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>y[54]||(y[54]=[_("mdi-account-multiple")])),_:1,__:[54]}),_(" Sous-groupes ("+z(N.value.hierarchy.subgroups?.length||0)+") ",1)]),N.value.hierarchy.subgroups?.length>0?(Y(),pe("div",Hv,[l(Rt,null,{default:r(()=>[(Y(!0),pe(_e,null,Je(N.value.hierarchy.subgroups,S=>(Y(),fe(pt,{key:S.name,class:"border rounded mb-2"},{prepend:r(()=>[l(X,{color:"warning"},{default:r(()=>y[55]||(y[55]=[_("mdi-account-multiple")])),_:1,__:[55]})]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(S.name),1)]),_:2},1024),l(al,null,{default:r(()=>[_(" Groupe: "+z(S.groupName)+" - "+z(S.studentsCount)+" tudiant(s) ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal",class:"mb-0"},{default:r(()=>y[56]||(y[56]=[_(" Aucun sous-groupe assign ")])),_:1,__:[56]}))]),_:1})]),_:1})])):Ve("",!0)]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:y[16]||(y[16]=S=>j.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>y[57]||(y[57]=[_(" Fermer ")])),_:1,__:[57]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:P.value.show,"onUpdate:modelValue":y[19]||(y[19]=S=>P.value.show=S),color:P.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:y[18]||(y[18]=S=>P.value.show=!1)},{default:r(()=>y[58]||(y[58]=[_("Fermer")])),_:1,__:[58]})]),default:r(()=>[_(z(P.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},Wv=Ut(qv,[["__scopeId","data-v-6f2cb6d6"]]),Kv=te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...xl(),...En()},"VTextarea"),rr=ce()({name:"VTextarea",directives:{vIntersect:hl},inheritAttrs:!1,props:Kv(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:o}=n;const s=$e(e,"modelValue"),{isFocused:i,focus:u,blur:d}=ql(e),{onIntersect:m}=Fs(e),v=E(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),g=E(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=T(),f=T(),b=ge(""),x=T(),h=E(()=>e.persistentPlaceholder||i.value||e.active);function w(){x.value!==document.activeElement&&x.value?.focus(),i.value||u()}function C(D){w(),a("click:control",D)}function L(D){a("mousedown:control",D)}function j(D){D.stopPropagation(),w(),He(()=>{s.value="",gn(e["onClick:clear"],D)})}function N(D){const H=D.target;if(s.value=H.value,e.modelModifiers?.trim){const J=[H.selectionStart,H.selectionEnd];He(()=>{H.selectionStart=J[0],H.selectionEnd=J[1]})}}const P=T(),k=T(Number(e.rows)),B=E(()=>["plain","underlined"].includes(e.variant));ht(()=>{e.autoGrow||(k.value=Number(e.rows))});function q(){e.autoGrow&&He(()=>{if(!P.value||!f.value)return;const D=getComputedStyle(P.value),H=getComputedStyle(f.value.$el),J=parseFloat(D.getPropertyValue("--v-field-padding-top"))+parseFloat(D.getPropertyValue("--v-input-padding-top"))+parseFloat(D.getPropertyValue("--v-field-padding-bottom")),ae=P.value.scrollHeight,oe=parseFloat(D.lineHeight),le=Math.max(parseFloat(e.rows)*oe+J,parseFloat(H.getPropertyValue("--v-input-control-height"))),R=parseFloat(e.maxRows)*oe+J||1/0,Q=nt(ae??0,le,R);k.value=Math.floor((Q-J)/oe),b.value=ye(Q)})}tt(q),be(s,q),be(()=>e.rows,q),be(()=>e.maxRows,q),be(()=>e.density,q);let G;return be(P,D=>{D?(G=new ResizeObserver(q),G.observe(P.value)):G?.disconnect()}),kt(()=>{G?.disconnect()}),me(()=>{const D=!!(o.counter||e.counter||e.counterValue),H=!!(D||o.details),[J,ae]=Dl(t),{modelValue:oe,...le}=Dt.filterProps(e),R=ia.filterProps(e);return l(Dt,de({ref:p,modelValue:s.value,"onUpdate:modelValue":Q=>s.value=Q,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":B.value},e.class],style:e.style},J,le,{centerAffix:k.value===1&&!B.value,focused:i.value}),{...o,default:Q=>{let{id:he,isDisabled:M,isDirty:K,isReadonly:$,isValid:y}=Q;return l(ia,de({ref:f,style:{"--v-textarea-control-height":b.value},onClick:C,onMousedown:L,"onClick:clear":j,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},R,{id:he.value,active:h.value||K.value,centerAffix:k.value===1&&!B.value,dirty:K.value||e.dirty,disabled:M.value,focused:i.value,error:y.value===!1}),{...o,default:S=>{let{props:{class:A,...F}}=S;return c(_e,null,[e.prefix&&c("span",{class:"v-text-field__prefix"},[e.prefix]),et(c("textarea",de({ref:x,class:A,value:s.value,onInput:N,autofocus:e.autofocus,readonly:$.value,disabled:M.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:w,onBlur:d},F,ae),null),[[hl,{handler:m},null,{once:!0}]]),e.autoGrow&&et(c("textarea",{class:ve([A,"v-textarea__sizer"]),id:`${F.id}-sizer`,"onUpdate:modelValue":ne=>s.value=ne,ref:P,readonly:!0,"aria-hidden":"true"},null),[[Tr,s.value]]),e.suffix&&c("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:H?Q=>c(_e,null,[o.details?.(Q),D&&c(_e,null,[c("span",null,null),l(Ns,{active:e.persistentCounter||i.value,value:v.value,max:g.value,disabled:e.disabled},o.counter)])]):void 0})}),rl({},p,f,x)}}),Yv={class:"d-flex align-center justify-space-between"},Xv={class:"d-flex align-center"},Jv={class:"font-weight-medium"},Qv={class:"d-flex align-center"},Zv={class:"font-weight-medium"},ef={key:0,class:"text-caption text-medium-emphasis"},tf={class:"d-flex align-center gap-2"},lf={__name:"GroupsPage",setup(e){const n=($,y)=>{let S;return function(...F){const ne=()=>{clearTimeout(S),$(...F)};clearTimeout(S),S=setTimeout(ne,y)}},t=T(!1),a=T([]),o=T(""),s=T(null),i=T({page:1,limit:10,total:0,pages:0,hasNextPage:!1,hasPrevPage:!1}),u=T([]),d=T([]),m=T({name:"",promotion:"",description:""}),v=T([]),g=T(null),p=T({name:"",type:"Travaux Pratiques",students:[]}),f=T([{title:"Nom du groupe",align:"start",key:"name"},{title:"Promotion",align:"start",key:"promotion"},{title:"Actions",align:"end",key:"actions",sortable:!1}]),b=T(!1),x=T(!1),h=T(!1),w=T(!1),C=T(!1),L=T(!1),j=T(!1),N=T(null),P=T({show:!1,text:"",color:"success"}),k=T(null),B=T(null),q=n(()=>{i.value.page=1,D()},300),G=$=>{i.value.page=$.page,i.value.limit=$.itemsPerPage,D()},D=async()=>{t.value=!0;try{const $=new URLSearchParams({page:i.value.page.toString(),limit:i.value.limit.toString(),search:o.value||"",promotion:s.value||""}),y=await fetch(`http://localhost:5000/api/groups?${$.toString()}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!y.ok)throw new Error("Erreur lors du chargement des groupes");const S=await y.json();a.value=S.groups,i.value.total=S.total,i.value.pages=S.pages,i.value.hasNextPage=S.hasNextPage,i.value.hasPrevPage=S.hasPrevPage}catch($){console.error($),P.value={show:!0,text:"Erreur lors du chargement des groupes",color:"error"}}finally{t.value=!1}},H=async()=>{m.value={name:"",promotion:"",description:""},w.value=!1,u.value.length===0&&await J(),b.value=!0},J=async()=>{try{const $=await fetch("http://localhost:5000/api/promotions",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!$.ok)throw new Error("Erreur lors du chargement des promotions");const y=await $.json();console.log("Promotions charges :",y),y.promotions&&Array.isArray(y.promotions)?u.value=y.promotions.map(S=>({title:`${S.name} (${S.year})`,value:S._id})):u.value=[]}catch($){console.error("Erreur lors du chargement des promotions:",$),P.value={show:!0,text:"Erreur lors du chargement des promotions",color:"error"}}},ae=async $=>{w.value=!0,m.value={...$,promotion:$.promotion?._id||$.promotion},u.value.length===0&&await J(),b.value=!0},oe=async()=>{if(C.value){t.value=!0;try{const $=w.value?`http://localhost:5000/api/groups/update/${m.value._id}`:"http://localhost:5000/api/groups/add",y=w.value?"PUT":"POST",S=await fetch($,{method:y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:m.value.name,promotion:m.value.promotion,description:m.value.description})});if(!S.ok){const A=await S.json();throw new Error(A.message||"Erreur lors de la sauvegarde du groupe")}P.value={show:!0,text:`Groupe ${w.value?"modifi":"ajout"} avec succs`,color:"success"},b.value=!1,D()}catch($){console.error("Erreur:",$),P.value={show:!0,text:$.message||"Erreur lors de la sauvegarde du groupe",color:"error"}}finally{t.value=!1}}},le=$=>{g.value=$,x.value=!0,R($._id)},R=async $=>{t.value=!0;try{const y=await fetch(`http://localhost:5000/api/groups/${$}/subgroups`,{headers:{"Content-Type":"application/json"}});if(!y.ok)throw new Error("Erreur lors du chargement des sous-groupes");const S=await y.json();v.value=S.subgroups}catch(y){console.error(y),P.value={show:!0,text:"Erreur lors du chargement des sous-groupes",color:"error"}}finally{t.value=!1}},Q=()=>{p.value={name:"",type:"Travaux Pratiques",students:[]},h.value=!0},he=async()=>{if(L.value){t.value=!0;try{if(!(await fetch("http://localhost:5000/api/subgroups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p.value,groupId:g.value._id})})).ok)throw new Error("Erreur lors de l'ajout du sous-groupe");P.value={show:!0,text:"Sous-groupe ajout avec succs",color:"success"},h.value=!1,R(g.value._id)}catch($){console.error($),P.value={show:!0,text:"Erreur lors de l'ajout du sous-groupe",color:"error"}}finally{t.value=!1}}},M=$=>{N.value=$,j.value=!0},K=async()=>{if(N.value){console.log("Tentative de suppression du groupe avec ID :",N.value._id),t.value=!0;try{const $=await fetch(`http://localhost:5000/api/groups/delete/${N.value._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!$.ok){const y=await $.json();throw console.error("Erreur retourne par le backend :",y),new Error(y.message||"Erreur lors de la suppression du groupe")}P.value={show:!0,text:"Groupe supprim avec succs",color:"success"},j.value=!1,N.value=null,D()}catch($){console.error("Erreur lors de la suppression du groupe :",$),P.value={show:!0,text:$.message||"Erreur lors de la suppression du groupe",color:"error"}}finally{t.value=!1}}};return tt(async()=>{await D(),await J();try{const $=await fetch("http://localhost:5000/api/students",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const y=await $.json();d.value=y.students||[]}}catch($){console.error("Erreur lors du chargement des tudiants:",$)}}),($,y)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",Yv,[y[21]||(y[21]=c("div",null,[c("h2",{class:"text-h4 font-weight-bold"},"Gestion des groupes"),c("p",{class:"text-subtitle-1 text-medium-emphasis mt-1"}," Gestion des groupes TD et de leurs sous-groupes ")],-1)),l(re,{color:"primary",onClick:H,"prepend-icon":"mdi-plus"},{default:r(()=>y[20]||(y[20]=[_(" Ajouter un groupe ")])),_:1,__:[20]})])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=S=>o.value=S),label:"Rechercher...","prepend-inner-icon":"mdi-magnify",clearable:"",variant:"outlined",density:"compact",onInput:Ht(q)},null,8,["modelValue","onInput"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:s.value,"onUpdate:modelValue":[y[1]||(y[1]=S=>s.value=S),D],items:u.value,label:"Filtrer par promotion",clearable:"",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(kl,{headers:f.value,items:a.value,loading:t.value,"items-per-page":i.value.limit,page:i.value.page,"server-items-length":i.value.total,"onUpdate:options":G},{"item.name":r(({item:S})=>[c("div",Xv,[l(X,{color:"primary",class:"me-2"},{default:r(()=>y[22]||(y[22]=[_("mdi-account-group")])),_:1,__:[22]}),c("span",Jv,z(S.name),1)])]),"item.promotion":r(({item:S})=>[c("div",Qv,[l(X,{color:"secondary",size:"small",class:"me-2"},{default:r(()=>y[23]||(y[23]=[_("mdi-school")])),_:1,__:[23]}),c("div",null,[c("div",Zv,z(S.promotion?.name||"Non dfinie"),1),S.promotion?.year?(Y(),pe("div",ef," Anne "+z(S.promotion.year),1)):Ve("",!0)])])]),"item.actions":r(({item:S})=>[l(Me,{text:"Voir les sous-groupes"},{activator:r(({props:A})=>[l(re,de(A,{icon:"mdi-eye",size:"small",variant:"text",onClick:F=>le(S)}),null,16,["onClick"])]),_:2},1024),l(Me,{text:"Modifier"},{activator:r(({props:A})=>[l(re,de(A,{icon:"mdi-pencil",size:"small",variant:"text",onClick:F=>ae(S)}),null,16,["onClick"])]),_:2},1024),l(Me,{text:"Supprimer"},{activator:r(({props:A})=>[l(re,de(A,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:F=>M(S)}),null,16,["onClick"])]),_:2},1024)]),_:1},8,["headers","items","loading","items-per-page","page","server-items-length"])]),_:1})]),_:1}),l(lt,{modelValue:b.value,"onUpdate:modelValue":y[7]||(y[7]=S=>b.value=S),"max-width":"600px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,null,{default:r(()=>[_(z(w.value?"Modifier le groupe":"Ajouter un groupe"),1)]),_:1}),l(Ne,null,{default:r(()=>[l(Wt,{ref_key:"groupForm",ref:k,modelValue:C.value,"onUpdate:modelValue":y[5]||(y[5]=S=>C.value=S),"lazy-validation":""},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Fe,{modelValue:m.value.name,"onUpdate:modelValue":y[2]||(y[2]=S=>m.value.name=S),label:"Nom du groupe",required:"",rules:[S=>!!S||"Le nom du groupe est requis"],variant:"outlined","prepend-inner-icon":"mdi-account-group"},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(Ee,{modelValue:m.value.promotion,"onUpdate:modelValue":y[3]||(y[3]=S=>m.value.promotion=S),items:u.value,label:"Promotion",required:"",rules:[S=>!!S||"La promotion est requise"],variant:"outlined","prepend-inner-icon":"mdi-school","item-title":"title","item-value":"value"},null,8,["modelValue","items","rules"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(rr,{modelValue:m.value.description,"onUpdate:modelValue":y[4]||(y[4]=S=>m.value.description=S),label:"Description (optionnel)",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-text",rows:"3",placeholder:"Description du groupe..."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:y[6]||(y[6]=S=>b.value=!1)},{default:r(()=>y[24]||(y[24]=[_("Annuler")])),_:1,__:[24]}),l(re,{color:"primary",onClick:oe,disabled:!C.value},{default:r(()=>y[25]||(y[25]=[_("Enregistrer")])),_:1,__:[25]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:x.value,"onUpdate:modelValue":y[9]||(y[9]=S=>x.value=S),"max-width":"800px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"d-flex align-center justify-space-between"},{default:r(()=>[c("span",null,"Sous-groupes de "+z(g.value?.name),1),l(re,{color:"primary",onClick:Q,"prepend-icon":"mdi-plus",size:"small"},{default:r(()=>y[26]||(y[26]=[_(" Ajouter ")])),_:1,__:[26]})]),_:1}),l(Ne,null,{default:r(()=>[v.value.length>0?(Y(),fe(Rt,{key:0},{default:r(()=>[(Y(!0),pe(_e,null,Je(v.value,S=>(Y(),fe(pt,{key:S._id,class:"border rounded mb-2"},{prepend:r(()=>[l(X,{color:"info"},{default:r(()=>y[27]||(y[27]=[_("mdi-account-multiple")])),_:1,__:[27]})]),append:r(()=>[l(re,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:A=>$.removeSubgroup(S._id)},{default:r(()=>[l(X,null,{default:r(()=>y[28]||(y[28]=[_("mdi-delete")])),_:1,__:[28]})]),_:2},1032,["onClick"])]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(S.name),1)]),_:2},1024),l(al,null,{default:r(()=>[c("div",tf,[S.type?(Y(),fe(Pe,{key:0,size:"x-small",color:"secondary",variant:"tonal"},{default:r(()=>[_(z(S.type),1)]),_:2},1024)):Ve("",!0),c("span",null,z(S.students?.length||0)+" tudiant(s)",1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal"},{default:r(()=>y[29]||(y[29]=[_(" Aucun sous-groupe dfini pour ce groupe. ")])),_:1,__:[29]}))]),_:1}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:y[8]||(y[8]=S=>x.value=!1)},{default:r(()=>y[30]||(y[30]=[_("Fermer")])),_:1,__:[30]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:h.value,"onUpdate:modelValue":y[15]||(y[15]=S=>h.value=S),"max-width":"500px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,null,{default:r(()=>y[31]||(y[31]=[_("Ajouter un sous-groupe")])),_:1,__:[31]}),l(Ne,null,{default:r(()=>[l(Wt,{ref_key:"subgroupForm",ref:B,modelValue:L.value,"onUpdate:modelValue":y[13]||(y[13]=S=>L.value=S),"lazy-validation":""},{default:r(()=>[l(Fe,{modelValue:p.value.name,"onUpdate:modelValue":y[10]||(y[10]=S=>p.value.name=S),label:"Nom du sous-groupe",required:"",rules:[S=>!!S||"Le nom du sous-groupe est requis"],variant:"outlined","prepend-inner-icon":"mdi-account-multiple",class:"mb-3"},null,8,["modelValue","rules"]),l(Ee,{modelValue:p.value.type,"onUpdate:modelValue":y[11]||(y[11]=S=>p.value.type=S),items:["Travaux Pratiques","Projet","TD","Cours","Autre"],label:"Type de sous-groupe",variant:"outlined","prepend-inner-icon":"mdi-shape",class:"mb-3"},null,8,["modelValue"]),l(Ee,{modelValue:p.value.students,"onUpdate:modelValue":y[12]||(y[12]=S=>p.value.students=S),items:d.value,"item-title":"fullName","item-value":"_id",label:"tudiants",multiple:"",chips:"","closable-chips":"",variant:"outlined","prepend-inner-icon":"mdi-account-group",placeholder:"Slectionner des tudiants..."},null,8,["modelValue","items"])]),_:1},8,["modelValue"])]),_:1}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:y[14]||(y[14]=S=>h.value=!1)},{default:r(()=>y[32]||(y[32]=[_("Annuler")])),_:1,__:[32]}),l(re,{color:"primary",onClick:he,disabled:!L.value},{default:r(()=>y[33]||(y[33]=[_("Ajouter")])),_:1,__:[33]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:j.value,"onUpdate:modelValue":y[17]||(y[17]=S=>j.value=S),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>y[34]||(y[34]=[_("Confirmation de suppression")])),_:1,__:[34]}),l(Ne,null,{default:r(()=>y[35]||(y[35]=[_(" tes-vous sr de vouloir supprimer ce groupe ? Cette action est irrversible. ")])),_:1,__:[35]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:y[16]||(y[16]=S=>j.value=!1)},{default:r(()=>y[36]||(y[36]=[_("Annuler")])),_:1,__:[36]}),l(re,{color:"error",onClick:K},{default:r(()=>y[37]||(y[37]=[_("Supprimer")])),_:1,__:[37]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:P.value.show,"onUpdate:modelValue":y[19]||(y[19]=S=>P.value.show=S),color:P.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:y[18]||(y[18]=S=>P.value.show=!1)},{default:r(()=>y[38]||(y[38]=[_("Fermer")])),_:1,__:[38]})]),default:r(()=>[_(z(P.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},af={class:"d-flex align-center justify-space-between"},nf={class:"text-h4 font-weight-bold mb-2"},of={class:"d-flex align-center"},sf={class:"font-weight-medium"},rf={class:"text-caption text-medium-emphasis"},uf={class:"d-flex align-center"},df={class:"d-flex gap-1"},cf={class:"d-flex align-center"},vf={class:"text-h5 font-weight-bold"},ff={class:"text-subtitle-1 text-medium-emphasis mb-0"},mf={__name:"PromotionsPage",setup(e){const n=(le,R)=>{let Q;return function(...M){const K=()=>{clearTimeout(Q),le(...M)};clearTimeout(Q),Q=setTimeout(K,R)}},t=le=>le?new Date(le).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"",a=T(!1),o=T(!1),s=T([]),i=T(""),u=T(null),d=T({page:1,limit:10,total:0,pages:0,hasNextPage:!1,hasPrevPage:!1}),m=T({name:"",year:"",description:""}),v=T([]),g=T(null),p=T([{title:"Promotion",align:"start",key:"name"},{title:"Anne",align:"start",key:"year"},{title:"Groupes",align:"start",key:"groupsCount"},{title:"Cr le",align:"start",key:"createdAt"},{title:"Actions",align:"end",key:"actions",sortable:!1}]),f=T(!1),b=T(!1),x=T(!1),h=T(!1),w=T(!1),C=T(null),L=T({show:!1,text:"",color:"success"}),j=T(null),N=n(()=>{d.value.page=1,P()},300),P=async()=>{a.value=!0;try{const le=new URLSearchParams({page:d.value.page.toString(),limit:d.value.limit.toString()}),R=await fetch(`http://localhost:5000/api/promotions?${le.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!R.ok)throw new Error("Erreur lors du chargement des promotions");const Q=await R.json();s.value=Q.promotions,d.value=Q.pagination}catch(le){console.error("Erreur:",le),L.value={show:!0,text:"Erreur lors du chargement des promotions",color:"error"}}finally{a.value=!1}},k=le=>{d.value.page=le.page,d.value.limit=le.itemsPerPage,P()},B=le=>{x.value=!0,m.value={...le},f.value=!0},q=le=>{C.value=le,w.value=!0},G=async()=>{if(!j.value)return;const{valid:le}=await j.value.validate();if(le)try{const R=x.value?`http://localhost:5000/api/promotions/update/${m.value._id}`:"http://localhost:5000/api/promotions/add",Q=x.value?"PUT":"POST";if(!(await fetch(R,{method:Q,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:m.value.name,year:m.value.year})})).ok)throw new Error(`Erreur lors de l'${x.value?"dition":"ajout"} de la promotion`);L.value={show:!0,text:`Promotion ${x.value?"modifie":"ajoute"} avec succs`,color:"success"},f.value=!1,J(),await P()}catch(R){console.error("Erreur:",R),L.value={show:!0,text:`Erreur lors de l'${x.value?"dition":"ajout"} de la promotion`,color:"error"}}},D=async()=>{if(C.value){console.log("Tentative de suppression de la promotion avec ID :",C.value._id);try{const le=await fetch(`http://localhost:5000/api/promotions/${C.value._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("Rponse de suppression :",le.status,le.statusText),!le.ok){const R=await le.json();throw console.error("Erreur retourne par le backend :",R),new Error(R.message||"Erreur lors de la suppression de la promotion")}L.value={show:!0,text:"Promotion supprime avec succs",color:"success"},w.value=!1,C.value=null,await P()}catch(le){console.error("Erreur lors de la suppression de la promotion :",le),L.value={show:!0,text:le.message||"Erreur lors de la suppression de la promotion",color:"error"}}}},H=async le=>{g.value=le;try{const R=await fetch(`http://localhost:5000/api/promotions/${le._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(R.ok){const Q=await R.json();v.value=Q.groups||[],b.value=!0}}catch(R){console.error("Erreur:",R),L.value={show:!0,text:"Erreur lors du chargement des groupes",color:"error"}}},J=()=>{m.value={name:"",year:""},x.value=!1,h.value=!1,j.value&&j.value.resetValidation()},ae=()=>{J(),f.value=!0},oe=le=>{if(le==="current"){const R=new Date().getFullYear();i.value=R.toString(),u.value="current"}else i.value="",u.value=null;N()};return tt(()=>{P()}),(le,R)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",af,[c("div",null,[c("h1",nf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>R[16]||(R[16]=[_(" mdi-school ")])),_:1,__:[16]}),R[17]||(R[17]=_(" Gestion des promotions "))]),R[18]||(R[18]=c("p",{class:"text-subtitle-1 text-medium-emphasis"}," Grez les promotions et annes scolaires de votre tablissement ",-1))]),l(re,{color:"primary",size:"large",onClick:ae,"prepend-icon":"mdi-plus",variant:"elevated",class:"text-h6"},{default:r(()=>R[19]||(R[19]=[_(" Ajouter une promotion ")])),_:1,__:[19]})])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"rounded-lg elevation-3",color:"surface"},{default:r(()=>[l(Ne,{class:"pa-6"},{default:r(()=>[l(Ae,{class:"mb-6",align:"center"},{default:r(()=>[l(se,{cols:"12",md:"8"},{default:r(()=>[l(Fe,{modelValue:i.value,"onUpdate:modelValue":R[0]||(R[0]=Q=>i.value=Q),label:"Rechercher une promotion",placeholder:"Nom, anne...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",onInput:Ht(N),clearable:""},{"append-inner":r(()=>[l(yl,null,{default:r(()=>[i.value?(Y(),fe(X,{key:0,size:"small",color:"primary"},{default:r(()=>R[20]||(R[20]=[_(" mdi-school-search ")])),_:1,__:[20]})):Ve("",!0)]),_:1})]),_:1},8,["modelValue","onInput"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(rc,{modelValue:u.value,"onUpdate:modelValue":R[3]||(R[3]=Q=>u.value=Q),column:""},{default:r(()=>[l(Pe,{color:"primary",variant:"outlined",onClick:R[1]||(R[1]=Q=>oe("current")),"prepend-icon":"mdi-calendar-today"},{default:r(()=>R[21]||(R[21]=[_(" Anne courante ")])),_:1,__:[21]}),l(Pe,{color:"secondary",variant:"outlined",onClick:R[2]||(R[2]=Q=>oe("all")),"prepend-icon":"mdi-calendar-multiple"},{default:r(()=>R[22]||(R[22]=[_(" Toutes les annes ")])),_:1,__:[22]})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(kl,{headers:p.value,items:s.value,loading:a.value,"items-per-page":d.value.limit,page:d.value.page,"server-items-length":d.value.total,"onUpdate:options":k,class:"elevation-1 rounded-lg","loading-text":"Chargement des promotions...","no-data-text":"Aucune promotion trouve","items-per-page-text":"Promotions par page"},{"item.name":r(({item:Q})=>[c("div",of,[l(dt,{color:"primary",size:"32",class:"mr-3"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>R[23]||(R[23]=[_("mdi-school")])),_:1,__:[23]})]),_:1}),c("div",null,[c("div",sf,z(Q.name),1),c("div",rf,"Promotion "+z(Q.year),1)])])]),"item.year":r(({item:Q})=>[l(Pe,{color:"secondary",size:"small",variant:"flat","prepend-icon":"mdi-calendar"},{default:r(()=>[_(z(Q.year),1)]),_:2},1024)]),"item.groupsCount":r(({item:Q})=>[l(Pe,{color:"info",size:"small",variant:"outlined","prepend-icon":"mdi-account-group"},{default:r(()=>[_(z(Q.groups?.length||0)+" "+z((Q.groups?.length||0)>1?"groupes":"groupe"),1)]),_:2},1024)]),"item.createdAt":r(({item:Q})=>[c("div",uf,[l(X,{size:"small",color:"primary",class:"mr-2"},{default:r(()=>R[24]||(R[24]=[_("mdi-calendar-plus")])),_:1,__:[24]}),c("span",null,z(t(Q.createdAt)),1)])]),"item.actions":r(({item:Q})=>[c("div",df,[l(re,{icon:"mdi-eye",size:"small",variant:"text",color:"info",onClick:he=>H(Q)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>R[25]||(R[25]=[_("mdi-eye")])),_:1,__:[25]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>R[26]||(R[26]=[_("Voir les groupes")])),_:1,__:[26]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-pencil",size:"small",variant:"text",color:"primary",onClick:he=>B(Q)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>R[27]||(R[27]=[_("mdi-pencil")])),_:1,__:[27]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>R[28]||(R[28]=[_("Modifier")])),_:1,__:[28]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-delete",size:"small",variant:"text",color:"error",onClick:he=>q(Q)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>R[29]||(R[29]=[_("mdi-delete")])),_:1,__:[29]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>R[30]||(R[30]=[_("Supprimer")])),_:1,__:[30]})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","loading","items-per-page","page","server-items-length"])]),_:1})]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:f.value,"onUpdate:modelValue":R[9]||(R[9]=Q=>f.value=Q),"max-width":"600px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",cf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>[_(z(x.value?"mdi-school-edit":"mdi-school-plus"),1)]),_:1}),c("div",null,[c("h3",vf,z(x.value?"Modifier la promotion":"Ajouter une promotion"),1),c("p",ff,z(x.value?"Modifiez les informations de la promotion":"Crez une nouvelle promotion"),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[l(Wt,{ref_key:"promotionForm",ref:j,modelValue:h.value,"onUpdate:modelValue":R[7]||(R[7]=Q=>h.value=Q),"lazy-validation":""},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Fe,{modelValue:m.value.name,"onUpdate:modelValue":R[4]||(R[4]=Q=>m.value.name=Q),label:"Nom de la promotion",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-school",required:"",rules:[Q=>!!Q||"Le nom de la promotion est requis"],placeholder:"Ex: BUT Informatique 1re anne"},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(Fe,{modelValue:m.value.year,"onUpdate:modelValue":R[5]||(R[5]=Q=>m.value.year=Q),label:"Anne",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-calendar",required:"",rules:[Q=>!!Q||"L'anne est requise",Q=>/^\d{4}$/.test(Q)||"L'anne doit tre au format YYYY"],placeholder:"Ex: 2024"},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(rr,{modelValue:m.value.description,"onUpdate:modelValue":R[6]||(R[6]=Q=>m.value.description=Q),label:"Description (optionnel)",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-text",rows:"3",placeholder:"Description de la promotion..."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:R[8]||(R[8]=Q=>f.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>R[31]||(R[31]=[_(" Annuler ")])),_:1,__:[31]}),l(re,{color:"primary",variant:"elevated",onClick:G,disabled:!h.value,loading:o.value,"prepend-icon":"mdi-check"},{default:r(()=>[_(z(x.value?"Modifier":"Crer"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:b.value,"onUpdate:modelValue":R[11]||(R[11]=Q=>b.value=Q),"max-width":"800px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"d-flex align-center justify-space-between"},{default:r(()=>[c("span",null,"Groupes de la promotion "+z(g.value?.name),1)]),_:1}),l(Ne,null,{default:r(()=>[v.value.length>0?(Y(),fe(Rt,{key:0},{default:r(()=>[(Y(!0),pe(_e,null,Je(v.value,Q=>(Y(),fe(pt,{key:Q._id,class:"border rounded mb-2"},{prepend:r(()=>[l(X,{color:"primary"},{default:r(()=>R[32]||(R[32]=[_("mdi-account-group")])),_:1,__:[32]})]),default:r(()=>[l(Nt,null,{default:r(()=>[_(z(Q.name),1)]),_:2},1024),l(al,null,{default:r(()=>[_(" Anne: "+z(Q.year)+" | "+z(Q.subgroupsCount||0)+" sous-groupe(s) ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal"},{default:r(()=>R[33]||(R[33]=[_(" Aucun groupe assign  cette promotion. ")])),_:1,__:[33]}))]),_:1}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:R[10]||(R[10]=Q=>b.value=!1)},{default:r(()=>R[34]||(R[34]=[_("Fermer")])),_:1,__:[34]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:w.value,"onUpdate:modelValue":R[13]||(R[13]=Q=>w.value=Q),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>R[35]||(R[35]=[_("Confirmation de suppression")])),_:1,__:[35]}),l(Ne,null,{default:r(()=>R[36]||(R[36]=[_(" tes-vous sr de vouloir supprimer cette promotion ? Cette action est irrversible et peut affecter les groupes associs. ")])),_:1,__:[36]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:R[12]||(R[12]=Q=>w.value=!1)},{default:r(()=>R[37]||(R[37]=[_("Annuler")])),_:1,__:[37]}),l(re,{color:"error",onClick:D},{default:r(()=>R[38]||(R[38]=[_("Supprimer")])),_:1,__:[38]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:L.value.show,"onUpdate:modelValue":R[15]||(R[15]=Q=>L.value.show=Q),color:L.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:R[14]||(R[14]=Q=>L.value.show=!1)},{default:r(()=>R[39]||(R[39]=[_("Fermer")])),_:1,__:[39]})]),default:r(()=>[_(z(L.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},gf=Ut(mf,[["__scopeId","data-v-c36cedf6"]]),pf={class:"d-flex align-center justify-space-between"},yf={class:"text-h4 font-weight-bold mb-2"},hf={class:"d-flex align-center"},bf={class:"font-weight-medium"},_f={class:"text-caption text-medium-emphasis"},Sf={key:1,class:"text-medium-emphasis"},xf={key:1,class:"text-medium-emphasis"},kf={class:"d-flex align-center"},wf={class:"font-weight-medium"},Vf={class:"d-flex gap-1"},Cf={class:"d-flex align-center"},Pf={class:"text-h5 font-weight-bold"},If={class:"text-subtitle-1 text-medium-emphasis mb-0"},Tf={class:"text-h6 font-weight-medium mb-3"},Af={class:"text-h6 font-weight-medium mb-3 mt-4"},Ef={class:"text-h6 font-weight-medium mb-3 mt-4"},$f={class:"d-flex align-center"},Bf={class:"text-subtitle-1 text-medium-emphasis mb-0"},Nf={key:0},Ff={__name:"SubGroupsPage",setup(e){const n=T(!1),t=T(!1),a=T([]),o=T([]),s=T(""),i=T(null),u=T(null),d=T([]),m=T([]),v=T([]),g=T([]),p=T([{title:"TP (Travaux Pratiques)",value:"TP"},{title:"TD (Travaux Dirigs)",value:"TD"},{title:"Projet",value:"Projet"},{title:"Stage",value:"Stage"},{title:"Standard",value:"Standard"},{title:"Autre",value:"Autre"}]),f=T({name:"",type:"Standard",group:"",promotion:"",students:[]}),b=T([{title:"Nom",align:"start",key:"name",sortable:!0},{title:"Type",align:"start",key:"type",sortable:!0},{title:"Promotion",align:"start",key:"promotion",sortable:!1},{title:"Groupe",align:"start",key:"group",sortable:!1},{title:"tudiants",align:"start",key:"students",sortable:!1},{title:"Actions",align:"end",key:"actions",sortable:!1}]),x=T(!1),h=T(!1),w=T(!1),C=T(!1),L=T(null),j=T(!1),N=T(null),P=T({show:!1,text:"",color:"success"});E(()=>v.value.map(S=>({...S,fullName:`${S.firstName} ${S.lastName}`})));const k=E(()=>f.value.promotion?(console.log("Groupes filtrs pour la promotion:",g.value),g.value):[]),B=E(()=>{if(console.log("=== Calcul des tudiants disponibles ==="),console.log("Promotion slectionne:",f.value.promotion),console.log("Groupe slectionn:",f.value.group),console.log("Nombre total d'tudiants:",v.value.length),!f.value.promotion)return console.log("Aucune promotion slectionne, retour tableau vide"),[];if(!v.value||v.value.length===0)return console.log("Aucun tudiant charg"),[];let S=v.value;console.log("tudiants de base:",S.length),S=S.filter(F=>{if(!F)return!1;console.log("tudiant en cours de vrification:",{nom:`${F.firstName} ${F.lastName}`,promotions:F.promotions,currentPromotion:F.currentPromotion,groups:F.groups,currentGroup:F.currentGroup});const ne=F.promotions||[],Ie=ne.some(ft=>(ft._id||ft)===f.value.promotion),Ce=F.currentPromotion?._id||F.currentPromotion,Ue=Ce===f.value.promotion,Re=Ie||Ue;return console.log(`tudiant ${F.firstName} ${F.lastName}:`,{promotionsDeLEtudiant:ne,currentPromotion:Ce,promotionSelectionnee:f.value.promotion,correspond:Re}),Re}),console.log("Aprs filtrage par promotion:",S.length),f.value.group&&(console.log("Filtrage supplmentaire par groupe:",f.value.group),S=S.filter(F=>{const ne=F.groups||[],Ie=F.currentGroup?._id||F.currentGroup;console.log(`Groupes de l'tudiant ${F.firstName}:`,ne),console.log(`Groupe actuel de l'tudiant ${F.firstName}:`,Ie);const Ce=ne.some(ft=>{const Gt=ft._id||ft,Qt=Gt===f.value.group;return console.log(`Groupe ${Gt} === ${f.value.group} ? ${Qt}`),Qt}),Ue=Ie===f.value.group,Re=Ce||Ue;return console.log(`tudiant ${F.firstName} appartient au groupe:`,Re),Re}),console.log("Aprs filtrage par groupe:",S.length));const A=S.map(F=>({...F,fullName:`${F.firstName} ${F.lastName}`}));return console.log("=== Rsultat final ==="),console.log("tudiants disponibles:",A.length),console.log("Liste:",A.map(F=>F.fullName)),A});tt(async()=>{await D(),await H(),await J(),await G()});const q=S=>{switch(S){case"TP":return"orange";case"TD":return"blue";case"Projet":return"purple";case"Stage":return"green";default:return"grey"}},G=async()=>{n.value=!0;try{const S=await fetch("http://localhost:5000/api/subgroups/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!S.ok)throw new Error("Erreur lors du chargement des sous-groupes");const A=await S.json();a.value=A||[],o.value=a.value}catch(S){console.error("Erreur:",S),P.value={show:!0,text:"Erreur lors du chargement des sous-groupes",color:"error"}}finally{n.value=!1}},D=async()=>{try{const S=await fetch("http://localhost:5000/api/promotions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const A=await S.json();d.value=A.promotions||A||[]}}catch(S){console.error("Erreur lors du chargement des promotions:",S)}},H=async()=>{try{const S=await fetch("http://localhost:5000/api/groups",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const A=await S.json();console.log("Donnes des groupes reues:",A),m.value=A.groups||A||[],console.log("Groupes chargs:",m.value)}}catch(S){console.error("Erreur lors du chargement des groupes:",S)}},J=async()=>{try{const S=await fetch("http://localhost:5000/api/students/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const A=await S.json();console.log("Donnes des tudiants reues:",A),v.value=A.students||A||[],console.log("tudiants chargs:",v.value)}}catch(S){console.error("Erreur lors du chargement des tudiants:",S)}},ae=()=>{o.value=a.value.filter(S=>{const A=s.value===""||S.name?.toLowerCase().includes(s.value.toLowerCase()),F=i.value===null||S.promotion?._id===i.value||S.promotion===i.value,ne=u.value===null||S.group?._id===u.value||S.group===u.value;return A&&F&&ne})},oe=async()=>{if(f.value.group="",f.value.promotion){console.log("Chargement des groupes pour la promotion:",f.value.promotion);try{const S=await fetch(`http://localhost:5000/api/promotions/${f.value.promotion}/groups`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const A=await S.json();console.log("Groupes reus pour la promotion:",A),Array.isArray(A)?g.value=A:A.groups&&Array.isArray(A.groups)?g.value=A.groups:A.data&&Array.isArray(A.data)?g.value=A.data:(console.warn("Format de rponse inattendu:",A),g.value=[]),console.log("Groupes filtrs assigns:",g.value)}else console.error("Erreur lors de la rcupration des groupes par promotion"),g.value=[]}catch(S){console.error("Erreur lors du chargement des groupes par promotion:",S),g.value=[]}}else g.value=[]},le=()=>{console.log("Groupe chang vers:",f.value.group)},R=S=>{N.value=S,j.value=!0},Q=S=>{h.value=!0,f.value={...S,promotion:S.promotion?._id||"",group:S.group?._id||"",students:S.students?.map(A=>A._id)||[]},x.value=!0},he=S=>{L.value=S,C.value=!0},M=async()=>{t.value=!0;try{const S=h.value?`http://localhost:5000/api/subgroups/update/${f.value._id}`:"http://localhost:5000/api/subgroups/add",A=h.value?"PUT":"POST";if(!(await fetch(S,{method:A,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:f.value.name,type:f.value.type,group:f.value.group,promotion:f.value.promotion,students:f.value.students})})).ok)throw new Error(`Erreur lors de l'${h.value?"dition":"ajout"} du sous-groupe`);P.value={show:!0,text:`Sous-groupe ${h.value?"modifi":"ajout"} avec succs`,color:"success"},x.value=!1,await G(),$()}catch(S){console.error("Erreur:",S),P.value={show:!0,text:`Erreur lors de l'${h.value?"dition":"ajout"} du sous-groupe`,color:"error"}}finally{t.value=!1}},K=async()=>{if(L.value)try{if(!(await fetch(`http://localhost:5000/api/subgroups/delete/${L.value._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur lors de la suppression du sous-groupe");P.value={show:!0,text:"Sous-groupe supprim avec succs",color:"success"},C.value=!1,await G()}catch(S){console.error("Erreur:",S),P.value={show:!0,text:"Erreur lors de la suppression du sous-groupe",color:"error"}}},$=()=>{f.value={name:"",type:"Standard",group:"",promotion:"",students:[]},g.value=[],h.value=!1},y=()=>{$(),x.value=!0};return(S,A)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",pf,[c("div",null,[c("h1",yf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>A[17]||(A[17]=[_(" mdi-account-multiple ")])),_:1,__:[17]}),A[18]||(A[18]=_(" Gestion des sous-groupes "))]),A[19]||(A[19]=c("p",{class:"text-subtitle-1 text-medium-emphasis"}," Administrez les sous-groupes et leurs tudiants ",-1))]),l(re,{color:"primary",size:"large",onClick:y,"prepend-icon":"mdi-plus",variant:"elevated",class:"text-h6"},{default:r(()=>A[20]||(A[20]=[_(" Ajouter un sous-groupe ")])),_:1,__:[20]})])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"rounded-lg elevation-3",color:"surface"},{default:r(()=>[l(Ne,{class:"pa-6"},{default:r(()=>[l(Ae,{class:"mb-6",align:"center"},{default:r(()=>[l(se,{cols:"12",md:"4"},{default:r(()=>[l(Fe,{modelValue:s.value,"onUpdate:modelValue":A[0]||(A[0]=F=>s.value=F),label:"Rechercher un sous-groupe",placeholder:"Nom du sous-groupe...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",onInput:ae,clearable:""},{"append-inner":r(()=>[l(yl,null,{default:r(()=>[s.value?(Y(),fe(X,{key:0,size:"small",color:"primary"},{default:r(()=>A[21]||(A[21]=[_(" mdi-account-search ")])),_:1,__:[21]})):Ve("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:i.value,"onUpdate:modelValue":[A[1]||(A[1]=F=>i.value=F),ae],items:d.value,label:"Filtrer par promotion",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-school","item-title":"name","item-value":"_id",clearable:""},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:u.value,"onUpdate:modelValue":[A[2]||(A[2]=F=>u.value=F),ae],items:m.value,label:"Filtrer par groupe",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-account-group","item-title":"name","item-value":"_id",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),l(kl,{headers:b.value,items:o.value,"items-per-page":10,class:"elevation-1 rounded-lg",loading:n.value,"loading-text":"Chargement des sous-groupes...","no-data-text":"Aucun sous-groupe trouv","items-per-page-text":"Sous-groupes par page"},{"item.name":r(({item:F})=>[c("div",hf,[l(dt,{color:"orange",size:"32",class:"mr-3"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>A[22]||(A[22]=[_("mdi-account-multiple")])),_:1,__:[22]})]),_:1}),c("div",null,[c("div",bf,z(F.name),1),c("div",_f,z(F.type||"Standard"),1)])])]),"item.type":r(({item:F})=>[l(Pe,{color:q(F.type),size:"small",variant:"flat",class:"font-weight-medium"},{default:r(()=>[_(z(F.type||"Standard"),1)]),_:2},1032,["color"])]),"item.promotion":r(({item:F})=>[F.promotion?(Y(),fe(Pe,{key:0,color:"primary",size:"small",variant:"outlined","prepend-icon":"mdi-school",class:"font-weight-medium"},{default:r(()=>[_(z(F.promotion.name)+" ("+z(F.promotion.year)+") ",1)]),_:2},1024)):(Y(),pe("span",Sf,"-"))]),"item.group":r(({item:F})=>[F.group?(Y(),fe(Pe,{key:0,color:"info",size:"small",variant:"outlined","prepend-icon":"mdi-account-group",class:"font-weight-medium"},{default:r(()=>[_(z(F.group.name),1)]),_:2},1024)):(Y(),pe("span",xf,"-"))]),"item.students":r(({item:F})=>[c("div",kf,[l(X,{size:"small",color:"success",class:"mr-2"},{default:r(()=>A[23]||(A[23]=[_("mdi-account-multiple")])),_:1,__:[23]}),c("span",wf,z(F.students?.length||0)+" tudiant(s)",1),F.students?.length>0?(Y(),fe(re,{key:0,icon:"mdi-eye",variant:"text",color:"info",size:"small",class:"ml-2",onClick:ne=>R(F)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>A[24]||(A[24]=[_("mdi-eye")])),_:1,__:[24]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>A[25]||(A[25]=[_("Voir les tudiants")])),_:1,__:[25]})]),_:2},1032,["onClick"])):Ve("",!0)])]),"item.actions":r(({item:F})=>[c("div",Vf,[l(re,{icon:"mdi-pencil",variant:"text",color:"primary",size:"small",onClick:ne=>Q(F)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>A[26]||(A[26]=[_("mdi-pencil")])),_:1,__:[26]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>A[27]||(A[27]=[_("Modifier")])),_:1,__:[27]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:ne=>he(F)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>A[28]||(A[28]=[_("mdi-delete")])),_:1,__:[28]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>A[29]||(A[29]=[_("Supprimer")])),_:1,__:[29]})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:x.value,"onUpdate:modelValue":A[10]||(A[10]=F=>x.value=F),"max-width":"800px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",Cf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>[_(z(h.value?"mdi-account-edit":"mdi-account-plus"),1)]),_:1}),c("div",null,[c("h3",Pf,z(h.value?"Modifier le sous-groupe":"Ajouter un sous-groupe"),1),c("p",If,z(h.value?"Modifiez les informations du sous-groupe":"Crez un nouveau sous-groupe"),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[l(Wt,{ref:"form",modelValue:w.value,"onUpdate:modelValue":A[8]||(A[8]=F=>w.value=F)},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",Tf,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>A[30]||(A[30]=[_("mdi-information")])),_:1,__:[30]}),A[31]||(A[31]=_(" Informations du sous-groupe "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:f.value.name,"onUpdate:modelValue":A[3]||(A[3]=F=>f.value.name=F),label:"Nom du sous-groupe",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account-multiple",required:"",rules:[F=>!!F||"Le nom est requis"],placeholder:"Ex: TP1, Groupe A..."},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.type,"onUpdate:modelValue":A[4]||(A[4]=F=>f.value.type=F),items:p.value,label:"Type de sous-groupe",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-tag",placeholder:"Slectionnez le type"},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",Af,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>A[32]||(A[32]=[_("mdi-school")])),_:1,__:[32]}),A[33]||(A[33]=_(" Affectations "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.promotion,"onUpdate:modelValue":[A[5]||(A[5]=F=>f.value.promotion=F),oe],items:d.value,label:"Promotion",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-school","item-title":"name","item-value":"_id",required:"",rules:[F=>!!F||"La promotion est requise"]},null,8,["modelValue","items","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:f.value.group,"onUpdate:modelValue":[A[6]||(A[6]=F=>f.value.group=F),le],items:k.value,label:"Groupe parent",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account-group","item-title":"name","item-value":"_id",required:"",rules:[F=>!!F||"Le groupe parent est requis"],disabled:!f.value.promotion},null,8,["modelValue","items","rules","disabled"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",Ef,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>A[34]||(A[34]=[_("mdi-account-multiple")])),_:1,__:[34]}),A[35]||(A[35]=_(" tudiants du sous-groupe "))])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(Ee,{modelValue:f.value.students,"onUpdate:modelValue":A[7]||(A[7]=F=>f.value.students=F),items:B.value,label:"Slectionner les tudiants",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-account-multiple","item-title":"fullName","item-value":"_id",multiple:"",chips:"","closable-chips":"",disabled:!f.value.promotion,placeholder:"Slectionnez d'abord une promotion"},{chip:r(({props:F,item:ne})=>[l(Pe,de(F,{"prepend-avatar":`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.raw.fullName)}&background=random`,text:ne.raw.fullName}),null,16,["prepend-avatar","text"])]),_:1},8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:A[9]||(A[9]=F=>x.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>A[36]||(A[36]=[_(" Annuler ")])),_:1,__:[36]}),l(re,{color:"primary",variant:"elevated",onClick:M,disabled:!w.value,loading:t.value,"prepend-icon":"mdi-check"},{default:r(()=>[_(z(h.value?"Modifier":"Crer"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:C.value,"onUpdate:modelValue":A[12]||(A[12]=F=>C.value=F),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>A[37]||(A[37]=[_("Confirmation de suppression")])),_:1,__:[37]}),l(Ne,null,{default:r(()=>A[38]||(A[38]=[_(" tes-vous sr de vouloir supprimer ce sous-groupe ? Cette action est irrversible. ")])),_:1,__:[38]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:A[11]||(A[11]=F=>C.value=!1)},{default:r(()=>A[39]||(A[39]=[_("Annuler")])),_:1,__:[39]}),l(re,{color:"error",onClick:K},{default:r(()=>A[40]||(A[40]=[_("Supprimer")])),_:1,__:[40]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:j.value,"onUpdate:modelValue":A[14]||(A[14]=F=>j.value=F),"max-width":"600px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",$f,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>A[41]||(A[41]=[_("mdi-account-multiple")])),_:1,__:[41]}),c("div",null,[A[42]||(A[42]=c("h3",{class:"text-h5 font-weight-bold"}," tudiants du sous-groupe ",-1)),c("p",Bf,z(N.value?.name),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[N.value?.students?.length>0?(Y(),pe("div",Nf,[l(Rt,null,{default:r(()=>[(Y(!0),pe(_e,null,Je(N.value.students,F=>(Y(),fe(pt,{key:F._id,class:"border rounded mb-2"},{prepend:r(()=>[l(dt,{color:"green",size:"40"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>A[43]||(A[43]=[_("mdi-account")])),_:1,__:[43]})]),_:1})]),default:r(()=>[l(Nt,{class:"font-weight-medium"},{default:r(()=>[_(z(F.firstName)+" "+z(F.lastName),1)]),_:2},1024),l(al,null,{default:r(()=>A[44]||(A[44]=[_(" tudiant ")])),_:1,__:[44]})]),_:2},1024))),128))]),_:1})])):(Y(),fe(Ot,{key:1,type:"info",variant:"tonal"},{default:r(()=>A[45]||(A[45]=[_(" Aucun tudiant assign  ce sous-groupe ")])),_:1,__:[45]}))]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:A[13]||(A[13]=F=>j.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>A[46]||(A[46]=[_(" Fermer ")])),_:1,__:[46]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:P.value.show,"onUpdate:modelValue":A[16]||(A[16]=F=>P.value.show=F),color:P.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:A[15]||(A[15]=F=>P.value.show=!1)},{default:r(()=>A[47]||(A[47]=[_("Fermer")])),_:1,__:[47]})]),default:r(()=>[_(z(P.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},Lf=Ut(Ff,[["__scopeId","data-v-45a2a826"]]),zl=Symbol.for("vuetify:v-expansion-panel"),ir=te({...ke(),...xs()},"VExpansionPanelText"),da=ce()({name:"VExpansionPanelText",props:ir(),setup(e,n){let{slots:t}=n;const a=qe(zl);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:s}=ks(e,a.isSelected);return me(()=>l(hn,{onAfterLeave:s},{default:()=>[et(c("div",{class:ve(["v-expansion-panel-text",e.class]),style:xe(e.style)},[t.default&&o.value&&c("div",{class:"v-expansion-panel-text__wrapper"},[t.default?.()])]),[[nl,a.isSelected.value]])]})),{}}}),ur=te({color:String,expandIcon:{type:we,default:"$expand"},collapseIcon:{type:we,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ke(),...It()},"VExpansionPanelTitle"),ca=ce()({name:"VExpansionPanelTitle",directives:{vRipple:xt},props:ur(),setup(e,n){let{slots:t}=n;const a=qe(zl);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:s}=it(()=>e.color),{dimensionStyles:i}=Tt(e),u=E(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),d=W(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return me(()=>et(c("button",{class:ve(["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},o.value,e.class]),style:xe([s.value,i.value,e.style]),type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[c("span",{class:"v-expansion-panel-title__overlay"},null),t.default?.(u.value),!e.hideActions&&l(Oe,{defaults:{VIcon:{icon:d.value}}},{default:()=>[c("span",{class:"v-expansion-panel-title__icon"},[t.actions?.(u.value)??l(X,null,null)])]})]),[[xt,e.ripple]])),{}}}),dr=te({title:String,text:String,bgColor:String,...At(),..._n(),...st(),...Le(),...ur(),...ir()},"VExpansionPanel"),cr=ce()({name:"VExpansionPanel",props:dr(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:t}=n;const a=Sn(e,zl),{backgroundColorClasses:o,backgroundColorStyles:s}=it(()=>e.bgColor),{elevationClasses:i}=Ft(e),{roundedClasses:u}=vt(e),d=W(()=>a?.disabled.value||e.disabled),m=E(()=>a.group.items.value.reduce((p,f,b)=>(a.group.selected.value.includes(f.id)&&p.push(b),p),[])),v=E(()=>{const p=a.group.items.value.findIndex(f=>f.id===a.id);return!a.isSelected.value&&m.value.some(f=>f-p===1)}),g=E(()=>{const p=a.group.items.value.findIndex(f=>f.id===a.id);return!a.isSelected.value&&m.value.some(f=>f-p===-1)});return at(zl,a),me(()=>{const p=!!(t.text||e.text),f=!!(t.title||e.title),b=ca.filterProps(e),x=da.filterProps(e);return l(e.tag,{class:ve(["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":g.value,"v-expansion-panel--disabled":d.value},u.value,o.value,e.class]),style:xe([s.value,e.style])},{default:()=>[c("div",{class:ve(["v-expansion-panel__shadow",...i.value])},null),l(Oe,{defaults:{VExpansionPanelTitle:{...b},VExpansionPanelText:{...x}}},{default:()=>[f&&l(ca,{key:"title"},{default:()=>[t.title?t.title():e.title]}),p&&l(da,{key:"text"},{default:()=>[t.text?t.text():e.text]}),t.default?.()]})]})}),{groupItem:a}}}),zf=["default","accordion","inset","popout"],Of=te({flat:Boolean,...ba(),...ya(dr(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...je(),...ke(),...Le(),variant:{type:String,default:"default",validator:e=>zf.includes(e)}},"VExpansionPanels"),vr=ce()({name:"VExpansionPanels",props:Of(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{next:a,prev:o}=_a(e,zl),{themeClasses:s}=We(e),i=W(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Pt({VExpansionPanel:{bgColor:W(()=>e.bgColor),collapseIcon:W(()=>e.collapseIcon),color:W(()=>e.color),eager:W(()=>e.eager),elevation:W(()=>e.elevation),expandIcon:W(()=>e.expandIcon),focusable:W(()=>e.focusable),hideActions:W(()=>e.hideActions),readonly:W(()=>e.readonly),ripple:W(()=>e.ripple),rounded:W(()=>e.rounded),static:W(()=>e.static)}}),me(()=>l(e.tag,{class:ve(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,i.value,e.class]),style:xe(e.style)},{default:()=>[t.default?.({prev:o,next:a})]})),{next:a,prev:o}}}),Rf=te({...Tn({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),_t=ce()({name:"VRadio",props:Rf(),setup(e,n){let{slots:t}=n;return me(()=>{const a=Fl.filterProps(e);return l(Fl,de(a,{class:["v-radio",e.class],style:e.style,type:"radio"}),t)}),{}}}),Df=te({height:{type:[Number,String],default:"auto"},...xl(),...Yt(In(),["multiple"]),trueIcon:{type:we,default:"$radioOn"},falseIcon:{type:we,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Al=ce()({name:"VRadioGroup",inheritAttrs:!1,props:Df(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const o=Mt(),s=E(()=>e.id||`radio-group-${o}`),i=$e(e,"modelValue");return me(()=>{const[u,d]=Dl(t),m=Dt.filterProps(e),v=Fl.filterProps(e),g=a.label?a.label({label:e.label,props:{for:s.value}}):e.label;return l(Dt,de({class:["v-radio-group",e.class],style:e.style},u,m,{modelValue:i.value,"onUpdate:modelValue":p=>i.value=p,id:s.value}),{...a,default:p=>{let{id:f,messagesId:b,isDisabled:x,isReadonly:h}=p;return c(_e,null,[g&&l(Ia,{id:f.value},{default:()=>[g]}),l(Vd,de(v,{id:f.value,"aria-describedby":b.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:x.value,readonly:h.value,"aria-labelledby":g?f.value:void 0,multiple:!1},d,{modelValue:i.value,"onUpdate:modelValue":w=>i.value=w}),a)])}})}),{}}}),Mf={class:"d-flex align-center justify-space-between"},Uf={class:"text-h4 font-weight-bold mb-2"},jf={class:"d-flex align-center"},Gf={class:"font-weight-medium"},Hf={class:"text-caption text-medium-emphasis"},qf={class:"d-flex align-center"},Wf={class:"d-flex flex-wrap gap-1"},Kf={class:"text-caption"},Yf={class:"d-flex align-center mb-1"},Xf={class:"d-flex align-center"},Jf={class:"d-flex gap-1"},Qf={class:"d-flex align-center"},Zf={class:"text-h5 font-weight-bold"},em={class:"text-subtitle-1 text-medium-emphasis mb-0"},tm={class:"text-h6 font-weight-medium mb-3"},lm={class:"text-h6 font-weight-medium mb-3"},am={class:"d-flex align-center"},nm={class:"d-flex align-center"},om={class:"d-flex align-center"},sm={class:"d-flex align-center"},rm={class:"text-h6 font-weight-medium mb-3"},im={class:"text-h6 font-weight-medium mb-3"},um={key:1,class:"text-grey text-caption align-self-center"},dm={class:"text-h6 font-weight-medium mb-3"},cm={key:1,class:"text-grey text-caption align-self-center"},vm={class:"text-h6 font-weight-medium mb-3"},fm={key:1,class:"text-grey text-caption align-self-center"},mm={class:"text-h6 font-weight-medium mb-3"},gm={class:"d-flex align-center justify-space-between mb-3"},pm={class:"text-h6 font-weight-medium"},ym={class:"d-flex align-center w-100"},hm={class:"flex-grow-1"},bm={class:"font-weight-medium"},_m={class:"text-caption text-medium-emphasis"},Sm={class:"d-flex align-center justify-space-between mb-3"},xm={__name:"FormsPage",setup(e){const n=T(!1),t=T(!1),a=T([]),o=T([]),s=T(""),i=T(null),u=T(null),d=T({page:1,limit:10,total:0,pages:0,hasNextPage:!1,hasPrevPage:!1}),m=T([{title:"tudiants",value:"student"},{title:"Groupes",value:"group"},{title:"Sous-groupes",value:"subgroup"},{title:"Promotions",value:"promotion"}]),v=T([{title:"Actif",value:"active"},{title:"Expir",value:"expired"},{title:" venir",value:"upcoming"}]),g=T([]),p=T([]),f=T([]),b=T([]),x=T([]),h=T(null),w=T(!1),C=T(!1),L=T(!1),j=T(null),N=T(!1),P=T([]),k=T({title:"",professor:"",associationType:"student",students:[],groups:[],subgroups:[],promotion:null,sections:[],validFrom:"",validTo:""}),B=T([{title:"Binaire (Oui/Non)",value:"binary"},{title:"chelle (0-8)",value:"scale"}]),q=T([{title:"Commune",value:"common"},{title:"Individuelle",value:"individual"},{title:"Mixte",value:"mixed"}]),G=T([{title:"Formulaire",align:"start",key:"title",sortable:!1},{title:"Professeur",align:"start",key:"professor"},{title:"Type",align:"start",key:"associationType"},{title:"Cibles",align:"start",key:"targets"},{title:"Validit",align:"start",key:"validity"},{title:"Statut",align:"start",key:"status"},{title:"Actions",align:"end",key:"actions",sortable:!1}]),D=T(!1),H=T(null),J=T({show:!1,text:"",color:"success"}),ae={required:ee=>!!ee||"Ce champ est requis",isNumber:ee=>!isNaN(parseFloat(ee))&&isFinite(ee)||"Doit tre un nombre",minStudents:ee=>ee.length>=1||"Au moins un tudiant requis",minGroups:ee=>ee.length>=1||"Au moins un groupe requis",validToAfterFrom:ee=>!k.value.validFrom||!ee?!0:new Date(ee)>new Date(k.value.validFrom)||"La date de fin doit tre postrieure  la date de dbut"};tt(async()=>{await K(),await $(),await y(),await A(),await S(),await F(),await ne()});const oe=ee=>ee.sections?.length||0,le=ee=>{const I=new Date,Z=new Date(ee.validFrom),Te=new Date(ee.validTo);return I<Z?"warning":I>Te?"error":"success"},R=ee=>{const I=new Date,Z=new Date(ee.validFrom),Te=new Date(ee.validTo);return I<Z?"mdi-clock-outline":I>Te?"mdi-clock-alert":"mdi-check-circle"},Q=ee=>{const I=new Date,Z=new Date(ee.validFrom),Te=new Date(ee.validTo);return I<Z?" venir":I>Te?"Expir":"Actif"},he=ee=>ee?new Date(ee).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"",M=ee=>ee==="binary"?[I=>I===1||"Le score pour un type binaire doit tre 1"]:ee==="scale"?[I=>I>=0||"Le score minimum est 0",I=>I<=8||"Le score maximum est 8"]:[],K=async()=>{try{const ee=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();console.log("Utilisateur connect:",I),h.value=I,w.value=I.role==="admin",console.log("Est admin:",w.value),I.role==="professor"&&(k.value.professor=I._id)}else console.error("Erreur lors du chargement du profil - Status:",ee.status)}catch(ee){console.error("Erreur lors du chargement du profil utilisateur:",ee)}},$=async()=>{try{const ee=await fetch("http://localhost:5000/api/auth/users/professors",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();console.log("Donnes des professeurs reues:",I);let Z=[];I.users&&Array.isArray(I.users)?Z=I.users:Array.isArray(I)?Z=I:I.data&&Array.isArray(I.data)?Z=I.data:I.professors&&Array.isArray(I.professors)&&(Z=I.professors),g.value=Z.map(Te=>({...Te,fullName:`${Te.firstName} ${Te.lastName}`})),console.log("Professeurs chargs:",g.value),console.log("Nombre de professeurs:",g.value.length)}else{console.error("Erreur lors du chargement des professeurs - Status:",ee.status);const I=await ee.text();console.error("Dtails de l'erreur:",I),g.value=[]}}catch(ee){console.error("Erreur lors du chargement des professeurs:",ee),g.value=[]}},y=async()=>{try{const ee=await fetch("http://localhost:5000/api/students/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();p.value=(I.students||I||[]).map(Z=>({...Z,fullName:`${Z.firstName} ${Z.lastName}`}))}}catch(ee){console.error("Erreur lors du chargement des tudiants:",ee)}},S=async()=>{try{const ee=await fetch("http://localhost:5000/api/promotions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();b.value=Array.isArray(I.promotions)?I.promotions:[]}else console.error("Erreur lors du chargement des promotions"),b.value=[]}catch(ee){console.error("Erreur lors du chargement des promotions:",ee),b.value=[]}},A=async()=>{try{const ee=await fetch("http://localhost:5000/api/groups",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();f.value=Array.isArray(I.groups)?I.groups:[]}else console.error("Erreur lors du chargement des groupes"),f.value=[]}catch(ee){console.error("Erreur lors du chargement des groupes:",ee),f.value=[]}},F=async()=>{try{const ee=await fetch("http://localhost:5000/api/subgroups/list",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(ee.ok){const I=await ee.json();x.value=I.subgroups||I||[]}}catch(ee){console.error("Erreur lors du chargement des sous-groupes:",ee)}},ne=async()=>{n.value=!0;try{const ee=new URLSearchParams;ee.append("page",d.value.page),ee.append("limit",d.value.limit),i.value&&ee.append("associationType",i.value);const I=await fetch(`http://localhost:5000/api/forms?${ee.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!I.ok)throw new Error("Erreur lors du chargement des formulaires");const Z=await I.json();a.value=Z.forms||[],o.value=a.value,Z.pagination&&(d.value=Z.pagination)}catch(ee){console.error("Erreur:",ee),J.value={show:!0,text:"Erreur lors du chargement des formulaires",color:"error"}}finally{n.value=!1}},Ie=ee=>{d.value.page=ee.page,d.value.limit=ee.itemsPerPage,ne()},Ce=()=>{o.value=a.value.filter(ee=>{const I=s.value===""||ee.title?.toLowerCase().includes(s.value.toLowerCase())||ee.professor?.firstName?.toLowerCase().includes(s.value.toLowerCase())||ee.professor?.lastName?.toLowerCase().includes(s.value.toLowerCase()),Z=i.value===null||ee.associationType===i.value,Te=u.value===null||Q(ee).toLowerCase()===u.value.replace("active","actif").replace("expired","expir").replace("upcoming"," venir");return I&&Z&&Te})},Ue=()=>{ft(),L.value=!1,C.value=!0},Re=()=>{C.value=!1,ft()},ft=()=>{k.value={title:"",professor:h.value&&h.value.role==="professor"?h.value._id:"",associationType:"student",students:[],groups:[],subgroups:[],promotion:null,sections:[],validFrom:"",validTo:""},P.value=[],L.value=!1},Gt=()=>{k.value.students=[],k.value.groups=[],k.value.subgroups=[],k.value.promotion=null},Qt=ee=>{ee.type==="binary"?ee.maxScore=1:ee.type==="scale"&&(ee.maxScore=8)},il=ee=>{k.value.students=k.value.students.filter(I=>I!==ee)},Ea=ee=>{k.value.groups=k.value.groups.filter(I=>I!==ee)},ul=ee=>{k.value.subgroups=k.value.subgroups.filter(I=>I!==ee)},$a=()=>{k.value.sections.push({title:"",lines:[]}),P.value.push(k.value.sections.length-1)},Vl=ee=>{k.value.sections.splice(ee,1),P.value=P.value.filter(I=>I!==ee).map(I=>I>ee?I-1:I)},Ba=ee=>{k.value.sections[ee].lines.push({title:"",maxScore:1,type:"binary",notationType:"common"})},Wl=(ee,I)=>{k.value.sections[ee].lines.splice(I,1)},Kl=async()=>{if(!j.value)return;const{valid:ee}=await j.value.validate();if(ee){t.value=!0;try{const I=L.value?`http://localhost:5000/api/forms/update/${k.value._id}`:"http://localhost:5000/api/forms/add",Z=L.value?"PUT":"POST";if(k.value.associationType==="promotion"&&!k.value.promotion)throw new Error("Une promotion doit tre slectionne pour ce type d'association.");if(k.value.associationType==="subgroup"&&k.value.subgroups.length===0)throw new Error("Au moins un sous-groupe doit tre slectionn.");if(!(await fetch(I,{method:Z,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(k.value)})).ok)throw new Error(`Erreur lors de l'${L.value?"dition":"ajout"} du formulaire`);J.value={show:!0,text:`Formulaire ${L.value?"modifi":"cr"} avec succs`,color:"success"},Re(),await ne()}catch(I){console.error("Erreur:",I),J.value={show:!0,text:`Erreur lors de l'${L.value?"dition":"ajout"} du formulaire`,color:"error"}}finally{t.value=!1}}},Na=ee=>{console.log("Voir formulaire:",ee)},vl=ee=>{L.value=!0,k.value={...ee},k.value.validFrom&&(k.value.validFrom=new Date(k.value.validFrom).toISOString().slice(0,16)),k.value.validTo&&(k.value.validTo=new Date(k.value.validTo).toISOString().slice(0,16)),C.value=!0},Fa=async ee=>{const I={...ee,title:`${ee.title} (copie)`,validFrom:new Date().toISOString().slice(0,16),validTo:new Date(Date.now()+6048e5).toISOString().slice(0,16)};delete I._id,delete I.createdAt,delete I.updatedAt,k.value=I,L.value=!1,C.value=!0},La=async ee=>{try{const I=await fetch(`http://localhost:5000/api/forms/${ee._id}/export`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(I.ok){const Z=await I.blob(),Te=window.URL.createObjectURL(Z),De=document.createElement("a");De.href=Te,De.download=`${ee.title}.csv`,De.click(),window.URL.revokeObjectURL(Te)}}catch(I){console.error("Erreur lors de l'export:",I),J.value={show:!0,text:"Erreur lors de l'export",color:"error"}}},Yl=ee=>{H.value=ee,D.value=!0},za=async()=>{if(H.value)try{if(!(await fetch(`http://localhost:5000/api/forms/delete/${H.value._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Erreur lors de la suppression du formulaire");J.value={show:!0,text:"Formulaire supprim avec succs",color:"success"},D.value=!1,await ne()}catch(ee){console.error("Erreur:",ee),J.value={show:!0,text:"Erreur lors de la suppression du formulaire",color:"error"}}};return(ee,I)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",Mf,[c("div",null,[c("h1",Uf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>I[19]||(I[19]=[_(" mdi-clipboard-text ")])),_:1,__:[19]}),I[20]||(I[20]=_(" Gestion des formulaires "))]),I[21]||(I[21]=c("p",{class:"text-subtitle-1 text-medium-emphasis"}," Crez et grez vos formulaires d'valuation ",-1))]),l(re,{color:"primary",size:"large",onClick:Ue,"prepend-icon":"mdi-plus",variant:"elevated",class:"text-h6"},{default:r(()=>I[22]||(I[22]=[_(" Crer un formulaire ")])),_:1,__:[22]})])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"rounded-lg elevation-3",color:"surface"},{default:r(()=>[l(Ne,{class:"pa-6"},{default:r(()=>[l(Ae,{class:"mb-6",align:"center"},{default:r(()=>[l(se,{cols:"12",md:"4"},{default:r(()=>[l(Fe,{modelValue:s.value,"onUpdate:modelValue":I[0]||(I[0]=Z=>s.value=Z),label:"Rechercher un formulaire",placeholder:"Titre, professeur...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",onInput:Ce,clearable:""},{"append-inner":r(()=>[l(yl,null,{default:r(()=>[s.value?(Y(),fe(X,{key:0,size:"small",color:"primary"},{default:r(()=>I[23]||(I[23]=[_(" mdi-clipboard-search ")])),_:1,__:[23]})):Ve("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:i.value,"onUpdate:modelValue":[I[1]||(I[1]=Z=>i.value=Z),Ce],items:m.value,label:"Type d'association",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-account-group",clearable:""},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:u.value,"onUpdate:modelValue":[I[2]||(I[2]=Z=>u.value=Z),Ce],items:v.value,label:"Statut",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-calendar-check",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),l(kl,{headers:G.value,items:o.value,"items-per-page":d.value.limit,page:d.value.page,"server-items-length":d.value.total,class:"elevation-1 rounded-lg",loading:n.value,"loading-text":"Chargement des formulaires...","no-data-text":"Aucun formulaire trouv","items-per-page-text":"Formulaires par page","onUpdate:options":Ie},{"item.title":r(({item:Z})=>[c("div",jf,[l(dt,{color:le(Z),size:"32",class:"mr-3"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>[_(z(R(Z)),1)]),_:2},1024)]),_:2},1032,["color"]),c("div",null,[c("div",Gf,z(Z.title),1),c("div",Hf,z(oe(Z))+" "+z(oe(Z)>1?"sections":"section"),1)])])]),"item.professor":r(({item:Z})=>[c("div",qf,[l(X,{size:"small",color:"primary",class:"mr-2"},{default:r(()=>I[24]||(I[24]=[_("mdi-account-tie")])),_:1,__:[24]}),c("span",null,z(Z.professor?.firstName)+" "+z(Z.professor?.lastName),1)])]),"item.associationType":r(({item:Z})=>[l(Pe,{color:Z.associationType==="student"?"green":"blue","prepend-icon":Z.associationType==="student"?"mdi-account":"mdi-account-group",size:"small",variant:"flat",class:"font-weight-medium"},{default:r(()=>[_(z(Z.associationType==="student"?"tudiants":"Groupes"),1)]),_:2},1032,["color","prepend-icon"])]),"item.targets":r(({item:Z})=>[c("div",Wf,[Z.students&&Z.students.length>0?(Y(),fe(Pe,{key:0,color:"green",size:"small",variant:"outlined","prepend-icon":"mdi-account"},{default:r(()=>[_(z(Z.students.length)+" tudiant"+z(Z.students.length>1?"s":""),1)]),_:2},1024)):Ve("",!0),Z.groups&&Z.groups.length>0?(Y(),fe(Pe,{key:1,color:"blue",size:"small",variant:"outlined","prepend-icon":"mdi-account-group"},{default:r(()=>[_(z(Z.groups.length)+" groupe"+z(Z.groups.length>1?"s":""),1)]),_:2},1024)):Ve("",!0)])]),"item.validity":r(({item:Z})=>[c("div",Kf,[c("div",Yf,[l(X,{size:"small",color:"success",class:"mr-1"},{default:r(()=>I[25]||(I[25]=[_("mdi-calendar-start")])),_:1,__:[25]}),c("span",null,z(he(Z.validFrom)),1)]),c("div",Xf,[l(X,{size:"small",color:"error",class:"mr-1"},{default:r(()=>I[26]||(I[26]=[_("mdi-calendar-end")])),_:1,__:[26]}),c("span",null,z(he(Z.validTo)),1)])])]),"item.status":r(({item:Z})=>[l(Pe,{color:le(Z),size:"small",variant:"flat","prepend-icon":R(Z)},{default:r(()=>[_(z(Q(Z)),1)]),_:2},1032,["color","prepend-icon"])]),"item.actions":r(({item:Z})=>[c("div",Jf,[l(re,{icon:"mdi-eye",variant:"text",color:"info",size:"small",onClick:Te=>Na(Z)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[27]||(I[27]=[_("mdi-eye")])),_:1,__:[27]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[28]||(I[28]=[_("Voir les dtails")])),_:1,__:[28]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-pencil",variant:"text",color:"primary",size:"small",onClick:Te=>vl(Z)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[29]||(I[29]=[_("mdi-pencil")])),_:1,__:[29]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[30]||(I[30]=[_("Modifier")])),_:1,__:[30]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-content-copy",variant:"text",color:"warning",size:"small",onClick:Te=>Fa(Z)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[31]||(I[31]=[_("mdi-content-copy")])),_:1,__:[31]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[32]||(I[32]=[_("Dupliquer")])),_:1,__:[32]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-download",variant:"text",color:"success",size:"small",onClick:Te=>La(Z)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[33]||(I[33]=[_("mdi-download")])),_:1,__:[33]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[34]||(I[34]=[_("Exporter")])),_:1,__:[34]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:Te=>Yl(Z)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[35]||(I[35]=[_("mdi-delete")])),_:1,__:[35]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[36]||(I[36]=[_("Supprimer")])),_:1,__:[36]})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","items-per-page","page","server-items-length","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:C.value,"onUpdate:modelValue":I[14]||(I[14]=Z=>C.value=Z),"max-width":"1200px",persistent:""},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",Qf,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>[_(z(L.value?"mdi-clipboard-edit":"mdi-clipboard-plus"),1)]),_:1}),c("div",null,[c("h3",Zf,z(L.value?"Modifier le formulaire":"Crer un formulaire"),1),c("p",em,z(L.value?"Modifiez les paramtres du formulaire":"Configurez votre nouveau formulaire d'valuation"),1)])])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[l(Wt,{ref_key:"formRef",ref:j,modelValue:N.value,"onUpdate:modelValue":I[13]||(I[13]=Z=>N.value=Z)},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",tm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[37]||(I[37]=[_("mdi-information")])),_:1,__:[37]}),I[38]||(I[38]=_(" Informations gnrales "))])]),_:1}),l(se,{cols:"12",md:"8"},{default:r(()=>[l(Fe,{modelValue:k.value.title,"onUpdate:modelValue":I[3]||(I[3]=Z=>k.value.title=Z),label:"Titre du formulaire","prepend-inner-icon":"mdi-format-title",variant:"outlined",density:"comfortable",rules:[ae.required],placeholder:"Ex: valuation projet BUT3",required:""},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"4"},{default:r(()=>[l(Ee,{modelValue:k.value.professor,"onUpdate:modelValue":I[4]||(I[4]=Z=>k.value.professor=Z),items:g.value,label:"Professeur responsable","prepend-inner-icon":"mdi-account-tie",variant:"outlined",density:"comfortable","item-title":"fullName","item-value":"_id",rules:[ae.required],disabled:!w.value,hint:w.value?"":"Vous tes automatiquement slectionn comme professeur responsable","persistent-hint":!w.value,required:""},null,8,["modelValue","items","rules","disabled","hint","persistent-hint"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",lm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[39]||(I[39]=[_("mdi-account-group")])),_:1,__:[39]}),I[40]||(I[40]=_(" Type d'valuation "))])]),_:1}),l(se,{cols:"12"},{default:r(()=>[l(Al,{modelValue:k.value.associationType,"onUpdate:modelValue":[I[5]||(I[5]=Z=>k.value.associationType=Z),Gt],inline:""},{default:r(()=>[l(_t,{label:"valuation individuelle",value:"student",color:"primary"},{label:r(()=>[c("div",am,[l(X,{class:"mr-2"},{default:r(()=>I[41]||(I[41]=[_("mdi-account")])),_:1,__:[41]}),I[42]||(I[42]=c("span",null,"valuation individuelle",-1))])]),_:1}),l(_t,{label:"valuation par groupe",value:"group",color:"primary"},{label:r(()=>[c("div",nm,[l(X,{class:"mr-2"},{default:r(()=>I[43]||(I[43]=[_("mdi-account-group")])),_:1,__:[43]}),I[44]||(I[44]=c("span",null,"valuation par groupe",-1))])]),_:1}),l(_t,{label:"valuation par sous-groupe",value:"subgroup",color:"primary"},{label:r(()=>[c("div",om,[l(X,{class:"mr-2"},{default:r(()=>I[45]||(I[45]=[_("mdi-account-multiple-outline")])),_:1,__:[45]}),I[46]||(I[46]=c("span",null,"valuation par sous-groupe",-1))])]),_:1}),l(_t,{label:"valuation par promotion",value:"promotion",color:"primary"},{label:r(()=>[c("div",sm,[l(X,{class:"mr-2"},{default:r(()=>I[47]||(I[47]=[_("mdi-school")])),_:1,__:[47]}),I[48]||(I[48]=c("span",null,"valuation par promotion",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(se,{cols:"12"},{default:r(()=>[c("h4",rm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[49]||(I[49]=[_("mdi-calendar-range")])),_:1,__:[49]}),I[50]||(I[50]=_(" Priode de validit "))])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:k.value.validFrom,"onUpdate:modelValue":I[6]||(I[6]=Z=>k.value.validFrom=Z),label:"Valide  partir de",type:"datetime-local","prepend-inner-icon":"mdi-calendar-start",variant:"outlined",density:"comfortable",rules:[ae.required]},null,8,["modelValue","rules"])]),_:1}),l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:k.value.validTo,"onUpdate:modelValue":I[7]||(I[7]=Z=>k.value.validTo=Z),label:"Valide jusqu'",type:"datetime-local","prepend-inner-icon":"mdi-calendar-end",variant:"outlined",density:"comfortable",rules:[ae.required,ae.validToAfterFrom]},null,8,["modelValue","rules"])]),_:1}),k.value.associationType==="student"?(Y(),fe(se,{key:0,cols:"12"},{default:r(()=>[c("h4",im,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[51]||(I[51]=[_("mdi-account-multiple")])),_:1,__:[51]}),I[52]||(I[52]=_(" Slection des tudiants "))]),l(Ee,{modelValue:k.value.students,"onUpdate:modelValue":I[8]||(I[8]=Z=>k.value.students=Z),items:p.value,label:"tudiants  valuer","prepend-inner-icon":"mdi-account-multiple",variant:"outlined",density:"comfortable","item-title":"fullName","item-value":"_id",multiple:"",chips:"","closable-chips":"",rules:[ae.required,ae.minStudents],hint:"Slectionnez les tudiants qui seront valus","persistent-hint":""},{selection:r(({item:Z,index:Te})=>[Te<3?(Y(),fe(Pe,{key:Z.raw._id,size:"small",closable:"","onClick:close":De=>il(Z.raw._id)},{default:r(()=>[_(z(Z.raw.firstName)+" "+z(Z.raw.lastName),1)]),_:2},1032,["onClick:close"])):Ve("",!0),Te===3?(Y(),pe("span",um," (+"+z(k.value.students.length-3)+" autres) ",1)):Ve("",!0)]),_:1},8,["modelValue","items","rules"])]),_:1})):Ve("",!0),k.value.associationType==="group"?(Y(),fe(se,{key:1,cols:"12"},{default:r(()=>[c("h4",dm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[53]||(I[53]=[_("mdi-account-group")])),_:1,__:[53]}),I[54]||(I[54]=_(" Slection des groupes "))]),l(Ee,{modelValue:k.value.groups,"onUpdate:modelValue":I[9]||(I[9]=Z=>k.value.groups=Z),items:f.value,label:"Groupes  valuer","prepend-inner-icon":"mdi-account-group",variant:"outlined",density:"comfortable","item-title":"name","item-value":"_id",multiple:"",chips:"","closable-chips":"",rules:[ae.required,ae.minGroups],hint:"Slectionnez les groupes qui seront valus","persistent-hint":""},{selection:r(({item:Z,index:Te})=>[Te<3?(Y(),fe(Pe,{key:Z.raw._id,size:"small",closable:"","onClick:close":De=>Ea(Z.raw._id)},{default:r(()=>[_(z(Z.raw.name),1)]),_:2},1032,["onClick:close"])):Ve("",!0),Te===3?(Y(),pe("span",cm," (+"+z(k.value.groups.length-3)+" autres) ",1)):Ve("",!0)]),_:1},8,["modelValue","items","rules"])]),_:1})):Ve("",!0),k.value.associationType==="subgroup"?(Y(),fe(se,{key:2,cols:"12"},{default:r(()=>[c("h4",vm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[55]||(I[55]=[_("mdi-account-multiple-outline")])),_:1,__:[55]}),I[56]||(I[56]=_(" Slection des sous-groupes "))]),l(Ee,{modelValue:k.value.subgroups,"onUpdate:modelValue":I[10]||(I[10]=Z=>k.value.subgroups=Z),items:x.value,label:"Sous-groupes  valuer","prepend-inner-icon":"mdi-account-multiple-outline",variant:"outlined",density:"comfortable","item-title":"name","item-value":"_id",multiple:"",chips:"","closable-chips":"",rules:[ae.required],hint:"Slectionnez les sous-groupes qui seront valus","persistent-hint":""},{selection:r(({item:Z,index:Te})=>[Te<3?(Y(),fe(Pe,{key:Z.raw._id,size:"small",closable:"","onClick:close":De=>ul(Z.raw._id)},{default:r(()=>[_(z(Z.raw.name),1)]),_:2},1032,["onClick:close"])):Ve("",!0),Te===3?(Y(),pe("span",fm," (+"+z(k.value.subgroups.length-3)+" autres) ",1)):Ve("",!0)]),_:1},8,["modelValue","items","rules"])]),_:1})):Ve("",!0),k.value.associationType==="promotion"?(Y(),fe(se,{key:3,cols:"12"},{default:r(()=>[c("h4",mm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[57]||(I[57]=[_("mdi-school")])),_:1,__:[57]}),I[58]||(I[58]=_(" Slection de la promotion "))]),l(Ee,{modelValue:k.value.promotion,"onUpdate:modelValue":I[11]||(I[11]=Z=>k.value.promotion=Z),items:b.value,label:"Promotion  valuer","prepend-inner-icon":"mdi-school",variant:"outlined",density:"comfortable","item-title":"name","item-value":"_id",rules:[ae.required],hint:"Slectionnez la promotion qui sera value","persistent-hint":""},null,8,["modelValue","items","rules"])]),_:1})):Ve("",!0),l(se,{cols:"12"},{default:r(()=>[c("div",gm,[c("h4",pm,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>I[59]||(I[59]=[_("mdi-view-list")])),_:1,__:[59]}),I[60]||(I[60]=_(" Sections d'valuation "))]),l(re,{color:"primary",variant:"outlined",size:"small",onClick:$a,"prepend-icon":"mdi-plus"},{default:r(()=>I[61]||(I[61]=[_(" Ajouter une section ")])),_:1,__:[61]})]),l(vr,{modelValue:P.value,"onUpdate:modelValue":I[12]||(I[12]=Z=>P.value=Z),multiple:"",variant:"accordion"},{default:r(()=>[(Y(!0),pe(_e,null,Je(k.value.sections,(Z,Te)=>(Y(),fe(cr,{key:Te,class:"mb-2"},{default:r(()=>[l(ca,null,{default:r(()=>[c("div",ym,[l(X,{class:"mr-3"},{default:r(()=>I[62]||(I[62]=[_("mdi-folder-outline")])),_:1,__:[62]}),c("div",hm,[c("div",bm,z(Z.title||`Section ${Te+1}`),1),c("div",_m,z(Z.lines.length)+" critre"+z(Z.lines.length>1?"s":""),1)]),l(re,{icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:Zt(De=>Vl(Te),["stop"])},{default:r(()=>[l(X,{size:"small"},{default:r(()=>I[63]||(I[63]=[_("mdi-delete")])),_:1,__:[63]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[64]||(I[64]=[_("Supprimer la section")])),_:1,__:[64]})]),_:2},1032,["onClick"])])]),_:2},1024),l(da,null,{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Fe,{modelValue:Z.title,"onUpdate:modelValue":De=>Z.title=De,label:"Titre de la section","prepend-inner-icon":"mdi-format-title",variant:"outlined",density:"comfortable",rules:[ae.required],placeholder:"Ex: Qualit du code"},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),l(se,{cols:"12"},{default:r(()=>[c("div",Sm,[I[66]||(I[66]=c("h5",{class:"text-subtitle-1 font-weight-medium"},"Critres d'valuation",-1)),l(re,{color:"secondary",variant:"outlined",size:"small",onClick:De=>Ba(Te),"prepend-icon":"mdi-plus"},{default:r(()=>I[65]||(I[65]=[_(" Ajouter un critre ")])),_:2,__:[65]},1032,["onClick"])]),(Y(!0),pe(_e,null,Je(Z.lines,(De,Cl)=>(Y(),fe(Be,{key:Cl,class:"mb-3",variant:"outlined"},{default:r(()=>[l(Ne,{class:"pa-4"},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12",md:"6"},{default:r(()=>[l(Fe,{modelValue:De.title,"onUpdate:modelValue":Et=>De.title=Et,label:"Titre du critre","prepend-inner-icon":"mdi-star",variant:"outlined",density:"comfortable",rules:[ae.required],placeholder:"Ex: Lisibilit du code"},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),l(se,{cols:"12",md:"3"},{default:r(()=>[l(Ee,{modelValue:De.type,"onUpdate:modelValue":[Et=>De.type=Et,Et=>Qt(De)],items:B.value,label:"Type d'valuation","prepend-inner-icon":"mdi-format-list-bulleted",variant:"outlined",density:"comfortable",rules:[ae.required]},null,8,["modelValue","onUpdate:modelValue","items","rules"])]),_:2},1024),l(se,{cols:"12",md:"2"},{default:r(()=>[l(Fe,{modelValue:De.maxScore,"onUpdate:modelValue":Et=>De.maxScore=Et,modelModifiers:{number:!0},label:"Score max","prepend-inner-icon":"mdi-numeric",variant:"outlined",density:"comfortable",type:"number",min:De.type==="binary"?1:0,max:De.type==="scale"?8:100,rules:[ae.required,ae.isNumber,...M(De.type)],readonly:De.type==="binary"},null,8,["modelValue","onUpdate:modelValue","min","max","rules","readonly"])]),_:2},1024),l(se,{cols:"12",md:"1"},{default:r(()=>[l(re,{icon:"mdi-delete",variant:"text",color:"error",onClick:Et=>Wl(Te,Cl)},{default:r(()=>[l(X,null,{default:r(()=>I[67]||(I[67]=[_("mdi-delete")])),_:1,__:[67]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>I[68]||(I[68]=[_("Supprimer le critre")])),_:1,__:[68]})]),_:2},1032,["onClick"])]),_:2},1024),l(se,{cols:"12"},{default:r(()=>[l(Ee,{modelValue:De.notationType,"onUpdate:modelValue":Et=>De.notationType=Et,items:q.value,label:"Type de notation","prepend-inner-icon":"mdi-account-group",variant:"outlined",density:"comfortable",rules:[ae.required],hint:"Dfinit comment les notes seront attribues","persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","items","rules"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:Re,"prepend-icon":"mdi-close"},{default:r(()=>I[69]||(I[69]=[_(" Annuler ")])),_:1,__:[69]}),l(re,{color:"primary",variant:"elevated",onClick:Kl,disabled:!N.value,loading:t.value,"prepend-icon":"mdi-check"},{default:r(()=>[_(z(L.value?"Modifier":"Crer"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:D.value,"onUpdate:modelValue":I[16]||(I[16]=Z=>D.value=Z),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>I[70]||(I[70]=[_("Confirmation de suppression")])),_:1,__:[70]}),l(Ne,null,{default:r(()=>I[71]||(I[71]=[_(" tes-vous sr de vouloir supprimer ce formulaire ? Cette action est irrversible. ")])),_:1,__:[71]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",text:"",onClick:I[15]||(I[15]=Z=>D.value=!1)},{default:r(()=>I[72]||(I[72]=[_("Annuler")])),_:1,__:[72]}),l(re,{color:"error",onClick:za},{default:r(()=>I[73]||(I[73]=[_("Supprimer")])),_:1,__:[73]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:J.value.show,"onUpdate:modelValue":I[18]||(I[18]=Z=>J.value.show=Z),color:J.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:I[17]||(I[17]=Z=>J.value.show=!1)},{default:r(()=>I[74]||(I[74]=[_("Fermer")])),_:1,__:[74]})]),default:r(()=>[_(z(J.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},km=Ut(xm,[["__scopeId","data-v-783f0193"]]),Bn=Symbol.for("vuetify:v-slider");function wm(e,n,t){const a=t==="vertical",o=n.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return a?s.clientY-(o.top+o.height/2):s.clientX-(o.left+o.width/2)}function Vm(e,n){return"touches"in e&&e.touches.length?e.touches[0][n]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][n]:e[n]}const Cm=te({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...st(),...At({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Pm=e=>{const n=E(()=>parseFloat(e.min)),t=E(()=>parseFloat(e.max)),a=E(()=>Number(e.step)>0?parseFloat(e.step):0),o=E(()=>Math.max(Gn(a.value),Gn(n.value)));function s(i){if(i=parseFloat(i),a.value<=0)return i;const u=nt(i,n.value,t.value),d=n.value%a.value;let m=Math.round((u-d)/a.value)*a.value+d;return u>m&&m+a.value>t.value&&(m=t.value),parseFloat(Math.min(m,t.value).toFixed(o.value))}return{min:n,max:t,step:a,decimals:o,roundValue:s}},Im=e=>{let{props:n,steps:t,onSliderStart:a,onSliderMove:o,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:u}=yt(),d=W(()=>n.reverse),m=E(()=>n.direction==="vertical"),v=E(()=>m.value!==d.value),{min:g,max:p,step:f,decimals:b,roundValue:x}=t,h=E(()=>parseInt(n.thumbSize,10)),w=E(()=>parseInt(n.tickSize,10)),C=E(()=>parseInt(n.trackSize,10)),L=E(()=>(p.value-g.value)/f.value),j=W(()=>n.disabled),N=E(()=>n.error||n.disabled?void 0:n.thumbColor??n.color),P=E(()=>n.error||n.disabled?void 0:n.trackColor??n.color),k=E(()=>n.error||n.disabled?void 0:n.trackFillColor??n.color),B=ge(!1),q=ge(0),G=T(),D=T();function H(F){const ne=G.value?.$el;if(!ne)return;const Ie=n.direction==="vertical",Ce=Ie?"top":"left",Ue=Ie?"height":"width",Re=Ie?"clientY":"clientX",{[Ce]:ft,[Ue]:Gt}=ne.getBoundingClientRect(),Qt=Vm(F,Re);let il=nt((Qt-ft-q.value)/Gt)||0;return(Ie?v.value:v.value!==u.value)&&(il=1-il),x(g.value+il*(p.value-g.value))}const J=F=>{const ne=H(F);ne!=null&&s({value:ne}),B.value=!1,q.value=0},ae=F=>{const ne=H(F);D.value=i(F),D.value&&(B.value=!0,D.value.contains(F.target)?q.value=wm(F,D.value,n.direction):(q.value=0,ne!=null&&o({value:ne})),ne!=null&&a({value:ne}),He(()=>D.value?.focus()))},oe={passive:!0,capture:!0};function le(F){const ne=H(F);ne!=null&&o({value:ne})}function R(F){F.stopPropagation(),F.preventDefault(),J(F),window.removeEventListener("mousemove",le,oe),window.removeEventListener("mouseup",R)}function Q(F){J(F),window.removeEventListener("touchmove",le,oe),F.target?.removeEventListener("touchend",Q)}function he(F){ae(F),window.addEventListener("touchmove",le,oe),F.target?.addEventListener("touchend",Q,{passive:!1})}function M(F){F.button===0&&(F.preventDefault(),ae(F),window.addEventListener("mousemove",le,oe),window.addEventListener("mouseup",R,{passive:!1}))}const K=F=>{const ne=(F-g.value)/(p.value-g.value)*100;return nt(isNaN(ne)?0:ne,0,100)},$=W(()=>n.showTicks),y=E(()=>$.value?n.ticks?Array.isArray(n.ticks)?n.ticks.map(F=>({value:F,position:K(F),label:F.toString()})):Object.keys(n.ticks).map(F=>({value:parseFloat(F),position:K(parseFloat(F)),label:n.ticks[F]})):L.value!==1/0?Tl(L.value+1).map(F=>{const ne=g.value+F*f.value;return{value:ne,position:K(ne)}}):[]:[]),S=E(()=>y.value.some(F=>{let{label:ne}=F;return!!ne})),A={activeThumbRef:D,color:W(()=>n.color),decimals:b,disabled:j,direction:W(()=>n.direction),elevation:W(()=>n.elevation),hasLabels:S,isReversed:d,indexFromEnd:v,min:g,max:p,mousePressed:B,numTicks:L,onSliderMousedown:M,onSliderTouchstart:he,parsedTicks:y,parseMouseMove:H,position:K,readonly:W(()=>n.readonly),rounded:W(()=>n.rounded),roundValue:x,showTicks:$,startOffset:q,step:f,thumbSize:h,thumbColor:N,thumbLabel:W(()=>n.thumbLabel),ticks:W(()=>n.ticks),tickSize:w,trackColor:P,trackContainerRef:G,trackFillColor:k,trackSize:C,vertical:m};return at(Bn,A),A},Tm=te({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...ke()},"VSliderThumb"),Am=ce()({name:"VSliderThumb",directives:{vRipple:xt},props:Tm(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t,emit:a}=n;const o=qe(Bn),{isRtl:s,rtlClasses:i}=yt();if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:u,max:d,thumbColor:m,step:v,disabled:g,thumbSize:p,thumbLabel:f,direction:b,isReversed:x,vertical:h,readonly:w,elevation:C,mousePressed:L,decimals:j,indexFromEnd:N}=o,P=E(()=>g.value?void 0:C.value),{elevationClasses:k}=Ft(P),{textColorClasses:B,textColorStyles:q}=Bt(m),{pageup:G,pagedown:D,end:H,home:J,left:ae,right:oe,down:le,up:R}=en,Q=[G,D,H,J,ae,oe,le,R],he=E(()=>v.value?[1,2,3]:[1,5,10]);function M($,y){if(!Q.includes($.key))return;$.preventDefault();const S=v.value||.1,A=(d.value-u.value)/S;if([ae,oe,le,R].includes($.key)){const ne=(h.value?[s.value?ae:oe,x.value?le:R]:N.value!==s.value?[ae,R]:[oe,R]).includes($.key)?1:-1,Ie=$.shiftKey?2:$.ctrlKey?1:0;ne===-1&&y===d.value&&!Ie&&!Number.isInteger(A)?y=y-A%1*S:y=y+ne*S*he.value[Ie]}else if($.key===J)y=u.value;else if($.key===H)y=d.value;else{const F=$.key===D?1:-1;y=y-F*S*(A>100?A/10:10)}return Math.max(e.min,Math.min(e.max,y))}function K($){const y=M($,e.modelValue);y!=null&&a("update:modelValue",y)}return me(()=>{const $=ye(N.value?100-e.position:e.position,"%");return c("div",{class:ve(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&L.value},e.class,i.value]),style:xe([{"--v-slider-thumb-position":$,"--v-slider-thumb-size":ye(p.value)},e.style]),role:"slider",tabindex:g.value?-1:0,"aria-label":e.name,"aria-valuemin":u.value,"aria-valuemax":d.value,"aria-valuenow":e.modelValue,"aria-readonly":!!w.value,"aria-orientation":b.value,onKeydown:w.value?void 0:K},[c("div",{class:ve(["v-slider-thumb__surface",B.value,k.value]),style:{...q.value}},null),et(c("div",{class:ve(["v-slider-thumb__ripple",B.value]),style:xe(q.value)},null),[[xt,e.ripple,null,{circle:!0,center:!0}]]),l(yi,{origin:"bottom center"},{default:()=>[et(c("div",{class:"v-slider-thumb__label-container"},[c("div",{class:ve(["v-slider-thumb__label",B.value])},[c("div",null,[t["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(v.value?j.value:1)])])]),[[nl,f.value&&e.focused||f.value==="always"]])]})])}),{}}}),Em=te({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ke()},"VSliderTrack"),$m=ce()({name:"VSliderTrack",props:Em(),emits:{},setup(e,n){let{slots:t}=n;const a=qe(Bn);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,parsedTicks:s,rounded:i,showTicks:u,tickSize:d,trackColor:m,trackFillColor:v,trackSize:g,vertical:p,min:f,max:b,indexFromEnd:x}=a,{roundedClasses:h}=vt(i),{backgroundColorClasses:w,backgroundColorStyles:C}=it(v),{backgroundColorClasses:L,backgroundColorStyles:j}=it(m),N=E(()=>`inset-${p.value?"block":"inline"}-${x.value?"end":"start"}`),P=E(()=>p.value?"height":"width"),k=E(()=>({[N.value]:"0%",[P.value]:"100%"})),B=E(()=>e.stop-e.start),q=E(()=>({[N.value]:ye(e.start,"%"),[P.value]:ye(B.value,"%")})),G=E(()=>u.value?(p.value?s.value.slice().reverse():s.value).map((H,J)=>{const ae=H.value!==f.value&&H.value!==b.value?ye(H.position,"%"):void 0;return c("div",{key:H.value,class:ve(["v-slider-track__tick",{"v-slider-track__tick--filled":H.position>=e.start&&H.position<=e.stop,"v-slider-track__tick--first":H.value===f.value,"v-slider-track__tick--last":H.value===b.value}]),style:{[N.value]:ae}},[(H.label||t["tick-label"])&&c("div",{class:"v-slider-track__tick-label"},[t["tick-label"]?.({tick:H,index:J})??H.label])])}):[]);return me(()=>c("div",{class:ve(["v-slider-track",h.value,e.class]),style:xe([{"--v-slider-track-size":ye(g.value),"--v-slider-tick-size":ye(d.value)},e.style])},[c("div",{class:ve(["v-slider-track__background",L.value,{"v-slider-track__background--opacity":!!o.value||!v.value}]),style:{...k.value,...j.value}},null),c("div",{class:ve(["v-slider-track__fill",w.value]),style:{...q.value,...C.value}},null),u.value&&c("div",{class:ve(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":u.value==="always"}])},[G.value])])),{}}}),Bm=te({...An(),...Cm(),...xl(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ql=ce()({name:"VSlider",props:Bm(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const o=T(),{rtlClasses:s}=yt(),i=Pm(e),u=$e(e,"modelValue",void 0,P=>i.roundValue(P??i.min.value)),{min:d,max:m,mousePressed:v,roundValue:g,onSliderMousedown:p,onSliderTouchstart:f,trackContainerRef:b,position:x,hasLabels:h,readonly:w}=Im({props:e,steps:i,onSliderStart:()=>{a("start",u.value)},onSliderEnd:P=>{let{value:k}=P;const B=g(k);u.value=B,a("end",B)},onSliderMove:P=>{let{value:k}=P;return u.value=g(k)},getActiveThumb:()=>o.value?.$el}),{isFocused:C,focus:L,blur:j}=ql(e),N=E(()=>x(u.value));return me(()=>{const P=Dt.filterProps(e),k=!!(e.label||t.label||t.prepend);return l(Dt,de({class:["v-slider",{"v-slider--has-labels":!!t["tick-label"]||h.value,"v-slider--focused":C.value,"v-slider--pressed":v.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},P,{focused:C.value}),{...t,prepend:k?B=>c(_e,null,[t.label?.(B)??(e.label?l(Ia,{id:B.id.value,class:"v-slider__label",text:e.label},null):void 0),t.prepend?.(B)]):void 0,default:B=>{let{id:q,messagesId:G}=B;return c("div",{class:"v-slider__container",onMousedown:w.value?void 0:p,onTouchstartPassive:w.value?void 0:f},[c("input",{id:q.value,name:e.name||q.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:u.value},null),l($m,{ref:b,start:0,stop:N.value},{"tick-label":t["tick-label"]}),l(Am,{ref:o,"aria-describedby":G.value,focused:C.value,min:d.value,max:m.value,modelValue:u.value,"onUpdate:modelValue":D=>u.value=D,position:N.value,elevation:e.elevation,onFocus:L,onBlur:j,ripple:e.ripple,name:e.name},{"thumb-label":t["thumb-label"]})])}})}),{}}}),Nm={class:"d-flex align-center justify-space-between"},Fm={class:"text-h4 font-weight-bold mb-2"},Lm={class:"d-flex gap-2"},zm={class:"d-flex align-center"},Om={class:"font-weight-medium"},Rm={class:"text-caption text-medium-emphasis"},Dm={key:0},Mm={class:"text-caption text-medium-emphasis mt-1"},Um={key:1},jm={key:0,class:"text-body-2"},Gm={key:1,class:"text-caption text-medium-emphasis"},Hm={class:"d-flex align-center"},qm={class:"text-caption"},Wm={class:"text-body-2"},Km={class:"text-caption text-medium-emphasis"},Ym={class:"d-flex align-center"},Xm={class:"text-caption"},Jm={class:"d-flex gap-1"},Qm={class:"d-flex align-center"},Zm={key:0,class:"text-center pa-8"},eg={class:"d-flex align-center gap-2"},tg={key:2,class:"text-center pa-8"},lg={class:"text-body-2 text-medium-emphasis"},ag={class:"d-flex align-center"},ng={class:"text-h5 font-weight-bold"},og={class:"text-subtitle-1 text-medium-emphasis mb-0"},sg={class:"text-h6 font-weight-medium mb-3"},rg={key:0},ig={class:"text-h6 font-weight-medium mb-3"},ug={class:"d-flex align-center w-100"},dg={class:"flex-grow-1"},cg={class:"font-weight-medium"},vg={class:"text-caption text-medium-emphasis"},fg={class:"text-subtitle-2 mb-3 font-weight-medium"},mg={class:"mb-3"},gg={key:0},pg={key:0},yg={key:1},hg={class:"text-caption mb-1"},bg={key:2},_g={class:"mb-3"},Sg={class:"text-caption mb-1"},xg={key:1},kg={key:0},wg={class:"d-flex justify-space-between text-caption text-medium-emphasis"},Vg={key:1},Cg={class:"text-caption mb-2"},Pg={key:2},Ig={class:"mb-4"},Tg={class:"text-caption mb-1"},Ag={class:"mt-2 text-caption"},Eg={key:1,class:"text-center pa-4 text-medium-emphasis"},$g={key:1,class:"mt-6"},Bg={class:"d-flex align-center mb-3"},Ng={class:"text-body-2"},Fg={__name:"EvaluationsPage",setup(e){const n=T(!1),t=T(!1),a=T(!1),o=T([]),s=T([]),i=T([]),u=T([]),d=T([]),m=T([]),v=T([]),g=T(null),p=T(!1),f=T({page:1,limit:10,total:0,pages:0,hasNextPage:!1,hasPrevPage:!1}),b=T(""),x=T(null),h=T(null),w=T(null),C=T(""),L=T(!1),j=T(!1),N=T(!1),P=T(null),k=T({_id:null,form:null,professor:null,student:null,group:null,subgroup:null,promotion:null,groupNumber:null,scores:{},evaluationType:null,targetStudents:[]}),B=T([]),q=T(null),G=T(!1),D=T(null),H=T({show:!1,text:"",color:"success"}),J=T([{title:"Formulaire",align:"start",key:"form",sortable:!1},{title:"Cible",align:"start",key:"target",sortable:!1},{title:"Contexte",align:"start",key:"context",sortable:!1},{title:"Scores",align:"start",key:"scores",sortable:!1},{title:"Professeur",align:"start",key:"professor"},{title:"Date",align:"start",key:"createdAt"},{title:"Actions",align:"end",key:"actions",sortable:!1}]),ae={required:U=>!!U||"Ce champ est requis",isNumber:U=>!isNaN(parseFloat(U))&&isFinite(U)||"Doit tre un nombre"},oe=E(()=>{const U=[{title:"Tous les formulaires",value:null}];return i.value.forEach(V=>{U.push({title:V.title,value:V._id})}),U}),le=E(()=>{const U=[{title:"Toutes les promotions",value:null}];return d.value.forEach(V=>{U.push({title:V.displayName||`${V.name} ${V.year}`,value:V._id})}),U}),R=E(()=>{const U=[{title:"Tous les groupes",value:null}];return m.value.forEach(V=>{U.push({title:V.name,value:V._id})}),U}),Q=E(()=>C.value?i.value.filter(U=>U.title.toLowerCase().includes(C.value.toLowerCase())):i.value),he=E(()=>!P.value||P.value.associationType!=="student"?[]:P.value.students&&P.value.students.length>0?(console.log("Utilisation des tudiants assigns au formulaire:",P.value.students.length),P.value.students.map(U=>({...U,fullName:`${U.firstName} ${U.lastName}`}))):(console.log("Formulaire individuel - utilisation de tous les tudiants disponibles:",u.value.length),u.value)),M=E(()=>!P.value||P.value.associationType!=="group"?[]:P.value.groups&&P.value.groups.length>0?(console.log("Utilisation des groupes assigns au formulaire:",P.value.groups.length),P.value.groups):(console.log("Formulaire de groupe - utilisation de tous les groupes disponibles:",m.value.length),m.value)),K=E(()=>!P.value||P.value.associationType!=="subgroup"?[]:P.value.subgroups&&P.value.subgroups.length>0?(console.log("Utilisation des sous-groupes assigns au formulaire:",P.value.subgroups.length),P.value.subgroups):(console.log("Formulaire de sous-groupe - utilisation de tous les sous-groupes disponibles:",v.value.length),v.value)),$=E(()=>!P.value||P.value.associationType!=="promotion"?null:P.value.promotion?(console.log("Utilisation de la promotion assigne au formulaire:",P.value.promotion.name),P.value.promotion):null),y=E(()=>{if(!P.value)return!1;switch(P.value.associationType){case"student":return!!k.value.student;case"group":return!!k.value.group;case"subgroup":return!!k.value.subgroup;case"promotion":return!!P.value.promotion;default:return!1}}),S=E(()=>P.value&&P.value.sections?.reduce((U,V)=>U+(V.lines?.length||0),0)||0),A=E(()=>{Object.keys(k.value.scores).length;const U=Object.values(k.value.scores).filter(O=>{if(O.notationType==="common")return O.commonScore!==void 0&&O.commonScore!==null;if(O.notationType==="individual")return O.individualScores&&O.individualScores.length>0;if(O.notationType==="mixed"){const ue=O.commonScore!==void 0&&O.commonScore!==null,ie=O.individualScores&&O.individualScores.length>0;return ue||ie}return!1}).length,V=S.value;return V>0?Math.round(U/V*100):0}),F=E(()=>{const U=y.value,V=Object.keys(k.value.scores).length>0,O=Object.values(k.value.scores).some(ue=>{if(ue.notationType==="common")return ue.commonScore!==void 0&&ue.commonScore!==null;if(ue.notationType==="individual")return ue.individualScores&&ue.individualScores.length>0&&ue.individualScores.some(ie=>ie.score!==void 0&&ie.score!==null);if(ue.notationType==="mixed"){const ie=ue.commonScore!==void 0&&ue.commonScore!==null,Xe=ue.individualScores&&ue.individualScores.length>0&&ue.individualScores.some(Se=>Se.score!==void 0&&Se.score!==null);return ie||Xe}return!1});return G.value&&U&&V&&O});tt(async()=>{await il(),await Vl(),await Promise.all([ul(),$a(),Ba(),Wl(),Kl()]),console.log("Toutes les donnes charges. tudiants disponibles:",u.value.length)});const ne=U=>U?new Date(U).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"",Ie=U=>{const V=new Date,O=new Date(U.validFrom),ue=new Date(U.validTo);return V<O?" venir":V>ue?"Expir":"Actif"},Ce=U=>{const V=U.scores?.length||0,O=U.form?.sections?.reduce((ue,ie)=>ue+(ie.lines?.length||0),0)||1;return Math.round(V/O*100)},Ue=U=>{const V=Ce(U);return V===100?"success":V>50?"warning":"error"},Re=U=>{const V=ft(U),O=P.value.sections[U].lines.length,ue=V/O*100;return ue===100?"success":ue>50?"warning":"error"},ft=U=>{if(!P.value)return 0;const V=P.value.sections[U];return V?V.lines.filter(O=>{const ue=k.value.scores[O._id];if(!ue)return!1;if(ue.notationType==="common")return ue.commonScore!==void 0&&ue.commonScore!==null;if(ue.notationType==="individual")return ue.individualScores&&ue.individualScores.length>0;if(ue.notationType==="mixed"){const ie=ue.commonScore!==void 0&&ue.commonScore!==null,Xe=ue.individualScores&&ue.individualScores.length>0;return ie||Xe}return!1}).length:0},Gt=U=>({common:"Commune",individual:"Individuelle",mixed:"Mixte"})[U]||U,Qt=()=>P.value?he.value.length===0?"Aucun tudiant disponible pour ce formulaire":P.value.students&&P.value.students.length>0?`${he.value.length} tudiant(s) assign(s) spcifiquement  ce formulaire`:k.value.targetStudents&&k.value.targetStudents.length>0?`${he.value.length} tudiant(s) cible(s) charg(s) pour ce formulaire`:`${he.value.length} tudiant(s) disponible(s) (tous les tudiants)`:"",il=async()=>{try{const U=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json();console.log("Utilisateur connect:",V),g.value=V,p.value=V.role==="admin"}else console.error("Erreur lors du chargement du profil - Status:",U.status)}catch(U){console.error("Erreur lors du chargement du profil utilisateur:",U)}},Ea=async U=>{try{const V=await fetch(`http://localhost:5000/api/forms/${U}/target-students`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(V.ok){const O=await V.json();k.value.targetStudents=O.targetStudents||[],console.log("tudiants cibles chargs:",k.value.targetStudents)}else console.log("Pas d'tudiants cibles spcifiques, utilisation de tous les tudiants disponibles"),P.value?.associationType==="student"&&(k.value.targetStudents=u.value)}catch(V){console.error("Erreur lors du chargement des tudiants cibles:",V),P.value?.associationType==="student"&&(k.value.targetStudents=u.value,console.log("Utilisation de tous les tudiants disponibles aprs erreur:",u.value.length))}},ul=async()=>{n.value=!0;try{const U=new URLSearchParams;U.append("page",f.value.page),U.append("limit",f.value.limit),x.value&&U.append("form",x.value),h.value&&U.append("promotion",h.value),w.value&&U.append("group",w.value);const V=await fetch(`http://localhost:5000/api/evaluations?${U.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!V.ok)throw new Error("Erreur lors du chargement des valuations");const O=await V.json();o.value=O.evaluations||O||[],s.value=o.value,O.pagination&&(f.value=O.pagination)}catch(U){console.error("Erreur:",U),H.value={show:!0,text:"Erreur lors du chargement des valuations",color:"error"}}finally{n.value=!1}},$a=async()=>{a.value=!0;try{const U=await fetch("http://localhost:5000/api/forms",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json();i.value=V.forms||V||[]}}catch(U){console.error("Erreur lors du chargement des formulaires:",U)}finally{a.value=!1}},Vl=async()=>{try{console.log("Chargement des tudiants...");const U=await fetch("http://localhost:5000/api/students",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json(),O=(V.students||V||[]).map(ue=>({...ue,fullName:`${ue.firstName} ${ue.lastName}`}));u.value=O,console.log("tudiants chargs avec succs:",O.length)}else{console.error("Erreur lors du chargement des tudiants - Status:",U.status);const V=await U.json();console.error("Dtails de l'erreur:",V)}}catch(U){console.error("Erreur lors du chargement des tudiants:",U),H.value={show:!0,text:"Erreur lors du chargement des tudiants",color:"error"}}},Ba=async()=>{try{const U=await fetch("http://localhost:5000/api/promotions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json();d.value=(V.promotions||V||[]).map(O=>({...O,displayName:`${O.name} ${O.year}`}))}}catch(U){console.error("Erreur lors du chargement des promotions:",U)}},Wl=async()=>{try{const U=await fetch("http://localhost:5000/api/groups",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json();m.value=V.groups||V||[]}}catch(U){console.error("Erreur lors du chargement des groupes:",U)}},Kl=async()=>{try{const U=await fetch("http://localhost:5000/api/subgroups",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const V=await U.json();v.value=V.subgroups||V||[]}}catch(U){console.error("Erreur lors du chargement des sous-groupes:",U)}},Na=U=>{f.value.page=U.page,f.value.limit=U.itemsPerPage,ul()},vl=()=>{ul()},Fa=()=>{L.value=!0},La=async U=>{if(!U||!U._id){console.error("Formulaire invalide:",U);return}console.log("Slection du formulaire:",U.title,"Type:",U.associationType),console.log("tudiants assigns au formulaire:",U.students?.length||0),console.log("Groupes assigns au formulaire:",U.groups?.length||0),console.log("Sous-groupes assigns au formulaire:",U.subgroups?.length||0),P.value=U,Yl(),k.value.form=U._id,k.value.professor=g.value?._id,k.value.evaluationType=U.associationType,await Ea(U._id),U.associationType==="student"&&((!U.students||U.students.length===0)&&u.value.length===0&&(console.log("Rechargement des tudiants car aucun tudiant assign et liste gnrale vide"),await Vl()),U.students&&U.students.length===1&&(k.value.student=U.students[0]._id,console.log("Pr-slection de l'tudiant unique:",U.students[0].firstName,U.students[0].lastName))),U.sections&&Array.isArray(U.sections)&&U.sections.forEach(V=>{V&&V.lines&&Array.isArray(V.lines)&&V.lines.forEach(O=>{O&&O._id&&O.notationType&&za(O._id,O.notationType)})}),console.log("Configuration termine:"),console.log("- tudiants du formulaire:",U.students?.length||0),console.log("- tudiants disponibles gnraux:",u.value.length),console.log("- tudiants cibles chargs:",k.value.targetStudents.length),console.log("- tudiant pr-slectionn:",k.value.student||"aucun"),L.value=!1,j.value=!0,B.value=U.sections?.map((V,O)=>O)||[]},Yl=()=>{k.value={_id:null,form:null,professor:null,student:null,groupNumber:null,scores:{},promotion:null,group:null,subgroup:null,evaluationType:null,targetStudents:[]}},za=(U,V)=>{!U||!V||k.value.scores[U]||(k.value.scores[U]={lineId:U,notationType:V,commonScore:V==="individual"?void 0:0,individualScores:V==="common"?[]:[]})},ee=()=>{if(P.value?.students&&P.value.students.length>0)return console.log("Utilisation des tudiants assigns au formulaire pour la notation:",P.value.students.length),P.value.students.filter(V=>V&&V._id&&V.firstName&&V.lastName);if(k.value.targetStudents&&k.value.targetStudents.length>0)return console.log("Utilisation des tudiants cibles pour la notation:",k.value.targetStudents.length),k.value.targetStudents.filter(V=>V&&V._id&&V.firstName&&V.lastName);if(!P.value)return[];const U=P.value.associationType;if(U==="student"&&k.value.student){const V=u.value.find(O=>O&&O._id===k.value.student);if(V&&V._id&&V.firstName&&V.lastName)return console.log("Utilisation de l'tudiant slectionn pour la notation:",V.fullName),[V]}else if(U==="promotion"&&k.value.promotion){const V=u.value.filter(O=>O&&O._id&&O.firstName&&O.lastName&&O.promotions&&O.promotions.some(ue=>ue&&ue._id===k.value.promotion));return console.log("Utilisation des tudiants de la promotion pour la notation:",V.length),V}return console.log("Aucun tudiant cible dfini"),[]},I=(U,V)=>{if(!U||!V)return 0;const O=k.value.scores[U];if(!O||!O.individualScores)return 0;const ue=O.individualScores.find(ie=>ie&&ie.studentId===V);return ue?ue.score:0},Z=(U,V,O)=>{if(!U||!V)return;const ue=k.value.scores[U];if(!ue)return;ue.individualScores||(ue.individualScores=[]);const ie=ue.individualScores.findIndex(Xe=>Xe&&Xe.studentId===V);ie>=0?ue.individualScores[ie].score=O:ue.individualScores.push({studentId:V,score:O})},Te=(U,V)=>{if(!U||!V)return!1;const O=k.value.scores[U];return!O||!O.individualScores?!1:O.individualScores.some(ue=>ue&&ue.studentId===V)},De=(U,V,O)=>{if(!U||!V)return;const ue=k.value.scores[U];if(ue)if(ue.individualScores||(ue.individualScores=[]),O)ue.individualScores.some(Xe=>Xe&&Xe.studentId===V)||ue.individualScores.push({studentId:V,score:0});else{const ie=ue.individualScores.findIndex(Xe=>Xe&&Xe.studentId===V);ie>=0&&ue.individualScores.splice(ie,1)}},Cl=()=>{j.value=!1,P.value=null,Yl()},Et=async()=>{if(!q.value)return;const{valid:U}=await q.value.validate();if(U){t.value=!0;try{console.log("Scores bruts:",JSON.stringify(k.value.scores,null,2));const V=[];if(Object.entries(k.value.scores).forEach(([Ge,mt])=>{const fl={lineId:Ge,notationType:mt.notationType};(mt.notationType==="common"||mt.notationType==="mixed")&&mt.commonScore!==void 0&&mt.commonScore!==null&&(fl.commonScore=Number(mt.commonScore)),(mt.notationType==="individual"||mt.notationType==="mixed")&&mt.individualScores&&mt.individualScores.length>0&&(fl.individualScores=mt.individualScores.filter(Pl=>Pl.score!==void 0&&Pl.score!==null).map(Pl=>({studentId:Pl.studentId,score:Number(Pl.score)}))),(fl.commonScore!==void 0||fl.individualScores&&fl.individualScores.length>0)&&V.push(fl)}),console.log("Scores transforms:",JSON.stringify(V,null,2)),V.length===0)throw new Error("Aucun score valide  enregistrer. Veuillez saisir au moins un score.");for(const Ge of V){if(Ge.commonScore!==void 0&&(isNaN(Ge.commonScore)||Ge.commonScore<0))throw new Error(`Score commun invalide pour le critre ${Ge.lineId}`);if(Ge.individualScores){for(const mt of Ge.individualScores)if(isNaN(mt.score)||mt.score<0)throw new Error(`Score individuel invalide pour l'tudiant ${mt.studentId}`)}}const O={formId:k.value.form,professorId:k.value.professor,scores:V,evaluationType:k.value.evaluationType};k.value.evaluationType==="student"?O.studentId=k.value.student:k.value.evaluationType==="group"?k.value.group&&(O.group=k.value.group,O.groupNumber=1):k.value.evaluationType==="subgroup"?O.subgroup=k.value.subgroup:k.value.evaluationType==="promotion"&&(O.promotion=P.value.promotion?._id||k.value.promotion);const ue=k.value._id?`http://localhost:5000/api/evaluations/update/${k.value._id}`:"http://localhost:5000/api/evaluations/add",ie=k.value._id?"PUT":"POST";console.log("Payload envoy au backend:",JSON.stringify(O,null,2));const Xe=await fetch(ue,{method:ie,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(O)});if(!Xe.ok){const Ge=await Xe.json();throw new Error(Ge.message||`Erreur lors de l'${k.value._id?"dition":"ajout"} de l'valuation`)}const Se=await Xe.json();H.value={show:!0,text:Se.message||`valuation ${k.value._id?"modifie":"cre"} avec succs`,color:"success"},Cl(),await ul()}catch(V){console.error("Erreur:",V),H.value={show:!0,text:V.message||`Erreur lors de l'${k.value._id?"dition":"ajout"} de l'valuation`,color:"error"}}finally{t.value=!1}}},Nn=async U=>{try{const V=await fetch(`http://localhost:5000/api/evaluations/${U._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(V.ok){const O=await V.json();P.value=O.form;const ue={};(O.scores||[]).forEach(ie=>{ue[ie.lineId]={lineId:ie.lineId,notationType:ie.notationType,commonScore:ie.commonScore,individualScores:ie.individualScores||[]}}),k.value={_id:O._id,form:O.form._id,professor:O.professor?._id||g.value?._id,student:O.student?._id||null,groupNumber:O.groupNumber||null,scores:ue,promotion:O.promotion?._id||null,group:O.group?._id||null,subgroup:O.subgroup?._id||null,evaluationType:O.evaluationType||O.form.associationType,targetStudents:O.targetStudents||[]},j.value=!0,B.value=O.form.sections?.map((ie,Xe)=>Xe)||[]}}catch(V){console.error("Erreur:",V),H.value={show:!0,text:"Erreur lors du chargement de l'valuation",color:"error"}}},mr=U=>{Nn(U)},gr=async U=>{try{const V=await fetch(`http://localhost:5000/api/evaluations/export/${U.form._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(V.ok){const O=await V.blob(),ue=window.URL.createObjectURL(O),ie=document.createElement("a");ie.href=ue,ie.download=`${U.form.title}-evaluations.csv`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),window.URL.revokeObjectURL(ue),H.value={show:!0,text:"Export CSV ralis avec succs",color:"success"}}}catch(V){console.error("Erreur lors de l'export:",V),H.value={show:!0,text:"Erreur lors de l'export",color:"error"}}},pr=async()=>{H.value={show:!0,text:"Fonction d'export global en cours de dveloppement",color:"info"}},yr=U=>{D.value=U,N.value=!0},hr=async()=>{if(D.value)try{const U=await fetch(`http://localhost:5000/api/evaluations/delete/${D.value._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!U.ok){const O=await U.json();throw new Error(O.message||"Erreur lors de la suppression de l'valuation")}const V=await U.json();H.value={show:!0,text:V.message||"valuation supprime avec succs",color:"success"},N.value=!1,D.value=null,await ul()}catch(U){console.error("Erreur:",U),H.value={show:!0,text:U.message||"Erreur lors de la suppression de l'valuation",color:"error"}}};return(U,V)=>(Y(),fe(sl,{fluid:"",class:"pa-4"},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("div",Nm,[c("div",null,[c("h1",Fm,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>V[18]||(V[18]=[_(" mdi-clipboard-check ")])),_:1,__:[18]}),V[19]||(V[19]=_(" Gestion des valuations "))]),V[20]||(V[20]=c("p",{class:"text-subtitle-1 text-medium-emphasis"}," Crez et grez vos valuations bases sur les formulaires ",-1))]),c("div",Lm,[l(re,{color:"success",variant:"outlined","prepend-icon":"mdi-download",onClick:pr,disabled:s.value.length===0},{default:r(()=>V[21]||(V[21]=[_(" Exporter tout ")])),_:1,__:[21]},8,["disabled"]),l(re,{color:"primary",size:"large",onClick:Fa,"prepend-icon":"mdi-plus",variant:"elevated",class:"text-h6"},{default:r(()=>V[22]||(V[22]=[_(" Nouvelle valuation ")])),_:1,__:[22]})])])]),_:1})]),_:1}),l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"rounded-lg elevation-3",color:"surface"},{default:r(()=>[l(Ne,{class:"pa-6"},{default:r(()=>[l(Ae,{class:"mb-6",align:"center"},{default:r(()=>[l(se,{cols:"12",md:"3"},{default:r(()=>[l(Fe,{modelValue:b.value,"onUpdate:modelValue":V[0]||(V[0]=O=>b.value=O),label:"Rechercher une valuation",placeholder:"Formulaire, tudiant...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",onInput:vl,clearable:""},null,8,["modelValue"])]),_:1}),l(se,{cols:"12",md:"3"},{default:r(()=>[l(Ee,{modelValue:x.value,"onUpdate:modelValue":[V[1]||(V[1]=O=>x.value=O),vl],items:oe.value,label:"Filtrer par formulaire",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-clipboard-text",clearable:""},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"3"},{default:r(()=>[l(Ee,{modelValue:h.value,"onUpdate:modelValue":[V[2]||(V[2]=O=>h.value=O),vl],items:le.value,label:"Filtrer par promotion",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-school",clearable:""},null,8,["modelValue","items"])]),_:1}),l(se,{cols:"12",md:"3"},{default:r(()=>[l(Ee,{modelValue:w.value,"onUpdate:modelValue":[V[3]||(V[3]=O=>w.value=O),vl],items:R.value,label:"Filtrer par groupe",variant:"outlined",density:"comfortable","hide-details":"","prepend-inner-icon":"mdi-account-group",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),l(kl,{headers:J.value,items:s.value,"items-per-page":f.value.limit,page:f.value.page,"server-items-length":f.value.total,class:"elevation-1 rounded-lg",loading:n.value,"loading-text":"Chargement des valuations...","no-data-text":"Aucune valuation trouve","items-per-page-text":"valuations par page","onUpdate:options":Na},{"item.form":r(({item:O})=>[c("div",zm,[l(dt,{color:"primary",size:"32",class:"mr-3"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>V[23]||(V[23]=[_("mdi-clipboard-text")])),_:1,__:[23]})]),_:1}),c("div",null,[c("div",Om,z(O.form?.title),1),c("div",Rm,z(O.form?.associationType==="student"?"Individuelle":"Groupe"),1)])])]),"item.target":r(({item:O})=>[O.student?(Y(),pe("div",Dm,[l(Pe,{color:"green",size:"small",variant:"flat","prepend-icon":"mdi-account",class:"font-weight-medium"},{default:r(()=>[_(z(O.student.firstName)+" "+z(O.student.lastName),1)]),_:2},1024),c("div",Mm," N "+z(O.student.studentNumber),1)])):(Y(),pe("div",Um,[l(Pe,{color:"blue",size:"small",variant:"flat","prepend-icon":"mdi-account-group",class:"font-weight-medium"},{default:r(()=>[_(" Groupe "+z(O.groupNumber),1)]),_:2},1024)]))]),"item.context":r(({item:O})=>[c("div",null,[O.promotion?(Y(),pe("div",jm,[l(X,{size:"small",class:"mr-1"},{default:r(()=>V[24]||(V[24]=[_("mdi-school")])),_:1,__:[24]}),_(" "+z(O.promotion.name)+" "+z(O.promotion.year),1)])):Ve("",!0),O.group?(Y(),pe("div",Gm,[l(X,{size:"small",class:"mr-1"},{default:r(()=>V[25]||(V[25]=[_("mdi-account-group")])),_:1,__:[25]}),_(" "+z(O.group.name),1)])):Ve("",!0)])]),"item.scores":r(({item:O})=>[c("div",Hm,[l(oa,{"model-value":Ce(O),color:Ue(O),size:32,width:3,class:"mr-2"},{default:r(()=>[c("span",qm,z(O.scores?.length||0),1)]),_:2},1032,["model-value","color"]),c("div",null,[c("div",Wm,z(O.scores?.length||0)+" critres",1),c("div",Km,z(Ce(O))+"% complt ",1)])])]),"item.professor":r(({item:O})=>[c("div",Ym,[l(X,{size:"small",color:"primary",class:"mr-2"},{default:r(()=>V[26]||(V[26]=[_("mdi-account-tie")])),_:1,__:[26]}),c("span",null,z(O.professor?.firstName)+" "+z(O.professor?.lastName),1)])]),"item.createdAt":r(({item:O})=>[c("div",Xm,z(ne(O.createdAt)),1)]),"item.actions":r(({item:O})=>[c("div",Jm,[l(re,{icon:"mdi-eye",variant:"text",color:"info",size:"small",onClick:ue=>Nn(O)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[27]||(V[27]=[_("mdi-eye")])),_:1,__:[27]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[28]||(V[28]=[_("Voir les dtails")])),_:1,__:[28]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-pencil",variant:"text",color:"primary",size:"small",onClick:ue=>mr(O)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[29]||(V[29]=[_("mdi-pencil")])),_:1,__:[29]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[30]||(V[30]=[_("Modifier")])),_:1,__:[30]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-download",variant:"text",color:"success",size:"small",onClick:ue=>gr(O)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[31]||(V[31]=[_("mdi-download")])),_:1,__:[31]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[32]||(V[32]=[_("Exporter")])),_:1,__:[32]})]),_:2},1032,["onClick"]),l(re,{icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:ue=>yr(O)},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[33]||(V[33]=[_("mdi-delete")])),_:1,__:[33]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[34]||(V[34]=[_("Supprimer")])),_:1,__:[34]})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items","items-per-page","page","server-items-length","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),l(lt,{modelValue:L.value,"onUpdate:modelValue":V[6]||(V[6]=O=>L.value=O),"max-width":"700px"},{default:r(()=>[l(Be,{class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",Qm,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>V[35]||(V[35]=[_(" mdi-clipboard-plus ")])),_:1,__:[35]}),V[36]||(V[36]=c("div",null,[c("h3",{class:"text-h5 font-weight-bold"},"Slectionner un formulaire"),c("p",{class:"text-subtitle-1 text-medium-emphasis mb-0"}," Choisissez un formulaire pour crer une nouvelle valuation ")],-1))])]),_:1}),l(Ke),l(Ne,{class:"pa-6"},{default:r(()=>[l(Fe,{modelValue:C.value,"onUpdate:modelValue":V[4]||(V[4]=O=>C.value=O),label:"Rechercher un formulaire","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4",clearable:""},null,8,["modelValue"]),a.value?(Y(),pe("div",Zm,[l(oa,{indeterminate:"",color:"primary",size:"48"}),V[37]||(V[37]=c("div",{class:"text-h6 mt-4"},"Chargement des formulaires...",-1))])):Q.value.length>0?(Y(),fe(Rt,{key:1,class:"rounded"},{default:r(()=>[(Y(!0),pe(_e,null,Je(Q.value,O=>(Y(),fe(pt,{key:O._id,onClick:ue=>La(O),class:"mb-2 pa-4",variant:"outlined",rounded:""},{prepend:r(()=>[l(dt,{color:"primary",size:"40"},{default:r(()=>[l(X,{color:"white"},{default:r(()=>V[38]||(V[38]=[_("mdi-clipboard-text")])),_:1,__:[38]})]),_:1})]),append:r(()=>[l(X,{color:"primary"},{default:r(()=>V[39]||(V[39]=[_("mdi-chevron-right")])),_:1,__:[39]})]),default:r(()=>[l(Nt,{class:"font-weight-medium mb-1"},{default:r(()=>[_(z(O.title),1)]),_:2},1024),l(al,{class:"mb-2"},{default:r(()=>[_(z(O.associationType==="student"?"valuation individuelle":"valuation par groupe")+"  Valide jusqu'au "+z(ne(O.validTo)),1)]),_:2},1024),c("div",eg,[l(Pe,{size:"small",color:"success",variant:"flat"},{default:r(()=>[_(z(Ie(O)),1)]),_:2},1024),l(Pe,{size:"small",color:"info",variant:"outlined"},{default:r(()=>[_(z(O.sections?.length||0)+" section"+z((O.sections?.length||0)>1?"s":""),1)]),_:2},1024)])]),_:2},1032,["onClick"]))),128))]),_:1})):(Y(),pe("div",tg,[l(X,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:r(()=>V[40]||(V[40]=[_("mdi-clipboard-remove")])),_:1,__:[40]}),V[41]||(V[41]=c("div",{class:"text-h6 mb-2"},"Aucun formulaire disponible",-1)),c("div",lg,z(C.value?"Aucun formulaire ne correspond  votre recherche":"Aucun formulaire n'est disponible pour valuation actuellement"),1)]))]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:V[5]||(V[5]=O=>L.value=!1),"prepend-icon":"mdi-close"},{default:r(()=>V[42]||(V[42]=[_(" Annuler ")])),_:1,__:[42]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(lt,{modelValue:j.value,"onUpdate:modelValue":V[13]||(V[13]=O=>j.value=O),"max-width":"1000px",persistent:""},{default:r(()=>[P.value?(Y(),fe(Be,{key:0,class:"rounded-lg"},{default:r(()=>[l(ze,{class:"pa-6 pb-4"},{default:r(()=>[c("div",ag,[l(X,{size:"large",color:"primary",class:"mr-3"},{default:r(()=>[_(z(k.value._id?"mdi-clipboard-edit":"mdi-clipboard-plus"),1)]),_:1}),c("div",null,[c("h3",ng,z(k.value._id?"Modifier":"Nouvelle")+" valuation ",1),c("p",og,[_(z(P.value.title)+" ",1),P.value.students&&P.value.students.length>0?(Y(),fe(Pe,{key:0,size:"small",color:"info",variant:"outlined",class:"ml-2"},{default:r(()=>[_(z(P.value.students.length)+" tudiant(s) assign(s) ",1)]),_:1})):Ve("",!0)])])])]),_:1}),l(Ke),l(Ne,{class:"pa-6",style:{"max-height":"70vh","overflow-y":"auto"}},{default:r(()=>[l(Wt,{ref_key:"evaluationFormRef",ref:q,modelValue:G.value,"onUpdate:modelValue":V[12]||(V[12]=O=>G.value=O)},{default:r(()=>[l(Ae,{class:"mb-6"},{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[c("h4",sg,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>V[43]||(V[43]=[_("mdi-information")])),_:1,__:[43]}),V[44]||(V[44]=_(" Informations de l'valuation "))])]),_:1}),P.value.associationType==="student"?(Y(),fe(se,{key:0,cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:k.value.student,"onUpdate:modelValue":V[7]||(V[7]=O=>k.value.student=O),items:he.value,label:"tudiant  valuer","prepend-inner-icon":"mdi-account",variant:"outlined",density:"comfortable","item-title":"fullName","item-value":"_id",rules:[ae.required],required:"",loading:a.value,disabled:he.value.length===0,hint:Qt(),"persistent-hint":""},Oa({_:2},[he.value.length===0?{name:"append-inner",fn:r(()=>[l(re,{icon:"mdi-refresh",variant:"text",size:"small",onClick:Vl,loading:n.value},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[45]||(V[45]=[_("mdi-refresh")])),_:1,__:[45]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[46]||(V[46]=[_("Recharger les tudiants")])),_:1,__:[46]})]),_:1},8,["loading"])]),key:"0"}:void 0]),1032,["modelValue","items","rules","loading","disabled","hint"])]),_:1})):Ve("",!0),P.value.associationType==="group"?(Y(),fe(se,{key:1,cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:k.value.group,"onUpdate:modelValue":V[8]||(V[8]=O=>k.value.group=O),items:M.value,label:"Groupe  valuer","prepend-inner-icon":"mdi-account-group",variant:"outlined",density:"comfortable","item-title":"name","item-value":"_id",rules:[ae.required],required:"",loading:a.value,disabled:M.value.length===0,hint:"Slectionnez le groupe assign  ce formulaire","persistent-hint":""},Oa({_:2},[M.value.length===0?{name:"append-inner",fn:r(()=>[l(re,{icon:"mdi-refresh",variant:"text",size:"small",onClick:Wl,loading:n.value},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[47]||(V[47]=[_("mdi-refresh")])),_:1,__:[47]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[48]||(V[48]=[_("Recharger les groupes")])),_:1,__:[48]})]),_:1},8,["loading"])]),key:"0"}:void 0]),1032,["modelValue","items","rules","loading","disabled"])]),_:1})):Ve("",!0),P.value.associationType==="subgroup"?(Y(),fe(se,{key:2,cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:k.value.subgroup,"onUpdate:modelValue":V[9]||(V[9]=O=>k.value.subgroup=O),items:K.value,label:"Sous-groupe  valuer","prepend-inner-icon":"mdi-account-group-outline",variant:"outlined",density:"comfortable","item-title":"name","item-value":"_id",rules:[ae.required],required:"",loading:a.value,disabled:K.value.length===0,hint:"Slectionnez le sous-groupe assign  ce formulaire","persistent-hint":""},Oa({_:2},[K.value.length===0?{name:"append-inner",fn:r(()=>[l(re,{icon:"mdi-refresh",variant:"text",size:"small",onClick:Kl,loading:n.value},{default:r(()=>[l(X,{size:"small"},{default:r(()=>V[49]||(V[49]=[_("mdi-refresh")])),_:1,__:[49]}),l(Me,{activator:"parent",location:"top"},{default:r(()=>V[50]||(V[50]=[_("Recharger les sous-groupes")])),_:1,__:[50]})]),_:1},8,["loading"])]),key:"0"}:void 0]),1032,["modelValue","items","rules","loading","disabled"])]),_:1})):Ve("",!0),P.value.associationType==="promotion"?(Y(),fe(se,{key:3,cols:"12",md:"6"},{default:r(()=>[l(Ee,{modelValue:k.value.promotion,"onUpdate:modelValue":V[10]||(V[10]=O=>k.value.promotion=O),items:$.value?[$.value]:[],label:"Promotion  valuer","prepend-inner-icon":"mdi-school",variant:"outlined",density:"comfortable","item-title":"displayName","item-value":"_id",rules:[ae.required],required:"",loading:a.value,disabled:!$.value,hint:"Promotion assigne  ce formulaire","persistent-hint":""},null,8,["modelValue","items","rules","loading","disabled"])]),_:1})):Ve("",!0)]),_:1}),y.value&&P.value?.sections?(Y(),pe("div",rg,[c("h4",ig,[l(X,{color:"primary",class:"mr-2"},{default:r(()=>V[51]||(V[51]=[_("mdi-clipboard-check")])),_:1,__:[51]}),V[52]||(V[52]=_(" Critres d'valuation "))]),l(vr,{modelValue:B.value,"onUpdate:modelValue":V[11]||(V[11]=O=>B.value=O),multiple:"",variant:"accordion"},{default:r(()=>[(Y(!0),pe(_e,null,Je(P.value.sections,(O,ue)=>(Y(),fe(cr,{key:ue,class:"mb-2"},{default:r(()=>[l(ca,null,{default:r(()=>[c("div",ug,[l(X,{class:"mr-3"},{default:r(()=>V[53]||(V[53]=[_("mdi-folder-outline")])),_:1,__:[53]}),c("div",dg,[c("div",cg,z(O?.title||"Section sans titre"),1),c("div",vg,z(O?.lines?.length||0)+" critre"+z((O?.lines?.length||0)>1?"s":""),1)]),l(Pe,{size:"small",color:Re(ue),variant:"flat"},{default:r(()=>[_(z(ft(ue))+"/"+z(O?.lines?.length||0),1)]),_:2},1032,["color"])])]),_:2},1024),l(da,null,{default:r(()=>[O?.lines&&O.lines.length>0?(Y(),fe(Ae,{key:0},{default:r(()=>[(Y(!0),pe(_e,null,Je(O.lines,(ie,Xe)=>(Y(),fe(se,{key:Xe,cols:"12",md:"6"},{default:r(()=>[ie&&ie._id&&ie.title?(Y(),fe(Be,{key:0,variant:"outlined",class:"pa-4"},{default:r(()=>[c("div",fg,z(ie.title),1),c("div",mg,[l(Pe,{size:"small",color:ie.type==="binary"?"orange":"blue",variant:"outlined"},{default:r(()=>[_(z(ie.type==="binary"?"Oui/Non":"chelle 0-8"),1)]),_:2},1032,["color"]),l(Pe,{size:"small",color:"grey",variant:"outlined",class:"ml-1"},{default:r(()=>[_(" Max: "+z(ie.maxScore),1)]),_:2},1024)]),ie.type==="binary"?(Y(),pe("div",gg,[ie.notationType==="common"?(Y(),pe("div",pg,[l(Al,{modelValue:k.value.scores[ie._id].commonScore,"onUpdate:modelValue":Se=>k.value.scores[ie._id].commonScore=Se,inline:"","hide-details":""},{default:r(()=>[l(_t,{label:"Non",value:0,color:"error"}),l(_t,{label:"Oui",value:1,color:"success"})]),_:2},1032,["modelValue","onUpdate:modelValue"])])):ie.notationType==="individual"?(Y(),pe("div",yg,[(Y(!0),pe(_e,null,Je(ee(),Se=>(Y(),pe("div",{key:Se?._id||`student-${Se?.firstName}-${Se?.lastName}`,class:"mb-2"},[c("div",hg,z(Se?.firstName||"Prnom")+" "+z(Se?.lastName||"Nom"),1),l(Al,{"model-value":I(ie._id,Se?._id),"onUpdate:modelValue":Ge=>Z(ie._id,Se?._id,Ge),inline:"","hide-details":""},{default:r(()=>[l(_t,{label:"Non",value:0,color:"error"}),l(_t,{label:"Oui",value:1,color:"success"})]),_:2},1032,["model-value","onUpdate:modelValue"])]))),128))])):ie.notationType==="mixed"?(Y(),pe("div",bg,[c("div",_g,[V[54]||(V[54]=c("div",{class:"text-caption mb-1"},"Score commun",-1)),l(Al,{modelValue:k.value.scores[ie._id].commonScore,"onUpdate:modelValue":Se=>k.value.scores[ie._id].commonScore=Se,inline:"","hide-details":""},{default:r(()=>[l(_t,{label:"Non",value:0,color:"error"}),l(_t,{label:"Oui",value:1,color:"success"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),l(Ke,{class:"my-2"}),c("div",null,[V[55]||(V[55]=c("div",{class:"text-caption mb-2"},"Scores individuels (optionnel)",-1)),(Y(!0),pe(_e,null,Je(ee(),Se=>(Y(),pe("div",{key:Se?._id||`student-${Se?.firstName}-${Se?.lastName}`,class:"mb-2"},[c("div",Sg,z(Se?.firstName||"Prnom")+" "+z(Se?.lastName||"Nom"),1),l(Al,{"model-value":I(ie._id,Se?._id),"onUpdate:modelValue":Ge=>Z(ie._id,Se?._id,Ge),inline:"","hide-details":""},{default:r(()=>[l(_t,{label:"Non dfini",value:null}),l(_t,{label:"Non",value:0,color:"error"}),l(_t,{label:"Oui",value:1,color:"success"})]),_:2},1032,["model-value","onUpdate:modelValue"])]))),128))])])):Ve("",!0)])):ie.type==="scale"?(Y(),pe("div",xg,[ie.notationType==="common"?(Y(),pe("div",kg,[l(Ql,{modelValue:k.value.scores[ie._id].commonScore,"onUpdate:modelValue":Se=>k.value.scores[ie._id].commonScore=Se,min:0,max:ie.maxScore,step:1,"show-ticks":"always","tick-size":"4","thumb-label":"",color:"primary"},{"thumb-label":r(({modelValue:Se})=>[_(z(Se)+"/"+z(ie.maxScore),1)]),_:2},1032,["modelValue","onUpdate:modelValue","max"]),c("div",wg,[V[56]||(V[56]=c("span",null,"0 - Insuffisant",-1)),c("span",null,z(Math.floor(ie.maxScore/2))+" - Satisfaisant",1),c("span",null,z(ie.maxScore)+" - Excellent",1)])])):ie.notationType==="individual"?(Y(),pe("div",Vg,[(Y(!0),pe(_e,null,Je(ee(),Se=>(Y(),pe("div",{key:Se?._id||`student-${Se?.firstName}-${Se?.lastName}`,class:"mb-4"},[c("div",Cg,z(Se?.firstName||"Prnom")+" "+z(Se?.lastName||"Nom"),1),l(Ql,{"model-value":I(ie._id,Se?._id),"onUpdate:modelValue":Ge=>Z(ie._id,Se?._id,Ge),min:0,max:ie.maxScore,step:1,"show-ticks":"always","tick-size":"4","thumb-label":"",color:"primary"},{"thumb-label":r(({modelValue:Ge})=>[_(z(Ge)+"/"+z(ie.maxScore),1)]),_:2},1032,["model-value","onUpdate:modelValue","max"])]))),128))])):ie.notationType==="mixed"?(Y(),pe("div",Pg,[c("div",Ig,[V[57]||(V[57]=c("div",{class:"text-caption mb-2"},"Score commun",-1)),l(Ql,{modelValue:k.value.scores[ie._id].commonScore,"onUpdate:modelValue":Se=>k.value.scores[ie._id].commonScore=Se,min:0,max:ie.maxScore,step:1,"show-ticks":"always","tick-size":"4","thumb-label":"",color:"primary"},{"thumb-label":r(({modelValue:Se})=>[_(z(Se)+"/"+z(ie.maxScore),1)]),_:2},1032,["modelValue","onUpdate:modelValue","max"])]),l(Ke,{class:"my-3"}),c("div",null,[V[58]||(V[58]=c("div",{class:"text-caption mb-2"},"Scores individuels (optionnel)",-1)),(Y(!0),pe(_e,null,Je(ee(),Se=>(Y(),pe("div",{key:Se?._id||`student-${Se?.firstName}-${Se?.lastName}`,class:"mb-3"},[c("div",Tg,z(Se?.firstName||"Prnom")+" "+z(Se?.lastName||"Nom"),1),l(Bs,{"model-value":Te(ie._id,Se?._id),"onUpdate:modelValue":Ge=>De(ie._id,Se?._id,Ge),label:"Score individuel spcifique",density:"compact","hide-details":"",class:"mb-2"},null,8,["model-value","onUpdate:modelValue"]),Te(ie._id,Se?._id)?(Y(),fe(Ql,{key:0,"model-value":I(ie._id,Se?._id),"onUpdate:modelValue":Ge=>Z(ie._id,Se?._id,Ge),min:0,max:ie.maxScore,step:1,"show-ticks":"always","tick-size":"4","thumb-label":"",color:"primary"},{"thumb-label":r(({modelValue:Ge})=>[_(z(Ge)+"/"+z(ie.maxScore),1)]),_:2},1032,["model-value","onUpdate:modelValue","max"])):Ve("",!0)]))),128))])])):Ve("",!0)])):Ve("",!0),c("div",Ag,[l(Pe,{size:"x-small",color:ie.notationType==="common"?"green":ie.notationType==="individual"?"blue":"orange",variant:"flat"},{default:r(()=>[_(z(Gt(ie.notationType)),1)]),_:2},1032,["color"])])]),_:2},1024)):Ve("",!0)]),_:2},1024))),128))]),_:2},1024)):(Y(),pe("div",Eg," Aucun critre dfini pour cette section "))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])])):Ve("",!0),y.value&&Object.keys(k.value.scores).length>0?(Y(),pe("div",$g,[l(Be,{variant:"tonal",color:"info"},{default:r(()=>[l(Ne,null,{default:r(()=>[c("div",Bg,[l(X,{class:"mr-2"},{default:r(()=>V[59]||(V[59]=[_("mdi-chart-line")])),_:1,__:[59]}),V[60]||(V[60]=c("span",{class:"font-weight-medium"},"Progression de l'valuation",-1))]),l(xn,{"model-value":A.value,color:A.value===100?"success":"info",height:"8",rounded:"",class:"mb-2"},null,8,["model-value","color"]),c("div",Ng,z(Object.keys(k.value.scores).length)+" critres sur "+z(S.value)+" valus ("+z(A.value)+"%) ",1)]),_:1})]),_:1})])):Ve("",!0)]),_:1},8,["modelValue"])]),_:1}),l(Ke),l(Ye,{class:"pa-6"},{default:r(()=>[l(re,{color:"grey-darken-1",variant:"text",onClick:Cl,"prepend-icon":"mdi-close"},{default:r(()=>V[61]||(V[61]=[_(" Annuler ")])),_:1,__:[61]}),l(Ze),l(re,{color:"primary",variant:"elevated",onClick:Et,loading:t.value,disabled:!F.value,"prepend-icon":"mdi-check"},{default:r(()=>[_(z(k.value._id?"Modifier":"Crer"),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})):Ve("",!0)]),_:1},8,["modelValue"]),l(lt,{modelValue:N.value,"onUpdate:modelValue":V[15]||(V[15]=O=>N.value=O),"max-width":"400px"},{default:r(()=>[l(Be,null,{default:r(()=>[l(ze,{class:"text-h5"},{default:r(()=>V[62]||(V[62]=[_("Confirmation de suppression")])),_:1,__:[62]}),l(Ne,null,{default:r(()=>V[63]||(V[63]=[_(" tes-vous sr de vouloir supprimer cette valuation ? Cette action est irrversible. ")])),_:1,__:[63]}),l(Ye,null,{default:r(()=>[l(Ze),l(re,{color:"grey-darken-1",variant:"text",onClick:V[14]||(V[14]=O=>N.value=!1)},{default:r(()=>V[64]||(V[64]=[_(" Annuler ")])),_:1,__:[64]}),l(re,{color:"error",onClick:hr},{default:r(()=>V[65]||(V[65]=[_(" Supprimer ")])),_:1,__:[65]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(wl,{modelValue:H.value.show,"onUpdate:modelValue":V[17]||(V[17]=O=>H.value.show=O),color:H.value.color,timeout:"5000"},{actions:r(()=>[l(re,{variant:"text",onClick:V[16]||(V[16]=O=>H.value.show=!1)},{default:r(()=>V[66]||(V[66]=[_("Fermer")])),_:1,__:[66]})]),default:r(()=>[_(z(H.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},Lg=Ut(Fg,[["__scopeId","data-v-f5227388"]]),zg={__name:"ExportPage",setup(e){return(n,t)=>(Y(),fe(sl,{fluid:""},{default:r(()=>[l(Ae,null,{default:r(()=>[l(se,{cols:"12"},{default:r(()=>[l(Be,{class:"pa-4"},{default:r(()=>[l(ze,null,{default:r(()=>t[0]||(t[0]=[_("Export des valuations")])),_:1,__:[0]}),l(Ne)]),_:1})]),_:1})]),_:1})]),_:1}))}},Og=[{path:"/",redirect:"/login"},{path:"/login",component:Hd},{path:"/register",component:Xd},{path:"/dashboard",component:tc},{path:"/students",component:Wv},{path:"/groups",component:lf},{path:"/promotions",component:gf},{path:"/subgroups",component:Lf},{path:"/forms",component:km},{path:"/evaluations",component:Lg},{path:"/export",component:zg}],fr=Ar({history:Er(),routes:Og});fr.beforeEach((e,n,t)=>{const a=localStorage.getItem("token");if(["/login","/register"].includes(e.path))return e.path==="/login"&&a?t("/dashboard"):t();if(!a)return t("/login");t()});const Rg=ci({icons:{defaultSet:"mdi",aliases:fi,sets:{mdi:vi}}});$r(fd).use(Rg).use(fr).mount("#app");
